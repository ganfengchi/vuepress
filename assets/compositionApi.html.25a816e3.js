import{_ as r,o as e,c as o,a as n,d as s,w as a,T as l,e as p,b as u,r as k,g as i}from"./app.aec41091.js";const d={},v={class:"table-of-contents"},m=u(`<h3 id="composition-api-\u7EC4\u5408\u5F0F-api" tabindex="-1"><a class="header-anchor" href="#composition-api-\u7EC4\u5408\u5F0F-api" aria-hidden="true">#</a> composition Api\uFF08\u7EC4\u5408\u5F0F api\uFF09</h3><p>\u4E3A\u4E86\u8BA9\u76F8\u5173\u4EE3\u7801\u66F4\u7D27\u51D1 vue3 \u63D0\u51FA\u4E86\u7EC4\u5408\u5F0F api\uFF0C\u7EC4\u5408\u5F0F api \u80FD\u5C06\u540C\u4E00\u4E2A\u903B\u8F91\u5173\u6CE8\u70B9\u76F8\u5173\u4EE3\u7801\u6536\u96C6\u5728\u4E00\u8D77\u3002 \u7EC4\u5408\u5F0F api \u7684\u5165\u53E3\u5C31\u662F setup \u65B9\u6CD5\u3002<br></p><p>\u7528\u5B98\u65B9\u8BED\u8A00\u8BF4\uFF0Csetup \u662F\u4E00\u4E2A\u7EC4\u4EF6\u9009\u9879\uFF0C\u5728\u7EC4\u4EF6\u88AB\u521B\u5EFA\u4E4B\u524D\uFF0Cprops\xA0 \u88AB\u89E3\u6790\u4E4B\u540E\u6267\u884C\u3002\u5B83\u662F\u7EC4\u5408\u5F0F API \u7684\u5165\u53E3\u3002<br> setup \u7684\u5199\u6CD5\u6709\u4E24\u79CD\uFF0C\u53EF\u4EE5\u8DDF vue2 \u4E00\u6837\u76F4\u63A5\u5BFC\u51FA\u4E5F\u53EF\u4EE5\u5BFC\u51FA defineComponent \u5BF9\u8C61\u3002\u82E5\u8981\u5BF9\u4F20\u9012\u7ED9 \xA0setup()\xA0 \u7684\u53C2\u6570\u8FDB\u884C\u7C7B\u578B\u63A8\u65AD\uFF0C\u4F60\u9700\u8981\u4F7F\u7528 \xA0defineComponent\u3002</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// \u76F4\u63A5export</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">import</span> <span class="token punctuation">{</span> defineComponent <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span>
<span class="token comment">// \u5BFC\u51FAdefineComponent\u5BF9\u8C61</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineComponent</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u6267\u884C\u65F6\u673A" tabindex="-1"><a class="header-anchor" href="#\u6267\u884C\u65F6\u673A" aria-hidden="true">#</a> \u6267\u884C\u65F6\u673A</h3><p>\u4ECE\u751F\u547D\u5468\u671F\u7684\u89D2\u5EA6\u6765\u770B\uFF0C\u5B83\u4F1A\u5728 beforeCreate \u4E4B\u524D\u6267\u884C\u3002\u4E5F\u5C31\u662F\u521B\u5EFA\u7EC4\u4EF6\u4F1A\u4F9D\u6B21\u6267\u884C setup\u3001beforeCreate\u3001create\u3002</p><h3 id="this-\u6307\u5411" tabindex="-1"><a class="header-anchor" href="#this-\u6307\u5411" aria-hidden="true">#</a> this \u6307\u5411</h3><p>\u5728 setup \u4E2D\u4F60\u5E94\u8BE5\u907F\u514D\u4F7F\u7528 this\uFF0C\u56E0\u4E3A\u5B83\u4E0D\u4F1A\u627E\u5230\u7EC4\u4EF6\u5B9E\u4F8B\u3002setup \u7684\u8C03\u7528\u53D1\u751F\u5728 data property\u3001computed property \u6216 methods \u88AB\u89E3\u6790\u4E4B\u524D\uFF0C\u6240\u4EE5\u5B83\u4EEC\u65E0\u6CD5\u5728 setup \u4E2D\u88AB\u83B7\u53D6\u3002</p><h3 id="\u53C2\u6570" tabindex="-1"><a class="header-anchor" href="#\u53C2\u6570" aria-hidden="true">#</a> \u53C2\u6570</h3><p>setup \u9009\u9879\u662F\u4E00\u4E2A\u63A5\u6536 props \u548C context \u7684\u51FD\u6570\u3002</p><h3 id="props" tabindex="-1"><a class="header-anchor" href="#props" aria-hidden="true">#</a> props</h3><p>setup \u51FD\u6570\u4E2D\u7684\u7B2C\u4E00\u4E2A\u53C2\u6570\u662F props\u3002props \u5C31\u662F\u6211\u4EEC\u7236\u7EC4\u4EF6\u7ED9\u5B50\u7EC4\u4EF6\u4F20\u9012\u7684\u53C2\u6570\u3002<br></p><p>\u6B63\u5982\u5728\u4E00\u4E2A\u6807\u51C6\u7EC4\u4EF6\u4E2D\u6240\u671F\u671B\u7684\u90A3\u6837\uFF0Csetup \u51FD\u6570\u4E2D\u7684 props \u662F\u54CD\u5E94\u5F0F\u7684\uFF0C\u5F53\u4F20\u5165\u65B0\u7684 prop \u65F6\uFF0C\u5B83\u5C06\u88AB\u66F4\u65B0\u3002<br></p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> defineComponent <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineComponent</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">title</span><span class="token operator">:</span> String<span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>props<span class="token punctuation">.</span>title<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>\u56E0\u4E3A props \u662F\u54CD\u5E94\u5F0F\u7684\uFF0C\u4F60\u4E0D\u80FD\u4F7F\u7528 ES6 \u89E3\u6784\uFF0C\u5B83\u4F1A\u6D88\u9664 prop \u7684\u54CD\u5E94\u6027\u3002 \u5982\u679C\u9700\u8981\u89E3\u6784\u8BF7\u4F7F\u7528 toRefs \u65B9\u6CD5\u3002</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> defineComponent<span class="token punctuation">,</span> toRefs <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineComponent</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">title</span><span class="token operator">:</span> String<span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> title <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">toRefs</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>title<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u5982\u679C title \u662F\u53EF\u9009\u7684 prop\uFF0C\u5219\u4F20\u5165\u7684 props \u4E2D\u53EF\u80FD\u6CA1\u6709 title \u3002\u5728\u8FD9\u79CD\u60C5\u51B5\u4E0B\uFF0CtoRefs \u5C06\u4E0D\u4F1A\u4E3A title \u521B\u5EFA\u4E00\u4E2A ref \u3002\u4F60\u9700\u8981\u4F7F\u7528 toRef \u66FF\u4EE3\u5B83\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> defineComponent<span class="token punctuation">,</span> toRef <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineComponent</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">title</span><span class="token operator">:</span> String<span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> title <span class="token operator">=</span> <span class="token function">toRef</span><span class="token punctuation">(</span>props<span class="token punctuation">,</span> <span class="token string">&quot;title&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>title<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="context" tabindex="-1"><a class="header-anchor" href="#context" aria-hidden="true">#</a> context</h3><p>context\xA0 \u662F\u4E00\u4E2A\u666E\u901A\u7684 JavaScript \u5BF9\u8C61\uFF0C\u4E5F\u5C31\u662F\u8BF4\uFF0C\u5B83\u4E0D\u662F\u54CD\u5E94\u5F0F\u7684\uFF0C\u8FD9\u610F\u5473\u7740\u4F60\u53EF\u4EE5\u5B89\u5168\u5730\u5BF9 \xA0context\xA0 \u4F7F\u7528 ES6 \u89E3\u6784\u3002</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> defineComponent <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineComponent</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token parameter">props<span class="token punctuation">,</span> context</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// Attribute (\u975E\u54CD\u5E94\u5F0F\u5BF9\u8C61\uFF0C\u7B49\u540C\u4E8E $attrs)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>context<span class="token punctuation">.</span>attrs<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// \u63D2\u69FD (\u975E\u54CD\u5E94\u5F0F\u5BF9\u8C61\uFF0C\u7B49\u540C\u4E8E $slots)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>context<span class="token punctuation">.</span>slots<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// \u89E6\u53D1\u4E8B\u4EF6 (\u65B9\u6CD5\uFF0C\u7B49\u540C\u4E8E $emit)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>context<span class="token punctuation">.</span>emit<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// \u66B4\u9732\u516C\u5171 property (\u51FD\u6570)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>context<span class="token punctuation">.</span>expose<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>attrs\xA0 \u548C \xA0slots\xA0 \u662F\u6709\u72B6\u6001\u7684\u5BF9\u8C61\uFF0C\u5B83\u4EEC\u603B\u662F\u4F1A\u968F\u7EC4\u4EF6\u672C\u8EAB\u7684\u66F4\u65B0\u800C\u66F4\u65B0\u3002\u8FD9\u610F\u5473\u7740\u4F60\u5E94\u8BE5\u907F\u514D\u5BF9\u5B83\u4EEC\u8FDB\u884C\u89E3\u6784\uFF0C\u5E76\u59CB\u7EC8\u4EE5 \xA0attrs.x\xA0 \u6216 \xA0slots.x\xA0 \u7684\u65B9\u5F0F\u5F15\u7528 property\u3002\u8BF7\u6CE8\u610F\uFF0C\u4E0E \xA0props\xA0 \u4E0D\u540C\uFF0Cattrs\xA0 \u548C \xA0slots\xA0 \u7684 <br> property \u662F\u975E\u54CD\u5E94\u5F0F\u7684\u3002\u5982\u679C\u4F60\u6253\u7B97\u6839\u636E \xA0attrs\xA0 \u6216 \xA0slots\xA0 \u7684\u66F4\u6539\u5E94\u7528\u526F\u4F5C\u7528\uFF0C\u90A3\u4E48\u5E94\u8BE5\u5728 \xA0onBeforeUpdate\xA0 \u751F\u547D\u5468\u671F\u94A9\u5B50\u4E2D\u6267\u884C\u6B64\u64CD\u4F5C\u3002<br> \u8FD9\u91CC\u6211\u4EEC\u91CD\u70B9\u8BF4\u4E0B expose \u7684\u4F7F\u7528\u3002<br> \u5047\u5982\u6211\u4EEC\u60F3\u5728\u7236\u7EC4\u4EF6\u4E2D\u76F4\u63A5\u8C03\u7528\u5B50\u7EC4\u4EF6\u7684\u65B9\u6CD5\u8BE5\u600E\u4E48\u505A\u5462\uFF1F\u6211\u4EEC\u5C31\u53EF\u4EE5\u5728\u5B50\u7EC4\u4EF6\u4E2D\u4F7F\u7528 expose \u628A\u5C5E\u6027\u6216\u65B9\u6CD5\u66B4\u9732\u51FA\u53BB\u3002\u5728\u7236\u7EC4\u4EF6\u6211\u4EEC\u5C31\u53EF\u4EE5\u901A\u8FC7\u5B50\u7EC4\u4EF6\u7684 ref \u76F4\u63A5\u8C03\u7528\u4E86\u3002<br> \u4F7F\u7528\u7684\u65F6\u5019\u9700\u8981\u6CE8\u610F\uFF1A</p><ol><li><p>\u5F53\u7EC4\u4EF6\u6CA1\u5B9A\u4E49 expose \u66B4\u9732\u5185\u5BB9\u7684\u65F6\u5019\uFF0C\u901A\u8FC7 ref \u83B7\u53D6\u5230\u7684\u5C31\u662F\u7EC4\u4EF6\u81EA\u8EAB\u7684\u5185\u5BB9\uFF0C\u4E5F\u5C31\u662F setup \u51FD\u6570 return \u7684\u5185\u5BB9\u3002</p></li><li><p>\u5F53\u5B9A\u4E49\u4E86 expose \u66B4\u9732\u5185\u5BB9\u7684\u65F6\u5019\uFF0C\u901A\u8FC7 ref \u83B7\u53D6\u5230\u7684\u5C31\u662F\u7EC4\u4EF6 expose \u66B4\u9732\u5185\u5BB9\uFF0C\u5E76\u4E14 setup \u51FD\u6570 return \u7684\u5185\u5BB9\u4F1A\u5931\u6548\uFF0C\u4E5F\u5C31\u662F\u4F1A\u88AB\u8986\u76D6\u3002</p></li></ol><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>// \u5B50\u7EC4\u4EF6
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>child<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">import</span> <span class="token punctuation">{</span> defineComponent <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>
  <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineComponent</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token function">setup</span><span class="token punctuation">(</span><span class="token parameter">props<span class="token punctuation">,</span> <span class="token punctuation">{</span> expose <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> <span class="token function-variable function">childSay</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;childSay&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">;</span>
      <span class="token keyword">const</span> sex <span class="token operator">=</span> <span class="token string">&quot;male&quot;</span><span class="token punctuation">;</span>

      <span class="token comment">// \u5982\u679C\u5B9A\u4E49\u4E86\u4F1A\u8986\u76D6return\u4E2D\u7684\u5185\u5BB9</span>
      <span class="token comment">// expose({</span>
      <span class="token comment">//   sex</span>
      <span class="token comment">// });</span>

      <span class="token keyword">return</span> <span class="token punctuation">{</span>
        childSay<span class="token punctuation">,</span>
        childSay<span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

// \u7236\u7EC4\u4EF6
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>LifeChild</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>childRef<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">import</span> <span class="token punctuation">{</span> defineComponent<span class="token punctuation">,</span> onMounted<span class="token punctuation">,</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>

  <span class="token keyword">import</span> LifeChild <span class="token keyword">from</span> <span class="token string">&quot;@/components/LifeChild&quot;</span><span class="token punctuation">;</span>

  <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineComponent</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">components</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      LifeChild<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> childRef <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token function">onMounted</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token comment">// \u4F7F\u7528\u5B50\u7EC4\u4EF6\u66B4\u9732\u7684\u5C5E\u6027\u548C\u65B9\u6CD5</span>
        childRef<span class="token punctuation">.</span>value<span class="token punctuation">.</span><span class="token function">childSay</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// childSay</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>childRef<span class="token punctuation">.</span>value<span class="token punctuation">.</span>sex<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// male</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token keyword">return</span> <span class="token punctuation">{</span>
        childRef<span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u8FD4\u56DE\u503C" tabindex="-1"><a class="header-anchor" href="#\u8FD4\u56DE\u503C" aria-hidden="true">#</a> \u8FD4\u56DE\u503C</h3><p>setup\xA0 \u8FD4\u56DE\u7684\u6240\u6709\u5185\u5BB9\u90FD\u66B4\u9732\u7ED9\u7EC4\u4EF6\u7684\u5176\u4F59\u90E8\u5206 (\u8BA1\u7B97\u5C5E\u6027\u3001\u65B9\u6CD5\u3001\u751F\u547D\u5468\u671F\u94A9\u5B50\u7B49\u7B49) \u4EE5\u53CA\u7EC4\u4EF6\u7684\u6A21\u677F\u3002\u6240\u4EE5\u6211\u4EEC\u5728\u6A21\u677F\u4E2D\u9700\u8981\u4F7F\u7528\u5230\u7684\u6570\u636E\u90FD\u9700\u8981\u901A\u8FC7 setup \u65B9\u6CD5 return \u51FA\u6765\u3002<br> \u4E0A\u9762\u7684\u8BDD\u600E\u4E48\u7406\u89E3\u5462\uFF1F\u5C31\u662F\u6211\u4EEC\u5728\u6A21\u677F\uFF0C\u6216\u8005 vue2 \u9009\u9879\u5F0F\u5199\u6CD5\u7684\u8BA1\u7B97\u5C5E\u6027\u3001\u65B9\u6CD5\u3001\u751F\u547D\u5468\u671F\u94A9\u5B50\u7B49\u7B49\u4E2D\u4F7F\u7528\u7684\u6570\u636E\u90FD\u9700\u8981\u5728 setup \u65B9\u6CD5\u4E2D\u901A\u8FC7 return \u8FD4\u56DE\u51FA\u6765\u3002</p><h3 id="\u7ED3\u5408\u6A21\u677F\u4F7F\u7528" tabindex="-1"><a class="header-anchor" href="#\u7ED3\u5408\u6A21\u677F\u4F7F\u7528" aria-hidden="true">#</a> \u7ED3\u5408\u6A21\u677F\u4F7F\u7528</h3><p>\u5982\u679C setup \u8FD4\u56DE\u4E00\u4E2A\u5BF9\u8C61\uFF0C\u90A3\u4E48\u8BE5\u5BF9\u8C61\u7684 property \u4EE5\u53CA\u4F20\u9012\u7ED9 setup \u7684 props \u53C2\u6570\u4E2D\u7684 property \u5C31\u90FD\u53EF\u4EE5\u5728\u6A21\u677F\u4E2D\u8BBF\u95EE\u5230\u3002</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>{{ collectionName }}: {{ number }} {{ user.name }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">import</span> <span class="token punctuation">{</span> ref<span class="token punctuation">,</span> reactive<span class="token punctuation">,</span> defineComponent <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>

  <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineComponent</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token comment">// \u8FD9\u4E2A\u5C5E\u6027\u80FD\u76F4\u63A5\u5728\u6A21\u677F\u4E2D\u4F7F\u7528</span>
      <span class="token literal-property property">collectionName</span><span class="token operator">:</span> String<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">setup</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// \u5728setup\u51FD\u6570\u4E2D\u9700\u8981\u901A\u8FC7props\u83B7\u53D6\u3002</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>props<span class="token punctuation">.</span>collectionName<span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token comment">// \u5B9A\u4E49\u54CD\u5E94\u5F0F\u6570\u636E</span>
      <span class="token keyword">const</span> number <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">const</span> user <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;randy&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token comment">// \u66B4\u9732\u7ED9 template</span>
      <span class="token keyword">return</span> <span class="token punctuation">{</span>
        number<span class="token punctuation">,</span>
        user<span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u7ED3\u5408\u6E32\u67D3\u51FD\u6570\u4F7F\u7528" tabindex="-1"><a class="header-anchor" href="#\u7ED3\u5408\u6E32\u67D3\u51FD\u6570\u4F7F\u7528" aria-hidden="true">#</a> \u7ED3\u5408\u6E32\u67D3\u51FD\u6570\u4F7F\u7528</h3><p>setup\xA0 \u8FD8\u53EF\u4EE5\u8FD4\u56DE\u4E00\u4E2A\u6E32\u67D3\u51FD\u6570\uFF0C\u8BE5\u51FD\u6570\u53EF\u4EE5\u76F4\u63A5\u4F7F\u7528\u5728\u540C\u4E00\u4F5C\u7528\u57DF\u4E2D\u58F0\u660E\u7684\u54CD\u5E94\u5F0F\u72B6\u6001\u3002</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> h<span class="token punctuation">,</span> ref<span class="token punctuation">,</span> reactive <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> number <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> user <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;randy&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// \u8BF7\u6CE8\u610F\u8FD9\u91CC\u6211\u4EEC\u9700\u8981\u663E\u5F0F\u4F7F\u7528 ref \u7684 value</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">h</span><span class="token punctuation">(</span><span class="token string">&quot;div&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>number<span class="token punctuation">.</span>value<span class="token punctuation">,</span> user<span class="token punctuation">.</span>name<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u8FD4\u56DE\u4E00\u4E2A\u6E32\u67D3\u51FD\u6570\u5C06\u963B\u6B62\u6211\u4EEC\u8FD4\u56DE\u4EFB\u4F55\u5176\u5B83\u7684\u4E1C\u897F\u3002\u6211\u4EEC\u53EF\u4EE5\u901A\u8FC7\u6211\u4EEC\u4E0A\u9762\u4ECB\u7ECD\u7684 \xA0expose\xA0 \u6765\u89E3\u51B3\u8FD9\u4E2A\u95EE\u9898\uFF0C\u7ED9\u5B83\u4F20\u9012\u4E00\u4E2A\u5BF9\u8C61\uFF0C\u5176\u4E2D\u5B9A\u4E49\u7684 property \u5C06\u53EF\u4EE5\u88AB\u5916\u90E8\u7EC4\u4EF6\u5B9E\u4F8B\u8BBF\u95EE\u3002</p><h3 id="\u5355\u6587\u4EF6-setup" tabindex="-1"><a class="header-anchor" href="#\u5355\u6587\u4EF6-setup" aria-hidden="true">#</a> \u5355\u6587\u4EF6 setup</h3><p>\u8981\u4F7F\u7528\u8FD9\u4E2A\u8BED\u6CD5\uFF0C\u9700\u8981\u5C06 \xA0setup\xA0attribute \u6DFB\u52A0\u5230 \xA0 script\xA0 \u4EE3\u7801\u5757\u4E0A\uFF1A</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;hello script setup&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u91CC\u9762\u7684\u4EE3\u7801\u4F1A\u88AB\u7F16\u8BD1\u6210\u7EC4\u4EF6 \xA0setup()\xA0 \u51FD\u6570\u7684\u5185\u5BB9\u3002\u8FD9\u610F\u5473\u7740\u4E0E\u666E\u901A\u7684 \xA0script\xA0 \u53EA\u5728\u7EC4\u4EF6\u88AB\u9996\u6B21\u5F15\u5165\u7684\u65F6\u5019\u6267\u884C\u4E00\u6B21\u4E0D\u540C\uFF0Cscript setup\xA0 \u4E2D\u7684\u4EE3\u7801\u4F1A\u5728\u6BCF\u6B21\u7EC4\u4EF6\u5B9E\u4F8B\u88AB\u521B\u5EFA\u7684\u65F6\u5019\u6267\u884C\u3002</p><h3 id="\u9876\u5C42\u7684\u7ED1\u5B9A\u4F1A\u88AB\u66B4\u9732\u7ED9\u6A21\u677F" tabindex="-1"><a class="header-anchor" href="#\u9876\u5C42\u7684\u7ED1\u5B9A\u4F1A\u88AB\u66B4\u9732\u7ED9\u6A21\u677F" aria-hidden="true">#</a> \u9876\u5C42\u7684\u7ED1\u5B9A\u4F1A\u88AB\u66B4\u9732\u7ED9\u6A21\u677F</h3><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token comment">// \u5F53\u4F7F\u7528 &lt;script setup&gt; \u7684\u65F6\u5019\uFF0C\u4EFB\u4F55\u5728 &lt;script setup&gt; \u58F0\u660E\u7684\u9876\u5C42\u7684\u7ED1\u5B9A (\u5305\u62EC\u53D8\u91CF\uFF0C\u51FD\u6570\u58F0\u660E\uFF0C\u4EE5\u53CA import \u5F15\u5165\u7684\u5185\u5BB9) \u90FD\u80FD\u5728\u6A21\u677F\u4E2D\u76F4\u63A5\u4F7F\u7528\uFF1A</span>
  <span class="token comment">// \u53D8\u91CF</span>
  <span class="token keyword">const</span> msg <span class="token operator">=</span> <span class="token string">&quot;Hello!&quot;</span><span class="token punctuation">;</span>

  <span class="token comment">// \u51FD\u6570</span>
  <span class="token keyword">function</span> <span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>msg<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>log<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>{{ msg }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>import \u5BFC\u5165\u7684\u5185\u5BB9\u4E5F\u4F1A\u4EE5\u540C\u6837\u7684\u65B9\u5F0F\u66B4\u9732\u3002\u610F\u5473\u7740\u53EF\u4EE5\u5728\u6A21\u677F\u8868\u8FBE\u5F0F\u4E2D\u76F4\u63A5\u4F7F\u7528\u5BFC\u5165\u7684 helper \u51FD\u6570\uFF0C\u5E76\u4E0D\u9700\u8981\u901A\u8FC7 \xA0methods\xA0 \u9009\u9879\u6765\u66B4\u9732\u5B83\uFF1A</p></blockquote><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">import</span> <span class="token punctuation">{</span> capitalize <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;./helpers&quot;</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>{{ capitalize(&#39;hello&#39;) }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u54CD\u5E94\u5F0F" tabindex="-1"><a class="header-anchor" href="#\u54CD\u5E94\u5F0F" aria-hidden="true">#</a> \u54CD\u5E94\u5F0F</h3><p>\u54CD\u5E94\u5F0F\u72B6\u6001\u9700\u8981\u660E\u786E\u4F7F\u7528\u54CD\u5E94\u5F0F APIs \u6765\u521B\u5EFA\u3002\u548C\u4ECE \xA0setup()\xA0 \u51FD\u6570\u4E2D\u8FD4\u56DE\u503C\u4E00\u6837\uFF0Cref \u503C\u5728\u6A21\u677F\u4E2D\u4F7F\u7528\u7684\u65F6\u5019\u4F1A\u81EA\u52A8\u89E3\u5305\uFF1A</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">import</span> <span class="token punctuation">{</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> count <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>count++<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>{{ count }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u4F7F\u7528\u7EC4\u4EF6" tabindex="-1"><a class="header-anchor" href="#\u4F7F\u7528\u7EC4\u4EF6" aria-hidden="true">#</a> \u4F7F\u7528\u7EC4\u4EF6</h3><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token comment">// &lt;script setup&gt;  \u8303\u56F4\u91CC\u7684\u503C\u4E5F\u80FD\u88AB\u76F4\u63A5\u4F5C\u4E3A\u81EA\u5B9A\u4E49\u7EC4\u4EF6\u7684\u6807\u7B7E\u540D\u4F7F\u7528\uFF1A</span>
  <span class="token keyword">import</span> MyComponent <span class="token keyword">from</span> <span class="token string">&quot;./MyComponent.vue&quot;</span><span class="token punctuation">;</span>
  <span class="token comment">// \u5C06 MyComponent \u770B\u505A\u88AB\u4E00\u4E2A\u53D8\u91CF\u6240\u5F15\u7528\u3002\u5982\u679C\u4F60\u4F7F\u7528\u8FC7 JSX\uFF0C\u5728\u8FD9\u91CC\u7684\u4F7F\u7528\u5B83\u7684\u5FC3\u667A\u6A21\u578B\u662F\u4E00\u6837\u7684\u3002\u5176 kebab-case \u683C\u5F0F\u7684 &lt;my-component&gt; \u540C\u6837\u80FD\u5728\u6A21\u677F\u4E2D\u4F7F\u7528\u3002\u4E0D\u8FC7\uFF0C\u6211\u4EEC\u5F3A\u70C8\u5EFA\u8BAE\u4F7F\u7528 PascalCase \u683C\u5F0F\u4EE5\u4FDD\u6301\u4E00\u81F4\u6027\u3002\u540C\u65F6\u4E5F\u6709\u52A9\u4E8E\u533A\u5206\u539F\u751F\u7684\u81EA\u5B9A\u4E49\u5143\u7D20</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MyComponent</span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u52A8\u6001\u7EC4\u4EF6" tabindex="-1"><a class="header-anchor" href="#\u52A8\u6001\u7EC4\u4EF6" aria-hidden="true">#</a> \u52A8\u6001\u7EC4\u4EF6</h3><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token comment">// \u7531\u4E8E\u7EC4\u4EF6\u88AB\u5F15\u7528\u4E3A\u53D8\u91CF\u800C\u4E0D\u662F\u4F5C\u4E3A\u5B57\u7B26\u4E32\u952E\u6765\u6CE8\u518C\u7684\uFF0C\u5728 &lt;script setup&gt; \u4E2D\u8981\u4F7F\u7528\u52A8\u6001\u7EC4\u4EF6\u7684\u65F6\u5019\uFF0C\u5C31\u5E94\u8BE5\u4F7F\u7528\u52A8\u6001\u7684 :is \u6765\u7ED1\u5B9A\uFF1A</span>
  <span class="token keyword">import</span> Foo <span class="token keyword">from</span> <span class="token string">&quot;./Foo.vue&quot;</span><span class="token punctuation">;</span>
  <span class="token keyword">import</span> Bar <span class="token keyword">from</span> <span class="token string">&quot;./Bar.vue&quot;</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>component</span> <span class="token attr-name">:is</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Foo<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>component</span> <span class="token attr-name">:is</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>someCondition ? Foo : Bar<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u9012\u5F52\u7EC4\u4EF6" tabindex="-1"><a class="header-anchor" href="#\u9012\u5F52\u7EC4\u4EF6" aria-hidden="true">#</a> \u9012\u5F52\u7EC4\u4EF6</h3><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// \u4E00\u4E2A\u5355\u6587\u4EF6\u7EC4\u4EF6\u53EF\u4EE5\u901A\u8FC7\u5B83\u7684\u6587\u4EF6\u540D\u88AB\u5176\u81EA\u5DF1\u6240\u5F15\u7528\u3002\u4F8B\u5982\uFF1A\u540D\u4E3A FooBar.vue \u7684\u7EC4\u4EF6\u53EF\u4EE5\u5728\u5176\u6A21\u677F\u4E2D\u7528 &lt;FooBar/&gt; \u5F15\u7528\u5B83\u81EA\u5DF1\u3002</span>
<span class="token comment">// \u8BF7\u6CE8\u610F\u8FD9\u79CD\u65B9\u5F0F\u76F8\u6BD4\u4E8E import \u5BFC\u5165\u7684\u7EC4\u4EF6\u4F18\u5148\u7EA7\u66F4\u4F4E\u3002\u5982\u679C\u6709\u547D\u540D\u7684 import \u5BFC\u5165\u548C\u7EC4\u4EF6\u7684\u63A8\u65AD\u540D\u51B2\u7A81\u4E86\uFF0C\u53EF\u4EE5\u4F7F\u7528 import \u522B\u540D\u5BFC\u5165\uFF1A</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> FooBar <span class="token keyword">as</span> FooBarChild <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;./components&quot;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>###\u547D\u540D\u7A7A\u95F4\u7EC4\u4EF6</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token comment">// \u53EF\u4EE5\u4F7F\u7528\u5E26\u70B9\u7684\u7EC4\u4EF6\u6807\u8BB0\uFF0C\u4F8B\u5982 &lt;Foo.Bar&gt; \u6765\u5F15\u7528\u5D4C\u5957\u5728\u5BF9\u8C61\u5C5E\u6027\u4E2D\u7684\u7EC4\u4EF6\u3002\u8FD9\u5728\u9700\u8981\u4ECE\u5355\u4E2A\u6587\u4EF6\u4E2D\u5BFC\u5165\u591A\u4E2A\u7EC4\u4EF6\u7684\u65F6\u5019\u975E\u5E38\u6709\u7528\uFF1A</span>
  <span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> Form <span class="token keyword">from</span> <span class="token string">&quot;./form-components&quot;</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Form.Input</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Form.Label</span><span class="token punctuation">&gt;</span></span>label<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Form.Label</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Form.Input</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u4F7F\u7528\u81EA\u5B9A\u4E49\u6307\u4EE4" tabindex="-1"><a class="header-anchor" href="#\u4F7F\u7528\u81EA\u5B9A\u4E49\u6307\u4EE4" aria-hidden="true">#</a> \u4F7F\u7528\u81EA\u5B9A\u4E49\u6307\u4EE4</h3><p>\u5168\u5C40\u6CE8\u518C\u7684\u81EA\u5B9A\u4E49\u6307\u4EE4\u5C06\u4EE5\u7B26\u5408\u9884\u671F\u7684\u65B9\u5F0F\u5DE5\u4F5C\uFF0C\u4E14\u672C\u5730\u6CE8\u518C\u7684\u6307\u4EE4\u53EF\u4EE5\u76F4\u63A5\u5728\u6A21\u677F\u4E2D\u4F7F\u7528\uFF0C\u5C31\u50CF\u4E0A\u6587\u6240\u63D0\u53CA\u7684\u7EC4\u4EF6\u4E00\u6837\u3002 \u4F46\u8FD9\u91CC\u6709\u4E00\u4E2A\u9700\u8981\u6CE8\u610F\u7684\u9650\u5236\uFF1A\u5FC5\u987B\u4EE5 \xA0vNameOfDirective\xA0 \u7684\u5F62\u5F0F\u6765\u547D\u540D\u672C\u5730\u81EA\u5B9A\u4E49\u6307\u4EE4\uFF0C\u4EE5\u4F7F\u5F97\u5B83\u4EEC\u53EF\u4EE5\u76F4\u63A5\u5728\u6A21\u677F\u4E2D\u4F7F\u7528\u3002</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">const</span> vMyDirective <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">beforeMount</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">el</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token comment">// \u5728\u5143\u7D20\u4E0A\u505A\u4E9B\u64CD\u4F5C</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span> <span class="token attr-name">v-my-directive</span><span class="token punctuation">&gt;</span></span>This is a Heading<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token comment">// \u5BFC\u5165\u7684\u6307\u4EE4\u540C\u6837\u80FD\u591F\u5DE5\u4F5C\uFF0C\u5E76\u4E14\u80FD\u591F\u901A\u8FC7\u91CD\u547D\u540D\u6765\u4F7F\u5176\u7B26\u5408\u547D\u540D\u89C4\u8303</span>
  <span class="token keyword">import</span> <span class="token punctuation">{</span> myDirective <span class="token keyword">as</span> vMyDirective <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;./MyDirective.js&quot;</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="defineprops-\u548C-defineemits" tabindex="-1"><a class="header-anchor" href="#defineprops-\u548C-defineemits" aria-hidden="true">#</a> defineProps\xA0 \u548C \xA0defineEmits</h3><div class="custom-container tip"><p class="custom-container-title"></p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token comment">// \u5728 &lt;script setup&gt; \u4E2D\u5FC5\u987B\u4F7F\u7528 defineProps \u548C defineEmits API \u6765\u58F0\u660E props \u548C emits \uFF0C\u5B83\u4EEC\u5177\u5907\u5B8C\u6574\u7684\u7C7B\u578B\u63A8\u65AD\u5E76\u4E14\u5728 &lt;script setup&gt; \u4E2D\u662F\u76F4\u63A5\u53EF\u7528\u7684\uFF1A</span>
  <span class="token keyword">const</span> props <span class="token operator">=</span> <span class="token function">defineProps</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">foo</span><span class="token operator">:</span> String<span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> emits <span class="token operator">=</span> <span class="token function">defineEmits</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&quot;change&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;delete&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">//\u89E6\u53D1\u4E8B\u4EF6 \u7C7B\u4F3C context.emit()</span>
  <span class="token function">emits</span><span class="token punctuation">(</span><span class="token string">&quot;change&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;randy&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>defineProps\xA0 \u548C \xA0defineEmits\xA0 \u90FD\u662F\u53EA\u5728 \xA0script setup \u4E2D\u624D\u80FD\u4F7F\u7528\u7684\u7F16\u8BD1\u5668\u5B8F\u3002\u4ED6\u4EEC\u4E0D\u9700\u8981\u5BFC\u5165\u4E14\u4F1A\u968F\u7740 \xA0script setup\xA0 \u5904\u7406\u8FC7\u7A0B\u4E00\u540C\u88AB\u7F16\u8BD1\u6389\u3002 defineProps\xA0 \u63A5\u6536\u4E0E \xA0props \u76F8\u540C\u7684\u503C\uFF0CdefineEmits\xA0 \u4E5F\u63A5\u6536 \xA0emits \u76F8\u540C\u7684\u503C\u3002 \u4F20\u5165\u5230 \xA0defineProps\xA0 \u548C \xA0defineEmits\xA0 \u7684\u9009\u9879\u4F1A\u4ECE setup \u4E2D\u63D0\u5347\u5230\u6A21\u5757\u7684\u8303\u56F4\u3002\u56E0\u6B64\uFF0C\u4F20\u5165\u7684\u9009\u9879\u4E0D\u80FD\u5F15\u7528\u5728 setup \u8303\u56F4\u4E2D\u58F0\u660E\u7684\u5C40\u90E8\u53D8\u91CF\u3002\u8FD9\u6837\u505A\u4F1A\u5F15\u8D77\u7F16\u8BD1\u9519\u8BEF\u3002\u4F46\u662F\uFF0C\u5B83\u53EF\u4EE5\u5F15\u7528\u5BFC\u5165\u7684\u7ED1\u5B9A\uFF0C\u56E0\u4E3A\u5B83\u4EEC\u4E5F\u5728\u6A21\u5757\u8303\u56F4\u5185\u3002</p></div><h3 id="defineexpose" tabindex="-1"><a class="header-anchor" href="#defineexpose" aria-hidden="true">#</a> defineExpose</h3><p>\u4F7F\u7528 \xA0script setup&gt;\xA0 \u7684\u7EC4\u4EF6\u662F\u9ED8\u8BA4\u5173\u95ED\u7684\uFF0C\u4E5F\u5373\u901A\u8FC7\u6A21\u677F ref \u6216\u8005 \xA0$parent\xA0 \u94FE\u83B7\u53D6\u5230\u7684\u7EC4\u4EF6\u7684\u516C\u5F00\u5B9E\u4F8B\uFF0C\u4E0D\u4F1A\u66B4\u9732\u4EFB\u4F55\u5728 \xA0script setup&gt;\xA0 \u4E2D\u58F0\u660E\u7684\u7ED1\u5B9A\u3002 \u4E3A\u4E86\u5728 \xA0script setup&gt;\xA0 \u7EC4\u4EF6\u4E2D\u660E\u786E\u8981\u66B4\u9732\u51FA\u53BB\u7684\u5C5E\u6027\uFF0C\u4F7F\u7528 \xA0defineExpose\xA0 \u7F16\u8BD1\u5668\u5B8F\uFF0C\u4ED6\u4E5F\u662F\u4E0D\u9700\u8981\u5BFC\u5165\u4E14\u4F1A\u968F\u7740 \xA0script setup&gt;\xA0 \u5904\u7406\u8FC7\u7A0B\u4E00\u540C\u88AB\u7F16\u8BD1\u6389\u3002</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">import</span> <span class="token punctuation">{</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> b <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">defineExpose</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    a<span class="token punctuation">,</span>
    b<span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!-- \u5F53\u7236\u7EC4\u4EF6\u901A\u8FC7\u6A21\u677F ref \u7684\u65B9\u5F0F\u83B7\u53D6\u5230\u5F53\u524D\u7EC4\u4EF6\u7684\u5B9E\u4F8B\uFF0C\u83B7\u53D6\u5230\u7684\u5B9E\u4F8B\u53EF\u4EE5\u83B7\u53D6\u5230a \u3001b\u5C5E\u6027 (ref \u4F1A\u548C\u5728\u666E\u901A\u5B9E\u4F8B\u4E2D\u4E00\u6837\u88AB\u81EA\u52A8\u89E3\u5305)\u3002\u8DDF\u524D\u9762\u8BF4\u7684expose\u662F\u4E00\u6837\u7684\u3002 --&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="useslots-\u548C-useattrs" tabindex="-1"><a class="header-anchor" href="#useslots-\u548C-useattrs" aria-hidden="true">#</a> useSlots \u548C useAttrs</h3><p>\u5728 \xA0script setup&gt;\xA0 \u4F7F\u7528 \xA0slots\xA0 \u548C \xA0attrs\xA0 \u7684\u60C5\u51B5\u5E94\u8BE5\u662F\u5F88\u7F55\u89C1\u7684\uFF0C\u56E0\u4E3A\u53EF\u4EE5\u5728\u6A21\u677F\u4E2D\u901A\u8FC7 \xA0$slots\xA0\u548C\xA0$attrs\xA0 \u6765\u8BBF\u95EE\u5B83\u4EEC\u3002\u5728\u4F60\u7684\u786E\u9700\u8981\u4F7F\u7528\u5B83\u4EEC\u7684\u7F55\u89C1\u573A\u666F\u4E2D\uFF0C\u53EF\u4EE5\u5206\u522B\u7528 \xA0useSlots\xA0 \u548C \xA0useAttrs\xA0 \u4E24\u4E2A\u8F85\u52A9\u51FD\u6570\uFF1A</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">import</span> <span class="token punctuation">{</span> useSlots<span class="token punctuation">,</span> useAttrs <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> slots <span class="token operator">=</span> <span class="token function">useSlots</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> attrs <span class="token operator">=</span> <span class="token function">useAttrs</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>useSlots\xA0 \u548C \xA0useAttrs\xA0 \u662F\u771F\u5B9E\u7684\u8FD0\u884C\u65F6\u51FD\u6570\uFF0C\u5B83\u4F1A\u8FD4\u56DE\u4E0E \xA0setupContext.slots\xA0 \u548C \xA0setupContext.attrs\xA0 \u7B49\u4EF7\u7684\u503C\uFF0C\u540C\u6837\u4E5F\u80FD\u5728\u666E\u901A\u7684\u7EC4\u5408\u5F0F API \u4E2D\u4F7F\u7528\u3002</p><h3 id="\u4E0E\u666E\u901A\u7684-script-\u4E00\u8D77\u4F7F\u7528" tabindex="-1"><a class="header-anchor" href="#\u4E0E\u666E\u901A\u7684-script-\u4E00\u8D77\u4F7F\u7528" aria-hidden="true">#</a> \u4E0E\u666E\u901A\u7684 \xA0script\xA0 \u4E00\u8D77\u4F7F\u7528</h3><p>script setup&gt;\xA0 \u53EF\u4EE5\u548C\u666E\u901A\u7684 \xA0script&gt;\xA0 \u4E00\u8D77\u4F7F\u7528\u3002\u666E\u901A\u7684 \xA0script&gt;\xA0 \u5728\u6709\u8FD9\u4E9B\u9700\u8981\u7684\u60C5\u51B5\u4E0B\u6216\u8BB8\u4F1A\u88AB\u4F7F\u7528\u5230\uFF1A</p><p>\u65E0\u6CD5\u5728 \xA0script setup&gt;\xA0 \u58F0\u660E\u7684\u9009\u9879\uFF0C\u4F8B\u5982 \xA0inheritAttrs\xA0 \u6216\u901A\u8FC7\u63D2\u4EF6\u542F\u7528\u7684\u81EA\u5B9A\u4E49\u7684\u9009\u9879\u3002 \u58F0\u660E\u547D\u540D\u5BFC\u51FA\u3002 \u8FD0\u884C\u526F\u4F5C\u7528\u6216\u8005\u521B\u5EFA\u53EA\u9700\u8981\u6267\u884C\u4E00\u6B21\u7684\u5BF9\u8C61\u3002</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token comment">// \u666E\u901A &lt;script&gt;, \u5728\u6A21\u5757\u8303\u56F4\u4E0B\u6267\u884C(\u53EA\u6267\u884C\u4E00\u6B21)</span>
  <span class="token function">runSideEffectOnce</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// \u58F0\u660E\u989D\u5916\u7684\u9009\u9879</span>
  <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">inheritAttrs</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token literal-property property">customOptions</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token comment">// \u5728 setup() \u4F5C\u7528\u57DF\u4E2D\u6267\u884C (\u5BF9\u6BCF\u4E2A\u5B9E\u4F8B\u7686\u5982\u6B64)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>\u8BE5\u573A\u666F\u4E0B\u4E0D\u652F\u6301\u4F7F\u7528 render \u51FD\u6570\u3002\u8BF7\u4F7F\u7528\u4E00\u4E2A\u666E\u901A\u7684 script&gt; \u7ED3\u5408 setup \u9009\u9879\u6765\u4EE3\u66FF\u3002</p></blockquote><h3 id="\u9876\u5C42-await" tabindex="-1"><a class="header-anchor" href="#\u9876\u5C42-await" aria-hidden="true">#</a> \u9876\u5C42 \xA0await</h3><div class="custom-container tip"><p class="custom-container-title"></p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token comment">// &lt;script setup&gt; \u4E2D\u53EF\u4EE5\u4F7F\u7528\u9876\u5C42 await\u3002\u7ED3\u679C\u4EE3\u7801\u4F1A\u88AB\u7F16\u8BD1\u6210 async setup()\uFF1A</span>
  <span class="token keyword">const</span> post <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">/api/post/1</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">r</span> <span class="token operator">=&gt;</span> r<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u53E6\u5916\uFF0Cawait \u7684\u8868\u8FBE\u5F0F\u4F1A\u81EA\u52A8\u7F16\u8BD1\u6210\u5728 \xA0await\xA0 \u4E4B\u540E\u4FDD\u7559\u5F53\u524D\u7EC4\u4EF6\u5B9E\u4F8B\u4E0A\u4E0B\u6587\u7684\u683C\u5F0F\u3002 \u6CE8\u610F async setup()\xA0 \u5FC5\u987B\u4E0E \xA0Suspense\xA0 \u7EC4\u5408\u4F7F\u7528\uFF0CSuspense\xA0 \u76EE\u524D\u8FD8\u662F\u5904\u4E8E\u5B9E\u9A8C\u9636\u6BB5\u7684\u7279\u6027\u3002</p></div><h3 id="\u4E0D\u80FD\u548C-src-\u6DF7\u5408\u4F7F\u7528" tabindex="-1"><a class="header-anchor" href="#\u4E0D\u80FD\u548C-src-\u6DF7\u5408\u4F7F\u7528" aria-hidden="true">#</a> \u4E0D\u80FD\u548C src \u6DF7\u5408\u4F7F\u7528</h3><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token comment">//\u4E0D\u80FD\u548C src attribute \u4E00\u8D77\u4F7F\u7528\u3002</span>
  <span class="token comment">// \u4E0D\u80FD\u540C\u65F6\u4F7F\u7528</span>
  <span class="token operator">&lt;</span>script setup src<span class="token operator">=</span><span class="token string">&quot;xxxx&quot;</span><span class="token operator">&gt;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="computed-\u548C-watch" tabindex="-1"><a class="header-anchor" href="#computed-\u548C-watch" aria-hidden="true">#</a> computed \u548C watch</h3><p>\u8BA1\u7B97\u5C5E\u6027\u548C\u76D1\u542C\u5668</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// computed\u662F\u8BA1\u7B97\u5C5E\u6027\uFF0C\u610F\u601D\u5C31\u662F\u4F1A\u7F13\u5B58\u503C\uFF0C\u53EA\u6709\u5F53\u4F9D\u8D56\u5C5E\u6027\u53D1\u751F\u53D8\u5316\u7684\u65F6\u5019\u624D\u4F1A\u91CD\u65B0\u8BA1\u7B97\u3002</span>
<span class="token comment">// \u5728vue2\u4E2D\u8BA1\u7B97\u5C5E\u6027\u5F88\u7B80\u5355\uFF0C\u662F\u4E00\u4E2A\u5BF9\u8C61\uFF0C\u53EA\u9700\u8981\u7B80\u5355\u5B9A\u4E49\u5C31\u53EF\u4EE5\u4F7F\u7528\u3002</span>
<span class="token literal-property property">computed</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token comment">// \u8BA1\u7B97\u5C5E\u6027\u9ED8\u8BA4\u53EA\u6709 get\uFF0C\u4E0D\u8FC7\u5728\u9700\u8981\u65F6\u4F60\u4E5F\u53EF\u4EE5\u63D0\u4F9B\u4E00\u4E2A set</span>
  <span class="token function">fullName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>firstName <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>lastName<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">fullName2</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>firstName <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>lastName <span class="token operator">+</span> <span class="token string">&quot;2&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// \u63D0\u4F9Bset\u65B9\u6CD5\u540E\u8BA1\u7B97\u5C5E\u6027\u7684\u503C\u53EF\u4EE5\u66F4\u6539\u4E86</span>
    <span class="token function">set</span><span class="token punctuation">(</span>newVal<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> names <span class="token operator">=</span> newVal<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&quot; &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>firstName <span class="token operator">=</span> names<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>lastName <span class="token operator">=</span> names<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u5728 vue3 \u4E2D\uFF0C\u662F\u51FD\u6570\u5F0F\u7684\uFF0C\u5E76\u4E14\u9700\u8981\u5148\u5F15\u5165\u3002</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>{{ user1.name }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>{{ user1.age }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>{{ fullName1 }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>updateUser1Name<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>update user1 name<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>{{ user2.name }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>{{ user2.age }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>{{ fullName2 }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>updateUser2Name<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>update user2 name<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">import</span> <span class="token punctuation">{</span> defineComponent<span class="token punctuation">,</span> reactive<span class="token punctuation">,</span> computed <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>
  <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineComponent</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> user1 <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;randy1&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">24</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment">// \u63A5\u53D7\u4E00\u4E2A getter \u51FD\u6570\uFF0C\u5E76\u6839\u636E getter \u7684\u8FD4\u56DE\u503C\u8FD4\u56DE\u4E00\u4E2A\u4E0D\u53EF\u53D8\u7684\u54CD\u5E94\u5F0F ref \u5BF9\u8C61</span>
      <span class="token comment">// \u8FD9\u91CC\u7684fullName1\u662F\u4E0D\u80FD\u4FEE\u6539\u7684</span>
      <span class="token keyword">const</span> fullName1 <span class="token operator">=</span> <span class="token function">computed</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>user1<span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">\u4ECA\u5E74</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>user1<span class="token punctuation">.</span>age<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">\u5C81\u5566</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">const</span> <span class="token function-variable function">updateUser1Name</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        user1<span class="token punctuation">.</span>name <span class="token operator">+=</span> <span class="token string">&quot;!&quot;</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">;</span>

      <span class="token keyword">const</span> user2 <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;randy2&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">27</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment">// \u63A5\u53D7\u4E00\u4E2A\u5177\u6709 get \u548C set \u51FD\u6570\u7684\u5BF9\u8C61\uFF0C\u7528\u6765\u521B\u5EFA\u53EF\u5199\u7684 ref \u5BF9\u8C61\u3002</span>
      <span class="token comment">// \u8FD9\u91CC\u7684fullName2\u662F\u53EF\u4EE5\u4FEE\u6539\u7684</span>
      <span class="token keyword">let</span> fullName2 <span class="token operator">=</span> <span class="token function">computed</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>user2<span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">\u4ECA\u5E74</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>user2<span class="token punctuation">.</span>age<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">\u5C81\u5566</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token function">set</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          user2<span class="token punctuation">.</span>name <span class="token operator">=</span> val<span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">const</span> <span class="token function-variable function">updateUser2Name</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token comment">// \u9700\u8981\u4F7F\u7528value\u8BBF\u95EE</span>
        fullName2<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token string">&quot;\u65B0\u7684name&quot;</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">;</span>

      <span class="token keyword">return</span> <span class="token punctuation">{</span>
        user1<span class="token punctuation">,</span>
        fullName1<span class="token punctuation">,</span>
        updateUser1Name<span class="token punctuation">,</span>
        user2<span class="token punctuation">,</span>
        fullName2<span class="token punctuation">,</span>
        updateUser2Name<span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="watcheffect" tabindex="-1"><a class="header-anchor" href="#watcheffect" aria-hidden="true">#</a> watchEffect</h3><p>\u7ACB\u5373\u6267\u884C\u4F20\u5165\u7684\u4E00\u4E2A\u51FD\u6570\uFF0C\u540C\u65F6\u54CD\u5E94\u5F0F\u8FFD\u8E2A\u5176\u4F9D\u8D56\uFF0C\u5E76\u5728\u5176\u4F9D\u8D56\u53D8\u66F4\u65F6\u91CD\u65B0\u8FD0\u884C\u8BE5\u51FD\u6570\u3002<br> \u600E\u4E48\u7406\u89E3\u8FD9\u53E5\u8BDD\u5462\uFF1F\u5C31\u662F\u5B83\u4F1A\u81EA\u52A8\u6536\u96C6\u4F9D\u8D56\uFF0C\u4E0D\u9700\u8981\u624B\u52A8\u4F20\u5165\u4F9D\u8D56\u3002\u5F53\u91CC\u9762\u7528\u5230\u7684\u6570\u636E\u53D1\u751F\u53D8\u5316\u65F6\u5C31\u4F1A\u81EA\u52A8\u89E6\u53D1 watchEffect\u3002\u5E76\u4E14 watchEffect \u4F1A\u5148\u6267\u884C\u4E00\u6B21\u7528\u6765\u81EA\u52A8\u6536\u96C6\u4F9D\u8D56\u3002\u800C\u4E14 watchEffect \u65E0\u6CD5\u83B7\u53D6\u5230\u53D8\u5316\u524D\u7684\u503C\uFF0C\u53EA\u80FD\u83B7\u53D6\u53D8\u5316\u540E\u7684\u503C\u3002</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">import</span> <span class="token punctuation">{</span> defineComponent<span class="token punctuation">,</span> reactive<span class="token punctuation">,</span> watchEffect <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>
  <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineComponent</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> user2 <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;randy2&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">27</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token keyword">const</span> <span class="token function-variable function">updateUser2Age</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        user2<span class="token punctuation">.</span>age<span class="token operator">++</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">;</span>

      <span class="token function">watchEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;watchEffect&quot;</span><span class="token punctuation">,</span> user2<span class="token punctuation">.</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u5728\u4E0A\u9762\u8FD9\u4E2A\u4F8B\u5B50\u4E2D\uFF0C\u9996\u5148\u4F1A\u6267\u884C watchEffect \u8F93\u51FA 27\uFF0C\u5F53\u6211\u4EEC\u89E6\u53D1 updateUser2Age \u65B9\u6CD5\u6539\u53D8 age \u7684\u65F6\u5019\uFF0C\u56E0\u4E3A user2.age \u662F watchEffect \u7684\u4F9D\u8D56\uFF0C\u6240\u4EE5 watchEffect \u4F1A\u518D\u6B21\u6267\u884C\uFF0C\u8F93\u51FA 28\u3002<br> \u8FD9\u4E2A\u65B9\u6CD5\u53EF\u4EE5\u9E21\u86CB\u7406\u89E3\u4E3A created\u3001beforeDestory \u548C watch \u7684\u7EC4\u5408\u3002</p><h3 id="\u505C\u6B62\u4FA6\u542C" tabindex="-1"><a class="header-anchor" href="#\u505C\u6B62\u4FA6\u542C" aria-hidden="true">#</a> \u505C\u6B62\u4FA6\u542C</h3><p>\u5F53 \xA0watchEffect\xA0 \u5728\u7EC4\u4EF6\u7684 \xA0setup()\xA0 \u51FD\u6570\u6216\u751F\u547D\u5468\u671F\u94A9\u5B50\u88AB\u8C03\u7528\u65F6\uFF0C\u4FA6\u542C\u5668\u4F1A\u88AB\u94FE\u63A5\u5230\u8BE5\u7EC4\u4EF6\u7684\u751F\u547D\u5468\u671F\uFF0C\u5E76\u5728\u7EC4\u4EF6\u5378\u8F7D\u65F6\u81EA\u52A8\u505C\u6B62\u3002 \u5728\u4E00\u4E9B\u60C5\u51B5\u4E0B\uFF0C\u4E5F\u53EF\u4EE5\u663E\u5F0F\u8C03\u7528\u8FD4\u56DE\u503C\u4EE5\u505C\u6B62\u4FA6\u542C\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> stop <span class="token operator">=</span> <span class="token function">watchEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">/* ... */</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// later</span>
<span class="token function">stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u6E05\u9664\u526F\u4F5C\u7528" tabindex="-1"><a class="header-anchor" href="#\u6E05\u9664\u526F\u4F5C\u7528" aria-hidden="true">#</a> \u6E05\u9664\u526F\u4F5C\u7528</h3><p>\u6709\u65F6\u526F\u4F5C\u7528\u51FD\u6570\u4F1A\u6267\u884C\u4E00\u4E9B\u5F02\u6B65\u7684\u526F\u4F5C\u7528\uFF0C\u8FD9\u4E9B\u54CD\u5E94\u9700\u8981\u5728\u5176\u5931\u6548\u65F6\u6E05\u9664\u3002\u6240\u4EE5\u4FA6\u542C\u526F\u4F5C\u7528\u4F20\u5165\u7684\u51FD\u6570\u53EF\u4EE5\u63A5\u6536\u4E00\u4E2A \xA0onInvalidate\xA0 \u51FD\u6570\u4F5C\u5165\u53C2\uFF0C\u7528\u6765\u6CE8\u518C\u6E05\u7406\u5931\u6548\u65F6\u7684\u56DE\u8C03\u3002\u5F53\u4EE5\u4E0B\u60C5\u51B5\u53D1\u751F\u65F6\uFF0C\u8FD9\u4E2A\u5931\u6548\u56DE\u8C03\u4F1A\u88AB\u89E6\u53D1\uFF1A</p><p>\u526F\u4F5C\u7528\u5373\u5C06\u91CD\u65B0\u6267\u884C\u65F6 \u4FA6\u542C\u5668\u88AB\u505C\u6B62 (\u5982\u679C\u5728 \xA0setup()\xA0 \u6216\u751F\u547D\u5468\u671F\u94A9\u5B50\u51FD\u6570\u4E2D\u4F7F\u7528\u4E86 \xA0watchEffect\uFF0C\u5219\u5728\u7EC4\u4EF6\u5378\u8F7D\u65F6)</p><p>\u6E05\u9664\u526F\u4F5C\u7528\u5F88\u591A\u540C\u5B66\u53EF\u80FD\u4E0D\u592A\u7406\u89E3\uFF0C\u4E0B\u9762\u7B14\u8005\u7528\u4E2A\u4F8B\u5B50\u89E3\u91CA\u4E0B\u3002 \u5047\u8BBE\u6211\u4EEC\u9700\u8981\u5728 input \u6846\u8F93\u5165\u5173\u952E\u5B57\u8FDB\u884C\u5B9E\u65F6\u641C\u7D22\uFF0C\u53C8\u4E0D\u60F3\u8BF7\u6C42\u592A\u9891\u7E41\u6211\u4EEC\u5C31\u53EF\u4EE5\u7528\u5230\u8FD9\u4E2A\u529F\u80FD\u4E86\u3002</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">&quot;text&quot;</span> v<span class="token operator">-</span>model<span class="token operator">=</span><span class="token string">&quot;text&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> text <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token string">&quot;randy&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">watchEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">onInvalidate</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> timer <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;input&quot;</span><span class="token punctuation">,</span> text<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// \u6A21\u62DF\u8C03\u7528\u540E\u7AEF\u63A5\u53E3</span>
    <span class="token comment">// getDate(text.value)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">onInvalidate</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u6E05\u9664\u4E0A\u4E00\u6B21\u8BF7\u6C42</span>
    <span class="token function">clearTimeout</span><span class="token punctuation">(</span>timer<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;watchEffect&quot;</span><span class="token punctuation">,</span> text<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>\u4E0A\u9762\u7684\u4F8B\u5B50\u4E2D watchEffect \u4F9D\u8D56\u4E86 text.value\uFF0C\u6240\u4EE5\u6211\u4EEC\u53EA\u8981\u5728 input \u8F93\u5165\u503C\u5C31\u4F1A\u7ACB\u9A6C\u8FDB\u5165 watchEffect\u3002\u5982\u679C\u4E0D\u5904\u7406\u7684\u8BDD\u540E\u7AEF\u670D\u52A1\u538B\u529B\u53EF\u80FD\u4F1A\u5F88\u5927\uFF0C\u56E0\u4E3A\u6211\u4EEC\u53EA\u8981\u8F93\u5165\u6846\u503C\u6539\u53D8\u4E86\u5C31\u4F1A\u53D1\u9001\u8BF7\u6C42\u3002 \u6211\u4EEC\u53EF\u4EE5\u5229\u7528\u6E05\u9664\u526F\u4F5C\u7528\u56DE\u8C03\u51FD\u6570\uFF0C\u5728\u7528\u6237\u8F93\u5165\u5B8C\u4E00\u79D2\u540E\u518D\u5411\u540E\u7AEF\u53D1\u9001\u8BF7\u6C42\u3002\u56E0\u4E3A\u7B2C\u4E00\u6B21\u662F\u4E0D\u4F1A\u6267\u884C onInvalidate \u56DE\u8C03\u65B9\u6CD5\u7684\uFF0C\u53EA\u6709\u5728\u526F\u4F5C\u7528\u91CD\u65B0\u6267\u884C\u6216\u5378\u8F7D\u7684\u65F6\u5019\u624D\u4F1A\u6267\u884C\u8BE5\u56DE\u8C03\u51FD\u6570\u3002 \u6240\u4EE5\u5728\u6211\u4EEC\u8F93\u5165\u7684\u65F6\u5019\uFF0C\u4F1A\u4E00\u76F4\u8F93\u51FA&quot;watchEffect&quot; text \u5BF9\u5E94\u7684\u503C\uFF0C\u5F53\u6211\u4EEC\u505C\u6B62\u8F93\u5165\u4E00\u79D2\u540E\u4F1A\u8F93\u51FA&quot;input&quot; text \u5BF9\u5E94\u7684\u503C\uFF0C\u7136\u540E\u53D1\u9001\u8BF7\u6C42\u7ED9\u540E\u7AEF\u3002\u8FD9\u6837\u5C31\u8FBE\u5230\u6211\u4EEC\u6700\u5F00\u59CB\u7684\u76EE\u6807\u4E86\u3002 \u7C7B\u4F3C\u7684\u8FD8\u53EF\u4EE5\u5E94\u7528\u5230\u4E8B\u4EF6\u76D1\u542C\u4E0A\u3002\u8FD9\u4E2A\u5C0F\u4F19\u4F34\u4EEC\u53EF\u4EE5\u81EA\u5DF1\u8BD5\u8BD5\u3002</p></blockquote><h3 id="\u526F\u4F5C\u7528\u5237\u65B0\u65F6\u673A" tabindex="-1"><a class="header-anchor" href="#\u526F\u4F5C\u7528\u5237\u65B0\u65F6\u673A" aria-hidden="true">#</a> \u526F\u4F5C\u7528\u5237\u65B0\u65F6\u673A</h3><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// Vue \u7684\u54CD\u5E94\u6027\u7CFB\u7EDF\u4F1A\u7F13\u5B58\u526F\u4F5C\u7528\u51FD\u6570\uFF0C\u5E76\u5F02\u6B65\u5730\u5237\u65B0\u5B83\u4EEC\uFF0C\u8FD9\u6837\u53EF\u4EE5\u907F\u514D\u540C\u4E00\u4E2A\u201Ctick\u201D \u4E2D\u591A\u4E2A\u72B6\u6001\u6539\u53D8\u5BFC\u81F4\u7684\u4E0D\u5FC5\u8981\u7684\u91CD\u590D\u8C03\u7528\u3002\u5728\u6838\u5FC3\u7684\u5177\u4F53\u5B9E\u73B0\u4E2D\uFF0C\u7EC4\u4EF6\u7684 update \u51FD\u6570\u4E5F\u662F\u4E00\u4E2A\u88AB\u4FA6\u542C\u7684\u526F\u4F5C\u7528\u3002\u5F53\u4E00\u4E2A\u7528\u6237\u5B9A\u4E49\u7684\u526F\u4F5C\u7528\u51FD\u6570\u8FDB\u5165\u961F\u5217\u65F6\uFF0C\u9ED8\u8BA4\u60C5\u51B5\u4E0B\uFF0C\u4F1A\u5728\u6240\u6709\u7684\u7EC4\u4EF6 update \u524D\u6267\u884C\u3002\u4E5F\u5C31\u662F\u4F1A\u5728\u7EC4\u4EF6\u751F\u547D\u5468\u671F\u51FD\u6570onBeforeUpdate\u4E4B\u524D\u6267\u884C\u3002</span>
<span class="token keyword">const</span> <span class="token function-variable function">updateUser2Age</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  user2<span class="token punctuation">.</span>age<span class="token operator">++</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token function">watchEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;watchEffect&quot;</span><span class="token punctuation">,</span> user2<span class="token punctuation">.</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">onBeforeUpdate</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;onBeforeUpdate&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u4E0A\u9762\u7684\u4F8B\u5B50\uFF0C\u5F53\u6211\u4EEC\u89E6\u53D1 updateUser2Age \u65B9\u6CD5\u4FEE\u6539 age \u7684\u65F6\u5019\uFF0C\u4F1A\u5148\u6267\u884C watchEffect \u7136\u540E\u6267\u884C onBeforeUpdate\u3002 \u5982\u679C\u9700\u8981\u5728\u7EC4\u4EF6\u66F4\u65B0\u540E\u91CD\u65B0\u8FD0\u884C\u4FA6\u542C\u5668\u526F\u4F5C\u7528\uFF0C\u6211\u4EEC\u53EF\u4EE5\u4F20\u9012\u5E26\u6709 \xA0flush\xA0 \u9009\u9879\u7684\u9644\u52A0 \xA0options\xA0 \u5BF9\u8C61 (\u9ED8\u8BA4\u4E3A \xA0pre)\u3002</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token function-variable function">updateUser2Age</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  user2<span class="token punctuation">.</span>age<span class="token operator">++</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token function">watchEffect</span><span class="token punctuation">(</span>
  <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;watchEffect&quot;</span><span class="token punctuation">,</span> user2<span class="token punctuation">.</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token literal-property property">flush</span><span class="token operator">:</span> <span class="token string">&quot;post&quot;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">onBeforeUpdate</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;onBeforeUpdate&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u4E0A\u9762\u7684\u4F8B\u5B50\uFF0C\u5F53\u6211\u4EEC\u89E6\u53D1 updateUser2Age \u65B9\u6CD5\u4FEE\u6539 age \u7684\u65F6\u5019\uFF0C\u4F1A\u5148\u6267\u884C onBeforeUpdate \u7136\u540E\u6267\u884C watchEffect\u3002<br> flush\xA0 \u9009\u9879\u8FD8\u63A5\u53D7 \xA0sync\uFF0C\u8FD9\u5C06\u5F3A\u5236\u6548\u679C\u59CB\u7EC8\u540C\u6B65\u89E6\u53D1\u3002\u7136\u800C\uFF0C\u8FD9\u662F\u4F4E\u6548\u7684\uFF0C\u5E94\u8BE5\u5F88\u5C11\u9700\u8981\u3002sync \u8FD9\u4E2A\u53C2\u6570\u662F\u4EC0\u4E48\u610F\u601D\u5462\uFF1F\u5F88\u591A\u540C\u5B66\u53EF\u80FD\u4E0D\u7406\u89E3\uFF0C\u8FD9\u91CC\u6211\u4EEC\u91CD\u70B9\u89E3\u91CA\u4E0B\u3002<br> \u5F53 watchEffect \u53EA\u6709\u4E00\u4E2A\u4F9D\u8D56\u7684\u65F6\u5019\u8FD9\u4E2A\u53C2\u6570\u548C pre \u662F\u6CA1\u533A\u522B\u7684\u3002\u4F46\u662F\u5F53\u6709\u591A\u4E2A\u4F9D\u8D56\u7684\u65F6\u5019\uFF0Cflush: post \u548C \xA0flush: pre \u53EA\u4F1A\u6267\u884C\u4E00\u6B21\u526F\u4F5C\u7528\uFF0C\u4F46\u662F sync \u4F1A\u6267\u884C\u591A\u6B21\uFF0C\u4E5F\u5C31\u662F\u6709\u4E00\u4E2A\u4F9D\u8D56\u6539\u53D8\u5C31\u4F1A\u6267\u884C\u4E00\u6B21\u3002<br> \u4E0B\u9762\u6211\u4EEC\u770B\u4F8B\u5B50</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> user3 <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;randy3&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">27</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">updateUser3NameAndAge</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  user3<span class="token punctuation">.</span>name <span class="token operator">+=</span> <span class="token string">&quot;!&quot;</span><span class="token punctuation">;</span>
  user3<span class="token punctuation">.</span>age<span class="token operator">++</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token function">watchEffect</span><span class="token punctuation">(</span>
  <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;watchEffect&quot;</span><span class="token punctuation">,</span> user3<span class="token punctuation">.</span>name<span class="token punctuation">,</span> user3<span class="token punctuation">.</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token literal-property property">flush</span><span class="token operator">:</span> <span class="token string">&quot;sync&quot;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">onBeforeUpdate</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;onBeforeUpdate&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u5728\u4E0A\u9762\u7684\u4F8B\u5B50\u4E2D\uFF0CwatchEffect \u6709 name \u548C age \u4E24\u4E2A\u4F9D\u8D56\uFF0C\u5F53\u6211\u4EEC\u89E6\u53D1 updateUser3NameAndAge \u65B9\u6CD5\u7684\u65F6\u5019\uFF0C\u5982\u679C flush: &quot;sync&quot;\u8FD9\u4E2A\u526F\u4F5C\u7528\u4F1A\u6267\u884C\u4E24\u6B21\uFF0C\u4F9D\u6B21\u8F93\u51FA watchEffect randy3! 27\u3001watchEffect randy3! 28\u3001onBeforeUpdate\u3002<br> \u5982\u679C\u4F60\u60F3\u8BA9\u6BCF\u4E2A\u4F9D\u8D56\u53D1\u751F\u53D8\u5316\u90FD\u6267\u884C watchEffect \u4F46\u53C8\u4E0D\u60F3\u8BBE\u7F6E flush: &quot;sync&quot;\u4F60\u4E5F\u53EF\u4EE5\u4F7F\u7528 nextTick \u7B49\u5F85\u4FA6\u542C\u5668\u5728\u4E0B\u4E00\u6B65\u6539\u53D8\u4E4B\u524D\u8FD0\u884C\u3002</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> nextTick <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token function-variable function">updateUser3NameAndAge</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  user3<span class="token punctuation">.</span>name <span class="token operator">+=</span> <span class="token string">&quot;!&quot;</span><span class="token punctuation">;</span>
  <span class="token keyword">await</span> <span class="token function">nextTick</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  user3<span class="token punctuation">.</span>age<span class="token operator">++</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u4E0A\u9762\u7684\u4F8B\u5B50\u4F1A\u4F9D\u6B21\u8F93\u51FA watchEffect randy3! 27\u3001onBeforeUpdate\u3001watchEffect randy3! 28\u3001onBeforeUpdate\u3002<br> \u4ECE Vue 3.2.0 \u5F00\u59CB\uFF0C\u6211\u4EEC\u4E5F\u53EF\u4EE5\u4F7F\u7528\u522B\u540D\u65B9\u6CD5 watchPostEffect\xA0 \u548C \xA0watchSyncEffect\uFF0C\u8FD9\u6837\u53EF\u4EE5\u7528\u6765\u8BA9\u4EE3\u7801\u610F\u56FE\u66F4\u52A0\u660E\u663E\u3002</p><h3 id="watchposteffect" tabindex="-1"><a class="header-anchor" href="#watchposteffect" aria-hidden="true">#</a> watchPostEffect</h3><p>watchPostEffect \u5C31\u662F watchEffect \u7684\u522B\u540D\uFF0C\u5E26\u6709 flush: &#39;post&#39; \u9009\u9879\u3002</p><h3 id="watchsynceffect" tabindex="-1"><a class="header-anchor" href="#watchsynceffect" aria-hidden="true">#</a> watchSyncEffect</h3><p>watchSyncEffect \u5C31\u662F watchEffect \u7684\u522B\u540D\uFF0C\u5E26\u6709 flush: &#39;sync&#39; \u9009\u9879\u3002</p><h3 id="\u4FA6\u542C\u5668\u8C03\u8BD5" tabindex="-1"><a class="header-anchor" href="#\u4FA6\u542C\u5668\u8C03\u8BD5" aria-hidden="true">#</a> \u4FA6\u542C\u5668\u8C03\u8BD5</h3><p>onTrack\xA0 \u548C \xA0onTrigger\xA0 \u9009\u9879\u53EF\u7528\u4E8E\u8C03\u8BD5\u4FA6\u542C\u5668\u7684\u884C\u4E3A\u3002</p><p>onTrack\xA0 \u5C06\u5728\u54CD\u5E94\u5F0F property \u6216 ref \u4F5C\u4E3A\u4F9D\u8D56\u9879\u88AB\u8FFD\u8E2A\u65F6\u88AB\u8C03\u7528\u3002 onTrigger\xA0 \u5C06\u5728\u4F9D\u8D56\u9879\u53D8\u66F4\u5BFC\u81F4\u526F\u4F5C\u7528\u88AB\u89E6\u53D1\u65F6\u88AB\u8C03\u7528\u3002</p><p>\u8FD9\u4E2A\u6709\u70B9\u7C7B\u4F3C\u524D\u9762\u8BF4\u7684\u751F\u547D\u5468\u671F\u51FD\u6570 renderTracked \u548C renderTriggered\uFF0C\u4E00\u4E2A\u6700\u521D\u6B21\u6E32\u67D3\u65F6\u8C03\u7528\uFF0C\u4E00\u4E2A\u5728\u6570\u636E\u66F4\u65B0\u7684\u65F6\u5019\u8C03\u7528\u3002 \u8FD9\u4E24\u4E2A\u56DE\u8C03\u90FD\u5C06\u63A5\u6536\u5230\u4E00\u4E2A\u5305\u542B\u6709\u5173\u6240\u4F9D\u8D56\u9879\u4FE1\u606F\u7684\u8C03\u8BD5\u5668\u4E8B\u4EF6\u3002</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token function">watchEffect</span><span class="token punctuation">(</span>
  <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">/* \u526F\u4F5C\u7528 */</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token function">onTrack</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;onTrack: &quot;</span><span class="token punctuation">,</span> e<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">onTrigger</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;onTrigger:&quot;</span><span class="token punctuation">,</span> e<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="watch" tabindex="-1"><a class="header-anchor" href="#watch" aria-hidden="true">#</a> watch</h3><p>watch\xA0 \u9700\u8981\u4FA6\u542C\u7279\u5B9A\u7684\u6570\u636E\u6E90\uFF0C\u5E76\u5728\u5355\u72EC\u7684\u56DE\u8C03\u51FD\u6570\u4E2D\u6267\u884C\u526F\u4F5C\u7528\u3002\u9ED8\u8BA4\u60C5\u51B5\u4E0B\uFF0C\u5B83\u4E5F\u662F\u60F0\u6027\u7684\u2014\u2014\u5373\u56DE\u8C03\u4EC5\u5728\u4FA6\u542C\u6E90\u53D1\u751F\u53D8\u5316\u65F6\u88AB\u8C03\u7528\u3002 \u4E0E \xA0watchEffect\xA0 \u76F8\u6BD4\uFF0Cwatch\xA0 \u6709\u5982\u4E0B\u7279\u70B9</p><p>\u60F0\u6027\u5730\u6267\u884C\u526F\u4F5C\u7528 \u66F4\u5177\u4F53\u5730\u8BF4\u660E\u5E94\u89E6\u53D1\u4FA6\u542C\u5668\u91CD\u65B0\u8FD0\u884C\u7684\u72B6\u6001 \u53EF\u4EE5\u8BBF\u95EE\u88AB\u4FA6\u542C\u72B6\u6001\u7684\u5148\u524D\u503C\u548C\u5F53\u524D\u503C</p><p>\u7C7B\u4F3C react \u91CC\u9762\u7684 useEffect\u3002</p><h3 id="\u76D1\u542C\u5355\u4E00\u6E90" tabindex="-1"><a class="header-anchor" href="#\u76D1\u542C\u5355\u4E00\u6E90" aria-hidden="true">#</a> \u76D1\u542C\u5355\u4E00\u6E90</h3><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> defineComponent<span class="token punctuation">,</span> reactive<span class="token punctuation">,</span> watchEffect <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineComponent</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> user1 <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;randy1&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">24</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// source: \u53EF\u4EE5\u652F\u6301 string,Object,Function,Array; \u7528\u4E8E\u6307\u5B9A\u8981\u4FA6\u542C\u7684\u54CD\u5E94\u5F0F\u53D8\u91CF</span>
    <span class="token comment">// callback: \u6267\u884C\u7684\u56DE\u8C03\u51FD\u6570</span>
    <span class="token comment">// options\uFF1A\u652F\u6301 deep\u3001immediate \u548C flush \u9009\u9879\u3002</span>
    <span class="token function">watch</span><span class="token punctuation">(</span>
      <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> user1<span class="token punctuation">.</span>name<span class="token punctuation">,</span>
      <span class="token punctuation">(</span><span class="token parameter">newVal<span class="token punctuation">,</span> oldVal</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>newVal<span class="token punctuation">,</span> oldVal<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">watch</span><span class="token punctuation">(</span>
      <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> user1<span class="token punctuation">.</span>age<span class="token punctuation">,</span>
      <span class="token punctuation">(</span><span class="token parameter">newVal<span class="token punctuation">,</span> oldVal</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>newVal<span class="token punctuation">,</span> oldVal<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u76D1\u542C\u591A\u4E2A\u6E90" tabindex="-1"><a class="header-anchor" href="#\u76D1\u542C\u591A\u4E2A\u6E90" aria-hidden="true">#</a> \u76D1\u542C\u591A\u4E2A\u6E90</h3><p>\u76D1\u542C\u591A\u4E2A\u6E90\u6211\u4EEC\u4F7F\u7528\u6570\u7EC4\u3002 \u8FD9\u91CC\u6211\u4EEC\u9700\u8981\u6CE8\u610F\uFF0C\u76D1\u542C\u591A\u4E2A\u6E90\u53EA\u8981\u6709\u4E00\u4E2A\u6E90\u53D1\u751F\u53D8\u5316\uFF0C\u56DE\u8C03\u51FD\u6570\u90FD\u4F1A\u6267\u884C\u3002</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> defineComponent<span class="token punctuation">,</span> reactive<span class="token punctuation">,</span> watchEffect <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineComponent</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> user1 <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;randy1&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">24</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// source: \u53EF\u4EE5\u652F\u6301 string,Object,Function,Array; \u7528\u4E8E\u6307\u5B9A\u8981\u4FA6\u542C\u7684\u54CD\u5E94\u5F0F\u53D8\u91CF</span>
    <span class="token comment">// callback: \u6267\u884C\u7684\u56DE\u8C03\u51FD\u6570</span>
    <span class="token comment">// options\uFF1A\u652F\u6301 deep\u3001immediate \u548C flush \u9009\u9879\u3002</span>
    <span class="token function">watch</span><span class="token punctuation">(</span>
      <span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> user1<span class="token punctuation">.</span>name<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> user1<span class="token punctuation">.</span>age<span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">[</span>newVal1<span class="token punctuation">,</span> newVal2<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>oldVal1<span class="token punctuation">,</span> oldVal2<span class="token punctuation">]</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>newVal1<span class="token punctuation">,</span> newVal2<span class="token punctuation">)</span><span class="token punctuation">;</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>oldVal1<span class="token punctuation">,</span> oldVal2<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u76D1\u542C\u5F15\u7528\u6570\u636E\u7C7B\u578B" tabindex="-1"><a class="header-anchor" href="#\u76D1\u542C\u5F15\u7528\u6570\u636E\u7C7B\u578B" aria-hidden="true">#</a> \u76D1\u542C\u5F15\u7528\u6570\u636E\u7C7B\u578B</h3><p>\u6709\u65F6\u6211\u4EEC\u53EF\u80FD\u9700\u8981\u76D1\u542C\u4E00\u4E2A\u5BF9\u8C61\u7684\u6539\u53D8\uFF0C\u800C\u4E0D\u662F\u5177\u4F53\u67D0\u4E2A\u5C5E\u6027\u3002</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> user2 <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;randy2&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">27</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">watch</span><span class="token punctuation">(</span>user2<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">newVal<span class="token punctuation">,</span> oldVal</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>newVal<span class="token punctuation">,</span> oldVal<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// {name: &#39;randy2&#39;, age: 28} {name: &#39;randy2&#39;, age: 28}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">updateUser2Age</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  user2<span class="token punctuation">.</span>age<span class="token operator">++</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u4E0A\u9762\u7684\u5199\u6CD5\u6709\u6CA1\u6709\u95EE\u9898\u5462\uFF1F\u5F53\u6211\u4EEC\u89E6\u53D1 updateUser2Age \u65B9\u6CD5\u4FEE\u6539 age \u7684\u65F6\u5019\u53EF\u4EE5\u53D1\u73B0\u6211\u4EEC\u8F93\u51FA newVal, oldVal \u4E24\u4E2A\u503C\u662F\u4E00\u6837\u7684\u3002<br> \u8FD9\u5C31\u662F\u5F15\u7528\u6570\u636E\u7C7B\u578B\u7684\u5751\u3002\u5F53\u6211\u4EEC\u4E0D\u9700\u8981\u77E5\u9053 oldVal \u7684\u65F6\u5019\u8FD9\u6837\u5199\u6CA1\u95EE\u9898\uFF0C\u4F46\u662F\u5F53\u6211\u4EEC\u9700\u8981\u5BF9\u6BD4\u65B0\u8001\u503C\u7684\u65F6\u5019\u8FD9\u79CD\u5199\u6CD5\u5C31\u4E0D\u884C\u4E86\u3002<br> \u6211\u4EEC\u9700\u8981\u76D1\u542C\u8FD9\u4E2A\u5F15\u7528\u6570\u636E\u7C7B\u578B\u7684\u62F7\u8D1D\u3002\u5F53\u5F15\u7528\u6570\u636E\u7C7B\u578B\u7B80\u5355\u7684\u65F6\u5019\u6211\u4EEC\u53EF\u4EE5\u76F4\u63A5\u89E3\u6784\u6210\u65B0\u5BF9\u8C61\u3002<br> \u8FD9\u6837\u8F93\u51FA\u6765\u7684\u503C\u624D\u662F\u6B63\u786E\u7684\u3002<br></p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> user2 <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;randy2&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">27</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">watch</span><span class="token punctuation">(</span>
  <span class="token comment">// \u8FD9\u53EA\u662F\u6D45\u62F7\u8D1D\uFF0C\u89E3\u51B3\u7B2C\u4E00\u5C42\u95EE\u9898</span>
  <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token operator">...</span>user2 <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">(</span><span class="token parameter">newVal<span class="token punctuation">,</span> oldVal</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>newVal<span class="token punctuation">,</span> oldVal<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// {name: &#39;randy2&#39;, age: 28} {name: &#39;randy2&#39;, age: 27}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">updateUser2Age</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  user2<span class="token punctuation">.</span>age<span class="token operator">++</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u6240\u4EE5\u5173\u4E8E\u76D1\u542C\u603B\u7ED3\u5C31\u662F" tabindex="-1"><a class="header-anchor" href="#\u6240\u4EE5\u5173\u4E8E\u76D1\u542C\u603B\u7ED3\u5C31\u662F" aria-hidden="true">#</a> \u6240\u4EE5\u5173\u4E8E\u76D1\u542C\u603B\u7ED3\u5C31\u662F</h3><ol><li>\u76D1\u542C\u57FA\u672C\u6570\u636E\u7C7B\u578B\u9700\u8981\u4F7F\u7528\u7BAD\u5934\u51FD\u6570\u65B9\u5F0F\uFF0C\u5426\u5219\u76D1\u542C\u4E0D\u5230\u3002</li><li>\u76D1\u542C\u5F15\u7528\u6570\u636E\u7C7B\u578B\u53EF\u4EE5\u76F4\u63A5\u76D1\u542C\uFF0C\u4F46\u662F\u65B0\u8001\u503C\u662F\u4E00\u6837\u7684\uFF0C\u5982\u679C\u9700\u8981\u5BF9\u6BD4\u65B0\u8001\u503C\u9700\u8981\u4F7F\u7528\u7BAD\u5934\u51FD\u6570\u7684\u65B9\u5F0F\u3002</li><li>\u76D1\u542C\u5F15\u7528\u6570\u636E\u7C7B\u578B\u4F7F\u7528\u7BAD\u5934\u51FD\u6570\uFF0C\u6211\u4EEC\u5982\u679C\u4E0D\u9700\u8981\u5BF9\u6BD4\u65B0\u8001\u503C\uFF0C\u53EF\u4EE5\u76F4\u63A5\u4F7F\u7528\u7B2C\u4E09\u4E2A\u53C2\u6570 deep:true \u5F00\u542F\u6DF1\u5EA6\u76D1\u542C\u5373\u53EF\u3002\u5982\u679C\u9700\u8981\u5BF9\u6BD4\u65B0\u8001\u503C\u5C31\u6CA1\u5FC5\u8981\u4F7F\u7528\u6DF1\u5EA6\u76D1\u542C\u4E86\uFF0C\u76F4\u63A5\u770B\u60C5\u51B5\u4F7F\u7528\u6DF1\u62F7\u8D1D\u548C\u6D45\u62F7\u8D1D\u5373\u53EF\u3002</li></ol><p>watch \u8FD8\u652F\u6301 watchEffect \u7684\u505C\u6B62\u4FA6\u542C\u3001\u6E05\u9664\u526F\u4F5C\u7528\u3001\u526F\u4F5C\u7528\u5237\u65B0\u65F6\u673A\u3001\u4FA6\u542C\u5668\u8C03\u8BD5\uFF0C\u4E0B\u9762\u7B14\u8005\u53EA\u7B80\u5355\u4ECB\u7ECD\u4F7F\u7528\u65B9\u6CD5\uFF0C\u5C31\u4E0D\u8BE6\u7EC6\u89E3\u91CA\u4E86\u3002</p><h3 id="\u505C\u6B62\u4FA6\u542C-1" tabindex="-1"><a class="header-anchor" href="#\u505C\u6B62\u4FA6\u542C-1" aria-hidden="true">#</a> \u505C\u6B62\u4FA6\u542C</h3><p>\u5728 watch \u4E2D\uFF0C\u505C\u6B62\u4FA6\u542C\u7528\u6CD5\u548C watchEffect \u4E00\u6837\u3002</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> stop <span class="token operator">=</span> <span class="token function">watch</span><span class="token punctuation">(</span>
  <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> user1<span class="token punctuation">.</span>name<span class="token punctuation">,</span>
  <span class="token punctuation">(</span><span class="token parameter">newVal<span class="token punctuation">,</span> oldVal</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">/* ... */</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// later</span>
<span class="token function">stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u6E05\u9664\u526F\u4F5C\u7528-1" tabindex="-1"><a class="header-anchor" href="#\u6E05\u9664\u526F\u4F5C\u7528-1" aria-hidden="true">#</a> \u6E05\u9664\u526F\u4F5C\u7528</h3><p>\u5728 watch \u4E2D\uFF0ConInvalidate \u51FD\u6570\u4F1A\u4F5C\u4E3A\u56DE\u8C03\u7684\u7B2C\u4E09\u4E2A\u53C2\u6570\u4F20\u9012\u8FDB\u6765\u3002</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> invalidate <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;onInvalidate&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">watch</span><span class="token punctuation">(</span>
  <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token operator">...</span>invalidate <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">(</span><span class="token parameter">newVal<span class="token punctuation">,</span> oldVal<span class="token punctuation">,</span> onInvalidate</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">onInvalidate</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;\u6E05\u9664\u526F\u4F5C\u7528&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>newVal<span class="token punctuation">,</span> oldVal<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u526F\u4F5C\u7528\u5237\u65B0\u65F6\u673A-1" tabindex="-1"><a class="header-anchor" href="#\u526F\u4F5C\u7528\u5237\u65B0\u65F6\u673A-1" aria-hidden="true">#</a> \u526F\u4F5C\u7528\u5237\u65B0\u65F6\u673A</h3><p>\u5728 watch \u4E2D\uFF0C\u526F\u4F5C\u7528\u5237\u65B0\u65F6\u673A\u662F\u5728\u7B2C\u4E09\u4E2A\u53C2\u6570\u4E2D\u914D\u7F6E\u3002</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> flushOptions <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;flushOptions&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">num</span><span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">watch</span><span class="token punctuation">(</span>
  <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token operator">...</span>flushOptions <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">(</span><span class="token parameter">newVal<span class="token punctuation">,</span> oldVal</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>newVal<span class="token punctuation">,</span> oldVal<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token comment">// flush: &quot;pre&quot;, // \u9ED8\u8BA4</span>
    <span class="token comment">// flush: &quot;post&quot;,</span>
    <span class="token comment">// flush: &quot;sync&quot;,</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u4FA6\u542C\u5668\u8C03\u8BD5-1" tabindex="-1"><a class="header-anchor" href="#\u4FA6\u542C\u5668\u8C03\u8BD5-1" aria-hidden="true">#</a> \u4FA6\u542C\u5668\u8C03\u8BD5</h3><p>\u5728 watch \u4E2D\uFF0C\u4FA6\u542C\u5668\u8C03\u8BD5\u662F\u5728\u7B2C\u4E09\u4E2A\u53C2\u6570\u4E2D\u914D\u7F6E\u3002</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> trackOptions <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;trackOptions&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">watch</span><span class="token punctuation">(</span>
  <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token operator">...</span>trackOptions <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">(</span><span class="token parameter">newVal<span class="token punctuation">,</span> oldVal</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>newVal<span class="token punctuation">,</span> oldVal<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token function">onTrack</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;onTrack: &quot;</span><span class="token punctuation">,</span> e<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">onTrigger</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;onTrigger:&quot;</span><span class="token punctuation">,</span> e<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="teleport" tabindex="-1"><a class="header-anchor" href="#teleport" aria-hidden="true">#</a> teleport</h3><p>teleport \u63D0\u4F9B\u4E86\u4E00\u79CD\u5E72\u51C0\u7684\u65B9\u6CD5\uFF0C\u5141\u8BB8\u6211\u4EEC\u63A7\u5236\u5728 DOM \u4E2D\u54EA\u4E2A\u7236\u8282\u70B9\u4E0B\u6E32\u67D3\u4E86 HTML\uFF0C\u800C\u4E0D\u5FC5\u6C42\u52A9\u4E8E\u5168\u5C40\u72B6\u6001\u6216\u5C06\u5176\u62C6\u5206\u4E3A\u4E24\u4E2A\u7EC4\u4EF6\u3002 \u4EC0\u4E48\u610F\u601D\u5462\uFF1F\u5C31\u662F\u6211\u4EEC\u7EC4\u4EF6\u7684 html \u8282\u70B9\u53EF\u4EE5\u901A\u8FC7 teleport \u6302\u8F7D\u5230\u4EFB\u610F\u4F4D\u7F6E\u3002</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;about&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>teleport to<span class="token operator">=</span><span class="token string">&quot;#app&quot;</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>\u6211\u662F\u901A\u8FC7teleport\u4F20\u9012\u8FC7\u6765\u7684\uFF0C\u6302\u8F7D\u5728app\u4E0B\u9762<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>teleport<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
<span class="token comment">// \u6BD4\u5982\u6211\u4EEC\u7684about\u7EC4\u4EF6\u91CC\u9762\u5C31\u53EF\u4EE5\u901A\u8FC7  &lt;teleport to=&quot;#app&quot;&gt;  \u628A&lt;div&gt;\u6211\u662F\u901A\u8FC7teleport\u4F20\u9012\u8FC7\u6765\u7684\uFF0C\u6302\u8F7D\u5728app\u4E0B\u9762&lt;/div&gt;\u6302\u8F7D\u5230id\u4E3Aapp\u7684html\u8282\u70B9\u4E0B\u3002</span>

<span class="token comment">// \u6211\u4EEC\u6765\u770B\u770B\u6E32\u67D3\u6548\u679C\uFF0C\u53D1\u73B0\u6211\u4EEC\u5199\u5728about\u9875\u9762\u7684\u5143\u7D20\u88AB\u6302\u8F7D\u5230\u4E86app\u8282\u70B9\u4E0B\u3002</span>

<span class="token comment">// teleport\u7684to\u5C5E\u6027\u5FC5\u987B\u662F\u6709\u6548\u7684\u67E5\u8BE2\u9009\u62E9\u5668\u6216 HTMLElement</span>
<span class="token comment">// &lt;!-- \u6B63\u786E --&gt;</span>
<span class="token operator">&lt;</span>teleport to<span class="token operator">=</span><span class="token string">&quot;#some-id&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>teleport to<span class="token operator">=</span><span class="token string">&quot;.some-class&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>teleport to<span class="token operator">=</span><span class="token string">&quot;[data-teleport]&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>

<span class="token comment">// &lt;!-- \u9519\u8BEF --&gt;</span>
<span class="token operator">&lt;</span>teleport to<span class="token operator">=</span><span class="token string">&quot;h1&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>teleport to<span class="token operator">=</span><span class="token string">&quot;some-string&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>

<span class="token comment">// teleport\u8FD8\u652F\u6301disabled\u9009\u9879\u3002\u6B64\u53EF\u9009\u5C5E\u6027\u53EF\u7528\u4E8E\u7981\u7528 &lt;teleport&gt; \u7684\u529F\u80FD\uFF0C\u8FD9\u610F\u5473\u7740\u5176\u63D2\u69FD\u5185\u5BB9\u5C06\u4E0D\u4F1A\u79FB\u52A8\u5230\u4EFB\u4F55\u4F4D\u7F6E\uFF0C\u800C\u662F\u5728\u4F60\u5728\u5468\u56F4\u7236\u7EC4\u4EF6\u4E2D\u6307\u5B9A\u4E86 &lt;teleport&gt; \u7684\u4F4D\u7F6E\u6E32\u67D3\u3002</span>
<span class="token operator">&lt;</span>teleport to<span class="token operator">=</span><span class="token string">&quot;#app&quot;</span> <span class="token operator">:</span>disabled<span class="token operator">=</span><span class="token string">&quot;displayVideoInline&quot;</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>video src<span class="token operator">=</span><span class="token string">&quot;./my-movie.mp4&quot;</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>teleport<span class="token operator">&gt;</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="suspense" tabindex="-1"><a class="header-anchor" href="#suspense" aria-hidden="true">#</a> Suspense</h3><p>\u6211\u4EEC\u5728 vue2 \u4E2D\u80AF\u5B9A\u5199\u8FC7\u8FD9\u6837\u7684\u4EE3\u7801</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div v<span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">&quot;!loading&quot;</span><span class="token operator">&gt;</span><span class="token operator">...</span>\u9875\u9762\u5185\u5BB9<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div v<span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">&quot;loading&quot;</span><span class="token operator">&gt;</span>\u52A0\u8F7D\u4E2D<span class="token operator">...</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// Suspense\u5C31\u662F\u7528\u6765\u66F4\u4F18\u96C5\u7684\u5C55\u793A\u5185\u5BB9\u3002\u9700\u8981\u642D\u914DdefineAsyncComponent\u4F7F\u7528\u3002</span>
<span class="token operator">&lt;</span>suspense<span class="token operator">&gt;</span> \u7EC4\u4EF6\u6709\u4E24\u4E2A\u63D2\u69FD\u3002\u5B83\u4EEC\u90FD\u53EA\u63A5\u6536\u4E00\u4E2A\u76F4\u63A5\u5B50\u8282\u70B9\u3002<span class="token keyword">default</span> \u63D2\u69FD\u91CC\u7684\u8282\u70B9\u4F1A\u5C3D\u53EF\u80FD\u5C55\u793A\u51FA\u6765\u3002\u5982\u679C\u4E0D\u80FD\uFF0C\u5219\u5C55\u793A fallback \u63D2\u69FD\u91CC\u7684\u8282\u70B9\u3002
<span class="token comment">// \u7236\u7EC4\u4EF6</span>
<span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>Suspense<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>template #<span class="token keyword">default</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>AsyncPage <span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>template #fallback<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>Loading<span class="token operator">...</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>Suspense<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> defineComponent<span class="token punctuation">,</span>  defineAsyncComponent <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineComponent</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">components</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u65E0\u914D\u7F6E\u9879\u5F02\u6B65\u7EC4\u4EF6</span>
    <span class="token literal-property property">AsyncPage</span><span class="token operator">:</span> <span class="token function">defineAsyncComponent</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">&quot;@/components/AsyncCom.vue&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>

    <span class="token comment">// \u6709\u914D\u7F6E\u9879\u5F02\u6B65\u7EC4\u4EF6</span>
    <span class="token comment">// AsyncPage: defineAsyncComponent({</span>
    <span class="token comment">//   loader: () =&gt; import(&quot;@/components/AsyncCom.vue&quot;),</span>
    <span class="token comment">//   delay: 3000,</span>
    <span class="token comment">//   timeout: 3000,</span>
    <span class="token comment">//   // errorComponent: () =&gt; import(&quot;./ErrorComponent.vue&quot;),</span>
    <span class="token comment">//   // loadingComponent: () =&gt; import(&quot;./LoadingComponent.vue&quot;),</span>
    <span class="token comment">// }),</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

<span class="token comment">// \u5B50\u7EC4\u4EF6 AsyncCom.vue</span>
<span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>hi \u6211\u662F\u5F02\u6B65\u7EC4\u4EF6<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> defineComponent<span class="token punctuation">,</span> inject<span class="token punctuation">,</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineComponent</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token keyword">async</span> <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// sleep \u6A21\u62DF\u540E\u7AEF\u8BF7\u6C42\u63A5\u53E3</span>
    <span class="token keyword">const</span> <span class="token function-variable function">sleep</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">times</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span> times<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token comment">// \u8BF7\u6C422\u79D2</span>
    <span class="token keyword">await</span> <span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">2000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>\u6CE8\u610F\uFF0CSuspense \u662F\u4E00\u4E2A\u8BD5\u9A8C\u6027\u7684\u65B0\u7279\u6027\uFF0C\u5176 API \u53EF\u80FD\u968F\u65F6\u4F1A\u53D1\u751F\u53D8\u52A8\u3002\u7279\u6B64\u58F0\u660E\uFF0C\u4EE5\u4FBF\u793E\u533A\u80FD\u591F\u4E3A\u5F53\u524D\u7684\u5B9E\u73B0\u63D0\u4F9B\u53CD\u9988\u3002\u751F\u4EA7\u73AF\u5883\u8BF7\u52FF\u4F7F\u7528\u3002\u6211\u4EEC\u76EE\u524D\u4E86\u89E3\u6709\u8FD9\u4E2A\u4E1C\u897F\u5373\u53EF\u3002</p></blockquote><h3 id="\u591A\u7247\u6BB5" tabindex="-1"><a class="header-anchor" href="#\u591A\u7247\u6BB5" aria-hidden="true">#</a> \u591A\u7247\u6BB5</h3><p>vue3 \u73B0\u5728\u6B63\u5F0F\u652F\u6301\u4E86\u591A\u6839\u8282\u70B9\u7684\u7EC4\u4EF6\uFF0C\u4E5F\u5C31\u662F\u7247\u6BB5\uFF01\u4EC0\u4E48\u610F\u601D\u5462\uFF1F\u4E0B\u9762\u770B\u4E2A\u4F8B\u5B50\u5C31\u660E\u767D\u4E86\u3002 \u5728 vue2 \u4E2D\uFF0C\u7531\u4E8E\u4E0D\u652F\u6301\u591A\u6839\u8282\u70B9\u7EC4\u4EF6\uFF0C\u5F53\u5176\u88AB\u5F00\u53D1\u8005\u610F\u5916\u5730\u521B\u5EFA\u65F6\u4F1A\u53D1\u51FA\u8B66\u544A\u3002\u7ED3\u679C\u662F\uFF0C\u4E3A\u4E86\u4FEE\u590D\u8FD9\u4E2A\u95EE\u9898\uFF0C\u8BB8\u591A\u7EC4\u4EF6\u88AB\u5305\u88F9\u5728\u4E86\u4E00\u4E2A \xA0div\xA0 \u4E2D\u3002</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>header</span><span class="token punctuation">&gt;</span></span>...<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>header</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>main</span><span class="token punctuation">&gt;</span></span>...<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>main</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>footer</span><span class="token punctuation">&gt;</span></span>...<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>footer</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
\u5728 vue3 \u4E2D\uFF0C\u7EC4\u4EF6\u53EF\u4EE5\u5305\u542B\u591A\u4E2A\u6839\u8282\u70B9\uFF01\u4F46\u662F\uFF0C\u8FD9\u8981\u6C42\u5F00\u53D1\u8005\u663E\u5F0F\u5B9A\u4E49 attribute
\u5E94\u8BE5\u5206\u5E03\u5728\u54EA\u91CC\u3002
<span class="token comment">&lt;!-- Layout.vue --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>header</span><span class="token punctuation">&gt;</span></span>...<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>header</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>main</span> <span class="token attr-name">v-bind</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>$attrs<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>...<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>main</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>footer</span><span class="token punctuation">&gt;</span></span>...<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>footer</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u8FD9\u4E00\u6BB5\u662F\u4EC0\u4E48\u610F\u601D\u5462\uFF1F\u6211\u4EEC\u5148\u6765\u8BF4\u8BF4$attrs\u3002</p><h3 id="attrs" tabindex="-1"><a class="header-anchor" href="#attrs" aria-hidden="true">#</a> $attrs</h3><p>\u5728 vue2 \u4E2D\uFF0C\u6211\u4EEC\u77E5\u9053 this.$attrs \u5305\u542B\u4E86\u7236\u4F5C\u7528\u57DF\u4E2D\u4E0D\u4F5C\u4E3A prop \u88AB\u8BC6\u522B (\u4E14\u83B7\u53D6) \u7684 attribute \u7ED1\u5B9A (class\xA0 \u548C \xA0style\xA0 \u9664\u5916)\u3002 // \u7236\u7EC4\u4EF6</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Child3</span>
  <span class="token attr-name">:fullName</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>fullName<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">:age</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>24<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>child3<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>child3<span class="token punctuation">&quot;</span></span>
  <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">color</span><span class="token punctuation">:</span> blue</span><span class="token punctuation">&quot;</span></span></span>
<span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Child3</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token comment">// \u5B50\u7EC4\u4EF6</span>
  <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u8BBE\u7F6EinheritAttrs false \u4E0D\u63A5\u53D7\u6CA1\u6709\u5728props\u4E2D\u5B9A\u4E49\u7684\u5C5E\u6027</span>
    <span class="token comment">// inheritAttrs: false,</span>
    <span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">fullName</span><span class="token operator">:</span> String<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">created</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// \u83B7\u53D6\u6CA1\u5728props\u4E2D\u5B9A\u4E49\u7684\u4F46\u662F\u4F20\u9012\u8FC7\u6765\u7684\u5C5E\u6027</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>$attrs<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// \u8F93\u51FA{age: 24, id: &#39;child3&#39;}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u4E0A\u9762\u7684\u4F8B\u5B50\u8F93\u51FA\u6CA1\u5728\u5B50\u7EC4\u4EF6\u63A5\u6536\u7684 age \u548C id \u6240\u4EE5\u4F1A\u8F93\u51FA{age: 24, id: &#39;child3&#39;}(\u56E0\u4E3A class\xA0 \u548C \xA0style \u4F1A\u88AB\u5FFD\u7565)\u3002 \u5728 vue3 \u4E2D\u6709\u4E86\u66F4\u6539\uFF0Cattrs \u88AB\u8F6C\u79FB\u5230 setup \u7684\u7B2C\u4E8C\u4E2A\u53C2\u6570 context \u4E0A\uFF0Ccontext.attrs\u3002\u5E76\u4E14 class\xA0 \u548C \xA0style \u4E5F\u90FD\u4E0D\u518D\u5FFD\u7565\u4E86\u3002\u4E5F\u5C31\u662F\u8BF4 class\xA0 \u548C \xA0style \u4E5F\u4F1A\u5728 attrs \u91CC\u9762\u3002</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>// \u7236\u7EC4\u4EF6
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Child2</span> <span class="token attr-name"><span class="token namespace">v-model:</span>name1</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>name1<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">v-model:</span>name2</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>name2<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>child2<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>child2<span class="token punctuation">&quot;</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">color</span><span class="token punctuation">:</span> blue</span><span class="token punctuation">&quot;</span></span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Child3</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token comment">// \u5B50\u7EC4\u4EF6</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">name1</span><span class="token operator">:</span> String<span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token parameter">props<span class="token punctuation">,</span> context</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u83B7\u53D6\u6CA1\u5728props\u4E2D\u5B9A\u4E49\u7684\u4F46\u662F\u4F20\u9012\u8FC7\u6765\u7684\u5C5E\u6027</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>context<span class="token punctuation">.</span>attrs<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// \u8F93\u51FA{name2: &#39;randy&#39;, class: &#39;child2&#39;, id: &#39;child2&#39;, style: {color: &#39;blue&#39;}}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>\u4E0A\u9762\u4F1A\u8F93\u51FA\u5168\u90E8\u672A\u88AB\u63A5\u6536\u7684 prop\uFF0C\u8F93\u51FA{age: 24, class: &#39;child3&#39;, id: &#39;child3&#39;, style:\xA0{color:\xA0&#39;blue&#39;}}<br> \u5728 vue2 \u4E2D\u7531\u4E8E\u53EA\u6709\u4E00\u4E2A\u7247\u6BB5\uFF0C\u6240\u4EE5\u672A\u5728 props \u5B9A\u4E49\u7684\u5C5E\u6027\u4F1A\u76F4\u63A5\u6302\u8F7D\u5728\u6839\u7247\u6BB5\u4E0A\u3002<br> \u4F46\u662F vue3 \u7531\u4E8E\u652F\u6301\u591A\u4E2A\u7247\u6BB5\uFF0C\u6240\u4EE5\u5982\u679C\u4F7F\u7528\u4E86\u591A\u7247\u6BB5\u5E76\u4E14\u6709\u672A\u5728 props \u5B9A\u4E49\u7684\u5C5E\u6027\u5C31\u4F1A\u629B\u51FA\u8B66\u544A\uFF0C\u56E0\u4E3A\u5B83\u4E0D\u77E5\u9053\u628A\u8FD9\u4E9B\u672A\u5B9A\u4E49\u5728 props \u4E2D\u7684\u5C5E\u6027\u6302\u8F7D\u5230\u54EA\u4E2A\u7247\u6BB5\u4E0A\uFF0C\u6240\u4EE5\u5C31\u9700\u8981\u6211\u4EEC\u4F7F\u7528 v-bind=&quot;$attrs&quot;\u6765\u663E\u793A\u6307\u5B9A\u4E86\u3002</p></blockquote><p>\u770B\u5230\u8FD9\u5C0F\u4F19\u4F34\u4EEC\u662F\u4E0D\u662F\u5C31\u61C2\u4E86\u5462\u3002\u867D\u7136 vue3 \u652F\u6301\u591A\u7247\u6BB5\uFF0C\u4F46\u662F\u6211\u4EEC\u9700\u8981\u5B9A\u4E49 v-bind=&quot;$attrs&quot;\u3002</p><p>\u65E2\u7136\u8BB2\u5230\u4E86$attrs\uFF0C\u6211\u4EEC\u518D\u8BB2\u8BB2$listeners \u7684\u6539\u52A8\u3002</p><h3 id="listeners" tabindex="-1"><a class="header-anchor" href="#listeners" aria-hidden="true">#</a> $listeners</h3><p>\u6211\u4EEC\u77E5\u9053\u5728 vue2 \u4E2D$listeners\u5305\u542B\u4E86\u7236\u4F5C\u7528\u57DF\u4E2D\u7684 (\u4E0D\u542B\xA0.native\xA0\u4FEE\u9970\u5668\u7684)\xA0v-on\xA0\u4E8B\u4EF6\u76D1\u542C\u5668\u3002 \u4F46\u662F\u5728vue3\uFF0C$listeners \u88AB\u79FB\u9664\u4E86\uFF0C\u7236\u4F5C\u7528\u57DF\u4E2D\u7684\u4E8B\u4EF6\u76D1\u542C\u5668\u4E5F\u88AB\u653E\u5230\u4E86 attrs \u91CC\u9762\u3002\u76F8\u5F53\u4E8E\u662F\u5408\u5E76\u5728\u4E00\u8D77\u4E86\u3002</p><h3 id="\u751F\u547D\u5468\u671F\u6539\u52A8" tabindex="-1"><a class="header-anchor" href="#\u751F\u547D\u5468\u671F\u6539\u52A8" aria-hidden="true">#</a> \u751F\u547D\u5468\u671F\u6539\u52A8</h3><p>\u9996\u5148\u6211\u4EEC\u6765\u770B\u770B vue2 \u548C vue3 \u7684\u751F\u547D\u5468\u671F\u51FD\u6570\u3002</p><p>vue3 \u867D\u7136\u63D0\u5021\u628A\u751F\u547D\u5468\u671F\u51FD\u6570\u90FD\u653E\u5230 setup \u4E2D\uFF0C\u4F46\u662F vue2 \u90A3\u79CD\u9009\u9879\u5F0F\u5199\u6CD5\u8FD8\u662F\u652F\u6301\u7684\u3002</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code>vue2                vue3\u9009\u9879\u5F0F               <span class="token function">vue3</span><span class="token punctuation">(</span>setup<span class="token punctuation">)</span>
beforeCreate        beforeCreate             \u65E0
created             created                  \u65E0
beforeMount         beforeMount              onBeforeMount
mounted             mounted                  onMounted
beforeUpdate        beforeUpdate             onBeforeUpdate
updated             updated                  onUpdated
beforeDestroy       beforeUnmount            onBeforeUnmount
destroyed           unmounted                onUnmounted
errorCaptured       errorCaptured            onErrorCaptured
\u65E0                  renderTracked            onRenderTracked
\u65E0                  renderTriggered          onRenderTriggered
activated           activated                onActivated
deactivated         deactivated              onDeactivated
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="custom-container tip"><p class="custom-container-title">\u603B\u7ED3</p><p>vue2 \u76F8\u8F83\u4E8E vue3 \u5C11\u4E86 renderTracked\u3001renderTriggered \u4E24\u4E2A\u751F\u547D\u5468\u671F\u65B9\u6CD5\u3002 \u9500\u6BC1\u751F\u547D\u5468\u671F\u65B9\u6CD5\u540D\u4E5F\u53D1\u751F\u4E86\u53D8\u5316\uFF0C\u7531 beforeDestroy\u3001destroyed \u53D8\u4E3A beforeUnmount\u3001unmounted\uFF0C\u8FD9\u6837\u662F\u4E3A\u4E86\u66F4\u597D\u7684\u4E0E beforeMount\u3001mounted \u76F8\u5BF9\u5E94\u3002 vue3 \u5199\u5728 setup \u51FD\u6570\u4E2D\u751F\u547D\u5468\u671F\u65B9\u6CD5\u540D\u5C31\u662F\u524D\u9762\u591A\u52A0\u4E86 on\u3002</p><p>\u57FA\u672C\u7684\u751F\u547D\u5468\u671F\u51FD\u6570\u6211\u60F3\u4E0D\u5FC5\u7B14\u8005\u591A\u8BF4\u5C0F\u4F19\u4F34\u4EEC\u5E94\u8BE5\u90FD\u5F88\u6E05\u695A\u4E86\u3002\u4E0B\u9762\u91CD\u70B9\u8BF4\u4E0B renderTracked\u3001renderTriggered \u4E24\u4E2A\u65B9\u6CD5\u3002</p></div><h3 id="rendertracked" tabindex="-1"><a class="header-anchor" href="#rendertracked" aria-hidden="true">#</a> renderTracked</h3><p>\u7B80\u5355\u7406\u89E3\u5C31\u662F\uFF0C\u9996\u6B21\u6E32\u67D3\u65F6\uFF0C\u6A21\u677F\u91CC\u9762\u8FDB\u884C\u4E86\u54EA\u4E9B\u64CD\u4F5C\uFF0C\u4EE5\u53CA\u8BE5\u64CD\u4F5C\u7684\u76EE\u6807\u5BF9\u8C61\u548C\u952E\u3002<br> \u5982\u679C\u6709\u591A\u4E2A\u5C5E\u6027\uFF0C\u8FD9\u4E2A\u65B9\u6CD5\u4F1A\u88AB\u89E6\u53D1\u591A\u6B21\u3002<br> \u6211\u4EEC\u6765\u770B\u4F8B\u5B50<br></p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>{{ name }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>user: {{ user.age }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">import</span> <span class="token punctuation">{</span>
    defineComponent<span class="token punctuation">,</span>
    onRenderTracked<span class="token punctuation">,</span>
    onRenderTriggered<span class="token punctuation">,</span>
    ref<span class="token punctuation">,</span>
    reactive<span class="token punctuation">,</span>
  <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>
  <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineComponent</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> name <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token string">&quot;randy&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">const</span> user <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">27</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token function">onRenderTracked</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> key<span class="token punctuation">,</span> target<span class="token punctuation">,</span> type <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;onRenderTracked&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> key<span class="token punctuation">,</span> target<span class="token punctuation">,</span> type <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">onRenderTriggered</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> key<span class="token punctuation">,</span> target<span class="token punctuation">,</span> type <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;onRenderTriggered&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> key<span class="token punctuation">,</span> target<span class="token punctuation">,</span> type <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token keyword">return</span> <span class="token punctuation">{</span>
        name<span class="token punctuation">,</span>
        user<span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u9875\u9762\u9996\u6B21\u52A0\u8F7D\u53EA\u4F1A\u89E6\u53D1 onRenderTracked \u65B9\u6CD5\u3002<br> \u56E0\u4E3A\u6A21\u677F\u91CC\u9762\u7528\u5230\u4E86 name \u548C user.age \u6240\u4EE5\u8BE5\u65B9\u6CD5\u4F1A\u88AB\u89E6\u53D1\u4E24\u6B21\u8F93\u51FA{key: &#39;value&#39;, target: RefImpl, type: &#39;get&#39;}\u548C{key: &#39;age&#39;, target: {age:\xA027}, type: &#39;get&#39;}\u3002<br> \u56E0\u4E3A name \u662F ref \u5B9A\u4E49\u7684\uFF0C\u6240\u4EE5 key \u59CB\u7EC8\u662F value\uFF0C\u5E76\u4E14\u53EA\u662F\u8BFB\u64CD\u4F5C\uFF0C\u6240\u4EE5 type \u4E3A get\u3002<br> user \u662F reactive \u5B9A\u4E49\u7684\uFF0C\u5E76\u4E14\u6211\u4EEC\u53EA\u4F7F\u7528\u4E86 age \u5C5E\u6027\u6240\u4EE5 key \u662F age \u5E76\u4E14\u53EA\u662F\u8BFB\u64CD\u4F5C\uFF0C\u6240\u4EE5 type \u4E3A get\u3002<br></p><h3 id="rendertriggered" tabindex="-1"><a class="header-anchor" href="#rendertriggered" aria-hidden="true">#</a> renderTriggered</h3><p>\u7B80\u5355\u7406\u89E3\u5C31\u662F\uFF0C\u9875\u9762\u66F4\u65B0\u6E32\u67D3\u65F6\uFF0C\u6A21\u677F\u91CC\u9762\u8FDB\u884C\u4E86\u54EA\u4E9B\u64CD\u4F5C\uFF0C\u4EE5\u53CA\u8BE5\u64CD\u4F5C\u7684\u76EE\u6807\u5BF9\u8C61\u548C\u952E\u3002<br> \u5982\u679C\u6709\u591A\u4E2A\u5C5E\u6027\u88AB\u4FEE\u6539\uFF0C\u8FD9\u4E2A\u65B9\u6CD5\u4F1A\u88AB\u89E6\u53D1\u591A\u6B21\u3002<br> \u6211\u4EEC\u6765\u770B\u4F8B\u5B50</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>{{ name }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>changeName<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>changeName<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>user: {{ user.age }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">import</span> <span class="token punctuation">{</span>
    defineComponent<span class="token punctuation">,</span>
    onRenderTracked<span class="token punctuation">,</span>
    onRenderTriggered<span class="token punctuation">,</span>
    ref<span class="token punctuation">,</span>
    reactive<span class="token punctuation">,</span>
  <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>
  <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineComponent</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> name <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token string">&quot;randy&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">const</span> <span class="token function-variable function">changeName</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        name<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token string">&quot;demi&quot;</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">;</span>
      <span class="token keyword">const</span> user <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">27</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token function">onRenderTracked</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> key<span class="token punctuation">,</span> target<span class="token punctuation">,</span> type <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;onRenderTracked&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> key<span class="token punctuation">,</span> target<span class="token punctuation">,</span> type <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">onRenderTriggered</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> key<span class="token punctuation">,</span> target<span class="token punctuation">,</span> type <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;onRenderTriggered&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> key<span class="token punctuation">,</span> target<span class="token punctuation">,</span> type <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token keyword">return</span> <span class="token punctuation">{</span>
        name<span class="token punctuation">,</span>
        changeName<span class="token punctuation">,</span>
        user<span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u6211\u4EEC\u70B9\u51FB changeName \u6309\u94AE\u6765\u4FEE\u6539 name\uFF0C\u8FD9\u91CC\u53EA\u4F1A\u89E6\u53D1 onRenderTriggered \u65B9\u6CD5\u4E00\u6B21\u3002\u5E76\u4E14\u8F93\u51FA{key: &#39;value&#39;, target: RefImpl, type: &#39;set&#39;}\uFF0C\u56E0\u4E3A\u662F\u4FEE\u6539\u6240\u4EE5 type \u662F set\u3002</p><h3 id="\u751F\u547D\u5468\u671F\u5168\u6D41\u7A0B" tabindex="-1"><a class="header-anchor" href="#\u751F\u547D\u5468\u671F\u5168\u6D41\u7A0B" aria-hidden="true">#</a> \u751F\u547D\u5468\u671F\u5168\u6D41\u7A0B</h3><p>\u6709\u4E9B\u4EBA\u53EF\u80FD\u597D\u5947\uFF0C\u6240\u6709\u7684\u751F\u547D\u5468\u671F\u51FD\u6570\u987A\u5E8F\u5230\u5E95\u662F\u600E\u4E48\u6837\u7684\u5462\uFF1F \u6211\u4EEC\u5206\u5355\u7EC4\u4EF6\u548C\u7236\u5B50\u7EC4\u4EF6\u6765\u8BF4\u660E\u3002</p><h3 id="\u5355\u7EC4\u4EF6" tabindex="-1"><a class="header-anchor" href="#\u5355\u7EC4\u4EF6" aria-hidden="true">#</a> \u5355\u7EC4\u4EF6</h3><h3 id="\u9875\u9762\u9996\u6B21\u52A0\u8F7D" tabindex="-1"><a class="header-anchor" href="#\u9875\u9762\u9996\u6B21\u52A0\u8F7D" aria-hidden="true">#</a> \u9875\u9762\u9996\u6B21\u52A0\u8F7D</h3><blockquote><p>setup -&gt; onBeforeMount -&gt; onRenderTracked -&gt; onMounted</p></blockquote><h3 id="\u9875\u9762\u66F4\u65B0" tabindex="-1"><a class="header-anchor" href="#\u9875\u9762\u66F4\u65B0" aria-hidden="true">#</a> \u9875\u9762\u66F4\u65B0</h3><blockquote><p>onRenderTriggered -&gt; onBeforeUpdate -&gt; onUpdated</p></blockquote><h3 id="\u9875\u9762\u5378\u8F7D" tabindex="-1"><a class="header-anchor" href="#\u9875\u9762\u5378\u8F7D" aria-hidden="true">#</a> \u9875\u9762\u5378\u8F7D</h3><blockquote><p>onBeforeUnmount -&gt; onUnmounted</p></blockquote><h3 id="\u7236\u5B50\u7EC4\u4EF6" tabindex="-1"><a class="header-anchor" href="#\u7236\u5B50\u7EC4\u4EF6" aria-hidden="true">#</a> \u7236\u5B50\u7EC4\u4EF6</h3><h3 id="\u9875\u9762\u9996\u6B21\u52A0\u8F7D-1" tabindex="-1"><a class="header-anchor" href="#\u9875\u9762\u9996\u6B21\u52A0\u8F7D-1" aria-hidden="true">#</a> \u9875\u9762\u9996\u6B21\u52A0\u8F7D</h3><blockquote><p>\u7236\u7EC4\u4EF6 setup -&gt; \u7236\u7EC4\u4EF6 onBeforeMount -&gt; \u7236\u7EC4\u4EF6 onRenderTracked -&gt; \u5B50\u7EC4\u4EF6 setup -&gt; \u5B50\u7EC4\u4EF6 onBeforeMount -&gt; \u5B50\u7EC4\u4EF6 onRenderTracked -&gt; \u5B50\u7EC4\u4EF6 onMounted -&gt; \u7236\u7EC4\u4EF6 onMounted</p></blockquote><h3 id="\u9875\u9762\u66F4\u65B0-1" tabindex="-1"><a class="header-anchor" href="#\u9875\u9762\u66F4\u65B0-1" aria-hidden="true">#</a> \u9875\u9762\u66F4\u65B0</h3><blockquote><p>\u7EAF\u7236\u7EC4\u4EF6\u5C5E\u6027\u66F4\u65B0 onRenderTriggered -&gt; onBeforeUpdate -&gt; onUpdated<br></p></blockquote><blockquote><p>\u7EAF\u5B50\u7EC4\u4EF6\u5C5E\u6027\u66F4\u65B0 onRenderTriggered -&gt; onBeforeUpdate -&gt; onUpdated<br></p></blockquote><blockquote><p>\u7236\u7EC4\u4EF6\u5C5E\u6027\u66F4\u65B0\uFF0C\u8BE5\u5C5E\u6027\u5728\u5B50\u7EC4\u4EF6\u4E2D\u6709\u88AB\u4F7F\u7528 \u7236\u7EC4\u4EF6 onRenderTriggered -&gt; \u7236\u7EC4\u4EF6 onBeforeUpdate -&gt; \u5B50\u7EC4\u4EF6 onBeforeUpdate -&gt; \u5B50\u7EC4\u4EF6 onUpdated -&gt; \u7236\u7EC4\u4EF6 onUpdated<br></p></blockquote><blockquote><p>\u5B50\u7EC4\u4EF6\u5C5E\u6027\u66F4\u65B0\uFF0C\u8BE5\u5C5E\u6027\u5728\u7236\u7EC4\u4EF6\u4E2D\u6709\u88AB\u4F7F\u7528 \u5B50\u7EC4\u4EF6 onRenderTriggered -&gt; \u7236\u7EC4\u4EF6 onRenderTriggered -&gt; \u7236\u7EC4\u4EF6 onBeforeUpdate -&gt; \u5B50\u7EC4\u4EF6 onBeforeUpdate -&gt; \u5B50\u7EC4\u4EF6 onUpdated -&gt; \u7236\u7EC4\u4EF6 onUpdated<br></p></blockquote><h3 id="\u9875\u9762\u5378\u8F7D-1" tabindex="-1"><a class="header-anchor" href="#\u9875\u9762\u5378\u8F7D-1" aria-hidden="true">#</a> \u9875\u9762\u5378\u8F7D</h3><p>\u7236\u7EC4\u4EF6 onBeforeUnmount -&gt; \u5B50\u7EC4\u4EF6 onBeforeUnmount -&gt; \u5B50\u7EC4\u4EF6 onUnmounted -&gt; \u7236\u7EC4\u4EF6 onUnmounted</p><blockquote><p>\u6CE8\u610F\u4E0A\u9762\u751F\u547D\u5468\u671F\u51FD\u6570\u8C03\u7528\u987A\u5E8F\u5728 vue2 \u4E2D\u4E5F\u662F\u4E00\u81F4\u7684\uFF0C\u53EA\u4E0D\u8FC7 vue2 \u6CA1\u6709 setup\u3001 renderTracked\u3001renderTriggered\uFF0C\u5E76\u4E14\u9500\u6BC1\u65B9\u6CD5\u662F beforeDestroy\u3001destroyed\u3002</p></blockquote><h3 id="" tabindex="-1"><a class="header-anchor" href="#" aria-hidden="true">#</a></h3><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>// \u5728 vue2 \u4E2D\uFF0C\u6211\u4EEC\u53EF\u4EE5\u901A\u8FC7\u4E8B\u4EF6\u6765\u76D1\u542C\u7EC4\u4EF6\u751F\u547D\u5468\u671F\u4E2D\u7684\u5173\u952E\u9636\u6BB5\u3002\u8FD9\u4E9B\u4E8B\u4EF6\u540D\u90FD\u662F\u4EE5 hook: \u524D\u7F00\u5F00\u5934\uFF0C\u5E76\u8DDF\u968F\u76F8\u5E94\u7684\u751F\u547D\u5468\u671F\u94A9\u5B50\u7684\u540D\u5B57\u3002
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>child-component</span> <span class="token attr-name"><span class="token namespace">@hook:</span>updated</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>onUpdated<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

// \u5728 vue3 \u4E2D\uFF0C\u8FD9\u4E2A\u524D\u7F00\u5DF2\u88AB\u66F4\u6539\u4E3A vnode-\u3002\u989D\u5916\u5730\uFF0C\u8FD9\u4E9B\u4E8B\u4EF6\u73B0\u5728\u4E5F\u53EF\u7528\u4E8E HTML \u5143\u7D20\uFF0C\u548C\u5728\u7EC4\u4EF6\u4E0A\u7684\u7528\u6CD5\u4E00\u6837\u3002
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>child-component</span> <span class="token attr-name">@vnode-updated</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>onUpdated<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

// \u6216\u8005\u5728\u9A7C\u5CF0\u547D\u540D\u6CD5\u7684\u60C5\u51B5\u4E0B\u9644\u5E26\u524D\u7F00 vnode\uFF1A
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>child-component</span> <span class="token attr-name">@vnodeUpdated</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>onUpdated<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u5168\u5C40-api-\u6539\u52A8" tabindex="-1"><a class="header-anchor" href="#\u5168\u5C40-api-\u6539\u52A8" aria-hidden="true">#</a> \u5168\u5C40 API \u6539\u52A8</h3><p>\u4EFB\u4F55\u5168\u5C40\u6539\u53D8 Vue \u884C\u4E3A\u7684 API \u73B0\u5728\u90FD\u4F1A\u79FB\u52A8\u5230\u5E94\u7528\u5B9E\u4F8B\u4E0A app \u4E0A\uFF0C\u4EE5\u4E0B\u662F\u90E8\u5206\u5168\u5C40 API \u53CA\u5176\u76F8\u5E94\u5B9E\u4F8B API \u7684\u8868\uFF0C\u5982\u9700\u4E86\u89E3\u5F88\u591A\u53EF\u4EE5\u67E5\u770B\u5B98\u7F51\u3002</p><h4 id="\u4F4D\u7F6E\u53D8\u66F4" tabindex="-1"><a class="header-anchor" href="#\u4F4D\u7F6E\u53D8\u66F4" aria-hidden="true">#</a> \u4F4D\u7F6E\u53D8\u66F4</h4><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token number">2</span><span class="token punctuation">.</span>x \u5168\u5C40 <span class="token constant">API</span>                              <span class="token number">3</span><span class="token punctuation">.</span>x \u5B9E\u4F8B <span class="token constant">API</span> <span class="token punctuation">(</span>app<span class="token punctuation">)</span>
Vue<span class="token punctuation">.</span>config                               app<span class="token punctuation">.</span>config
Vue<span class="token punctuation">.</span>config<span class="token punctuation">.</span>productionTip                 removed    \u5DF2\u79FB\u9664
Vue<span class="token punctuation">.</span>config<span class="token punctuation">.</span>ignoredElements               app<span class="token punctuation">.</span>config<span class="token punctuation">.</span>isCustomElement
Vue<span class="token punctuation">.</span>component                            app<span class="token punctuation">.</span>component
Vue<span class="token punctuation">.</span>directive                            app<span class="token punctuation">.</span>directive
Vue<span class="token punctuation">.</span>mixin                                app<span class="token punctuation">.</span>mixin
Vue<span class="token punctuation">.</span>use                                  app<span class="token punctuation">.</span>use
Vue<span class="token punctuation">.</span>version                              app<span class="token punctuation">.</span>version
Vue<span class="token punctuation">.</span>filter                               removed \u5DF2\u79FB\u9664
<span class="token class-name">Vue</span><span class="token punctuation">.</span>prototype                            app<span class="token punctuation">.</span>config<span class="token punctuation">.</span>globalProperties
Vue<span class="token punctuation">.</span>extendremoved                        \u5DF2\u79FB\u9664 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>app \u901A\u8FC7 createApp \u65B9\u6CD5\u521B\u5EFA\u3002</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> createApp <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">createApp</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="nexttick" tabindex="-1"><a class="header-anchor" href="#nexttick" aria-hidden="true">#</a> nextTick</h3><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// \u5728vue2\u4E2D\u6211\u4EEC\u662F\u8FD9\u6837\u4F7F\u7528\u7684</span>
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$nextTick</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//\u6216\u8005</span>
Vue<span class="token punctuation">.</span><span class="token function">nextTick</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// \u5728vue3\u4E2D\u662F\u8FD9\u6837\u7684\uFF0C\u9700\u8981\u624B\u52A8\u5F15\u5165</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> nextTick <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>

<span class="token function">nextTick</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u5728 vue2 \u4E2D Vue.nextTick()\xA0 \u8FD9\u6837\u7684\u5168\u5C40 API \u662F\u4E0D\u652F\u6301 tree-shake \u7684\uFF0C\u4E0D\u7BA1\u5B83\u4EEC\u5B9E\u9645\u4E0A\u662F\u5426\u88AB\u4F7F\u7528\u4E86\uFF0C\u90FD\u4F1A\u88AB\u5305\u542B\u5728\u6700\u7EC8\u7684\u6253\u5305\u4EA7\u7269\u4E2D\u3002<br> \u800C vue3 \u4E2D\u7684\u5F15\u5165\u65F6\u5199\u6CD5\u53EF\u4EE5 tree-shaking \u80FD\u51CF\u5C11\u6253\u5305\u4F53\u79EF\u3002</p><h3 id="\u6A21\u677F\u6307\u4EE4\u6539\u52A8" tabindex="-1"><a class="header-anchor" href="#\u6A21\u677F\u6307\u4EE4\u6539\u52A8" aria-hidden="true">#</a> \u6A21\u677F\u6307\u4EE4\u6539\u52A8</h3><h3 id="v-model" tabindex="-1"><a class="header-anchor" href="#v-model" aria-hidden="true">#</a> v-model</h3><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>\u5728vue2\u4E2D v-model \u6307\u4EE4\u5728\u8868\u5355 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span><span class="token punctuation">&gt;</span></span>\u3001<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>textarea</span><span class="token punctuation">&gt;</span></span> \u53CA <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span><span class="token punctuation">&gt;</span></span> \u5143\u7D20\u4E0A\u521B\u5EFA\u53CC\u5411\u6570\u636E\u7ED1\u5B9A\u3002\u5B83\u4F1A\u6839\u636E\u63A7\u4EF6\u7C7B\u578B\u81EA\u52A8\u9009\u53D6\u6B63\u786E\u7684\u65B9\u6CD5\u6765\u66F4\u65B0\u5143\u7D20\u3002\u5C3D\u7BA1\u6709\u4E9B\u795E\u5947\uFF0C\u4F46 v-model \u672C\u8D28\u4E0A\u4E0D\u8FC7\u662F\u8BED\u6CD5\u7CD6\u3002\u5B83\u8D1F\u8D23\u76D1\u542C\u7528\u6237\u7684\u8F93\u5165\u4E8B\u4EF6\u4EE5\u66F4\u65B0\u6570\u636E\uFF0C\u5E76\u5BF9\u4E00\u4E9B\u6781\u7AEF\u573A\u666F\u8FDB\u884C\u4E00\u4E9B\u7279\u6B8A\u5904\u7406\u3002
v-model \u5728\u5185\u90E8\u4E3A\u4E0D\u540C\u7684\u8F93\u5165\u5143\u7D20\u4F7F\u7528\u4E0D\u540C\u7684 property \u5E76\u629B\u51FA\u4E0D\u540C\u7684\u4E8B\u4EF6\uFF1A

text \u548C textarea \u5143\u7D20\u4F7F\u7528 value property \u548C input \u4E8B\u4EF6\uFF1B
checkbox \u548C radio \u4F7F\u7528 checked property \u548C change \u4E8B\u4EF6\uFF1B
select \u5B57\u6BB5\u5C06 value \u4F5C\u4E3A prop \u5E76\u5C06 change \u4F5C\u4E3A\u4E8B\u4EF6\u3002

\u5728vue2\u4E2D\u53EA\u5BF9\u4E0A\u9762\u51E0\u4E2A\u8868\u5355\u9879\u505A\u4E86\u7279\u6B8A\u5904\u7406\u3002\u5982\u679C\u5728\u81EA\u5B9A\u4E49\u7EC4\u4EF6\u4E0A\u4F7F\u7528v-model\u9700\u8981\u5728\u7EC4\u4EF6\u5185\u901A\u8FC7model\u53C2\u6570\u6307\u660Ev-model\u7684\u5C5E\u6027\u548C\u4E8B\u4EF6\u3002
\u5982\u679C\u4E0D\u6307\u660Emodel\u5B83\u7684\u503C\u9ED8\u8BA4\u662Fvalue\uFF0C\u4E8B\u4EF6\u9ED8\u8BA4\u662Finput\u4E8B\u4EF6\u3002
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>// \u7236\u7EC4\u4EF6
{{ value2 }}
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Child4</span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>value2<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>

// \u5B50\u7EC4\u4EF6
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>value1<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@input</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>handleInput<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token comment">// \u5B9A\u4E49v-model\u4F20\u8FC7\u6765\u7684\u503C\u540D\u5B57\u662Fvalue1 \u4FEE\u6539\u503C\u7684\u4E8B\u4EF6\u662Fchange\u4E8B\u4EF6</span>
  <span class="token literal-property property">model</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">prop</span><span class="token operator">:</span> <span class="token string">&quot;value1&quot;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">event</span><span class="token operator">:</span> <span class="token string">&quot;change&quot;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">value1</span><span class="token operator">:</span> String<span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">handleInput</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">&quot;change&quot;</span><span class="token punctuation">,</span> e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u6709\u4E86 model \u8FD9\u6837\u6211\u4EEC\u7684\u81EA\u5B9A\u4E49\u7EC4\u4EF6 Child4 \u4E5F\u80FD\u4F7F\u7528 v-model \u5566\u3002\u5728 input \u8F93\u5165\u6846\u8F93\u5165\u7684\u65F6\u5019\u4F1A$emit \u51FA change \u4E8B\u4EF6\uFF0C\u8FD9\u4E2A\u4E8B\u4EF6\u4F1A\u76F4\u63A5\u4FEE\u6539\u7236\u7EC4\u4EF6 value2 \u7684\u503C\u3002<br> \u9664\u4E86\u4F7F\u7528 v-model\uFF0Cvue2 \u8FD8\u53EF\u4EE5\u4F7F\u7528.sync \u4FEE\u9970\u7B26\u6765\u76F4\u63A5\u4FEE\u6539\u7236\u5143\u7D20\u6570\u636E\u3002</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>// \u7236\u7EC4\u4EF6 {{ syncValue }}
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Child4</span> <span class="token attr-name">:syncTest.sync</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>syncValue<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>

// \u5B50\u7EC4\u4EF6
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>updateSyncTestValue<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\u4FEE\u6539syncTest\u7684\u503C<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">syncTest</span><span class="token operator">:</span> String<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token function">updateSyncTestValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">&quot;update:syncTest&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;new syncTest value&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u7236\u7EC4\u4EF6\u4F20\u9012\u7ED9\u5B50\u7EC4\u4EF6\u7684\u503C\u5982\u679C\u5E26\u4E86.sync \u5C31\u53EF\u4EE5\u5728\u5B50\u7EC4\u4EF6\u901A\u8FC7 update:xxx \u4E8B\u4EF6\u76F4\u63A5\u4FEE\u6539\u8BE5\u503C\u800C\u4E0D\u7528\u518D\u66B4\u9732\u4E8B\u4EF6\u5728\u7236\u7EC4\u4EF6\u53BB\u4FEE\u6539\u3002<br> \u8FD9\u6837\u6211\u4EEC\u70B9\u51FB\u5B50\u7EC4\u4EF6\u6309\u94AE\u89E6\u53D1 updateSyncTestValue \u65B9\u6CD5\uFF0C\u7236\u7EC4\u4EF6\u7684 syncTest \u503C\u4F1A\u53D8\u6210 new syncTest value\u3002<br> \u5728 vue3 \u4E2D v-model \u5F97\u5230\u4E86\u52A0\u5F3A\uFF0C\u81EA\u5B9A\u4E49\u7EC4\u4EF6\u4E5F\u53EF\u4EE5\u4F7F\u7528\u4E86 v-model\u3002\u800C\u4E0D\u7528\u53BB\u6307\u5B9A model \u6216\u8005\u4F7F\u7528.sync \u53C2\u6570\u4E86\u3002<br> \u9ED8\u8BA4\u60C5\u51B5\u4E0B\uFF0C\u7EC4\u4EF6\u4E0A\u7684 \xA0v-model\xA0 \u4F7F\u7528 \xA0modelValue\xA0 \u4F5C\u4E3A prop \u548C \xA0update:modelValue\xA0 \u4F5C\u4E3A\u4E8B\u4EF6\u3002<br></p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>// \u7236\u7EC4\u4EF6 {{name1}}
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Child1</span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>name1<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>

// \u5B50\u7EC4\u4EF6
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>child1<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>changeName<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\u6539\u53D8\u503C<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">import</span> <span class="token punctuation">{</span> defineComponent <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>
  <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineComponent</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">modelValue</span><span class="token operator">:</span> String<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> <span class="token function-variable function">changeName</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        context<span class="token punctuation">.</span><span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">&quot;update:modelValue&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;demi&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">;</span>
      <span class="token keyword">return</span> <span class="token punctuation">{</span>
        changeName<span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u5F53\u6211\u4EEC\u70B9\u51FB\u5B50\u7EC4\u4EF6\u6309\u94AE\u89E6\u53D1 changeName \u65B9\u6CD5\uFF0C\u4F1A\u76F4\u63A5\u4FEE\u6539\u7236\u7EC4\u4EF6\u7684 name1 \u503C\u3002</p><h3 id="\u81EA\u5B9A\u4E49\u53C2\u6570\u540D" tabindex="-1"><a class="header-anchor" href="#\u81EA\u5B9A\u4E49\u53C2\u6570\u540D" aria-hidden="true">#</a> \u81EA\u5B9A\u4E49\u53C2\u6570\u540D</h3><p>\u6211\u4EEC\u53EF\u4EE5\u901A\u8FC7\u5411 v-model \u4F20\u9012\u53C2\u6570\u6765\u4FEE\u6539\u8FD9\u4E9B\u540D\u79F0\uFF1A</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>// \u7236\u7EC4\u4EF6 {{name1}}
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Child1</span> <span class="token attr-name"><span class="token namespace">v-model:</span>name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>name1<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>

// \u5B50\u7EC4\u4EF6
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>child1<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>changeName<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\u6539\u53D8\u503C<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">import</span> <span class="token punctuation">{</span> defineComponent <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>
  <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineComponent</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">name</span><span class="token operator">:</span> String<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> <span class="token function-variable function">changeName</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        context<span class="token punctuation">.</span><span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">&quot;update:name&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;demi&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">;</span>
      <span class="token keyword">return</span> <span class="token punctuation">{</span>
        changeName<span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u591A\u4E2A\u53C2\u6570" tabindex="-1"><a class="header-anchor" href="#\u591A\u4E2A\u53C2\u6570" aria-hidden="true">#</a> \u591A\u4E2A\u53C2\u6570</h3><p>\u5F53\u6211\u4EEC\u70B9\u51FB\u5B50\u7EC4\u4EF6\u6309\u94AE\u89E6\u53D1 changeName1\u3001changeName2 \u65B9\u6CD5\uFF0C\u4F1A\u76F4\u63A5\u4FEE\u6539\u7236\u7EC4\u4EF6\u7684 name1\u3001name2 \u503C\u3002<br> \u6211\u4EEC\u8FD8\u53EF\u4EE5\u901A\u8FC7\u5411 v-model \u4F20\u9012\u591A\u4E2A\u53C2\u6570\uFF0C\u8FD9\u5728 vue2 \u4E2D\u662F\u4E0D\u53EF\u4EE5\u7684\u3002</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>// \u7236\u7EC4\u4EF6 name1: {{ name1 }} name2: {{ name2 }}
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Child2</span> <span class="token attr-name"><span class="token namespace">v-model:</span>name1</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>name1<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">v-model:</span>name2</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>name2<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>

// \u5B50\u7EC4\u4EF6
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>child2<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>changeName1<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\u6539\u53D8name1\u503C<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>changeName2<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\u6539\u53D8name2\u503C<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">import</span> <span class="token punctuation">{</span> defineComponent <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>
  <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineComponent</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">name1</span><span class="token operator">:</span> String<span class="token punctuation">,</span>
      <span class="token literal-property property">name2</span><span class="token operator">:</span> String<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> <span class="token function-variable function">changeName1</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        context<span class="token punctuation">.</span><span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">&quot;update:name1&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;demi1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">;</span>
      <span class="token keyword">const</span> <span class="token function-variable function">changeName2</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        context<span class="token punctuation">.</span><span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">&quot;update:name2&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;demi2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">;</span>
      <span class="token keyword">return</span> <span class="token punctuation">{</span>
        changeName1<span class="token punctuation">,</span>
        changeName2<span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="v-model-\u4FEE\u9970\u7B26" tabindex="-1"><a class="header-anchor" href="#v-model-\u4FEE\u9970\u7B26" aria-hidden="true">#</a> v-model \u4FEE\u9970\u7B26</h3><p>vue3 \u9664\u4E86\u652F\u6301.trim\u3001.number \u548C .lazy \u4FEE\u9970\u7B26\u3002\u8FD8\u652F\u6301\u6DFB\u52A0\u81EA\u5DF1\u7684\u81EA\u5B9A\u4E49\u4FEE\u9970\u7B26\u3002</p><p>\u4E0B\u9762\u7B14\u8005\u5199\u4E2A.capitalize \u4FEE\u9970\u7B26\uFF0C\u7528\u6765\u8F6C\u6362\u5B57\u6BCD\u4E3A\u5927\u5199\u3002</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>// \u7236\u7EC4\u4EF6 {{ name3 }}
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Child5</span> <span class="token attr-name">v-model.capitalize</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>name3<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>

// \u5B50\u7EC4\u4EF6
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>child5<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@input</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>changeName<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">import</span> <span class="token punctuation">{</span> defineComponent <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>
  <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineComponent</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">modelValue</span><span class="token operator">:</span> String<span class="token punctuation">,</span>
      <span class="token literal-property property">modelModifiers</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token function-variable function">default</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">setup</span><span class="token punctuation">(</span><span class="token parameter">props<span class="token punctuation">,</span> context</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>props<span class="token punctuation">.</span>modelModifiers<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// {capitalize: true}</span>
      <span class="token keyword">const</span> <span class="token function-variable function">changeName</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>props<span class="token punctuation">.</span>modelModifiers<span class="token punctuation">.</span>capitalize<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          context<span class="token punctuation">.</span><span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">&quot;update:modelValue&quot;</span><span class="token punctuation">,</span> e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
          context<span class="token punctuation">.</span><span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">&quot;update:modelValue&quot;</span><span class="token punctuation">,</span> e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">;</span>
      <span class="token keyword">return</span> <span class="token punctuation">{</span>
        changeName<span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u6211\u4EEC\u901A\u8FC7\u4F20\u9012.capitalize\uFF0C\u5728\u5B50\u7EC4\u4EF6 props \u4E2D\u63A5\u6536 modelModifiers\uFF0C\u8FD9\u4E2A\u5C5E\u6027\u91CC\u9762\u5B58\u653E\u4F20\u9012\u7684\u4FEE\u9970\u7B26\uFF0C\u6BD4\u5982\u6211\u4EEC\u4F20\u9012\u4E86.capitalize \u5B83\u7684\u503C\u5C31\u662F{capitalize: true}\uFF0C\u6240\u4EE5\u6211\u4EEC\u53EF\u4EE5\u6839\u636E\u8FD9\u4E2A\u5C5E\u6027\u8FD8\u81EA\u5B9A\u4E49\u64CD\u4F5C\u3002<br> \u5BF9\u4E8E\u5E26\u53C2\u6570\u7684 \xA0v-model\xA0 \u7ED1\u5B9A\uFF0C\u751F\u6210\u7684 prop \u540D\u79F0\u5C06\u4E3A \xA0arg + &quot;Modifiers&quot;\uFF0C\u8FD9\u91CC\u7B14\u8005\u5C31\u4E0D\u518D\u7EC6\u8BF4\u4E86\u3002</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Child5</span> <span class="token attr-name"><span class="token namespace">v-model:</span>name.capitalize</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>name3<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="key-\u652F\u6301\u5728-template-\u4F7F\u7528" tabindex="-1"><a class="header-anchor" href="#key-\u652F\u6301\u5728-template-\u4F7F\u7528" aria-hidden="true">#</a> key \u652F\u6301\u5728 template \u4F7F\u7528</h3><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>\u5728vue2\u4E2D\uFF0Ckey\u662F\u4E0D\u80FD\u5B9A\u4E49\u5728template\u8282\u70B9\u4E0A\u7684\u3002\u4F46\u662F\u5728vue3\u4E2D\u652F\u6301\u4E86\u3002
<span class="token comment">&lt;!-- Vue 2.x --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item in list<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&#39;</span>heading-&#39; + item.id<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>...<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&#39;</span>content-&#39; + item.id<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>...<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- Vue 3.x --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item in list<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item.id<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>...<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span>...<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u4FEE\u6539-v-if-\u548C-v-for-\u4F18\u5148\u7EA7" tabindex="-1"><a class="header-anchor" href="#\u4FEE\u6539-v-if-\u548C-v-for-\u4F18\u5148\u7EA7" aria-hidden="true">#</a> \u4FEE\u6539 v-if \u548C v-for \u4F18\u5148\u7EA7</h3><p>\u5728 vue2 \u4E2D v-for \u7684\u4F18\u5148\u7EA7\u662F\u6BD4 v-if \u9AD8\u7684\uFF0C\u5728\u4E00\u4E2A\u5143\u7D20\u4E0A\u540C\u65F6\u4F7F\u7528 \xA0v-if\xA0 \u548C \xA0v-for\xA0 \u65F6\uFF0Cv-for\xA0 \u4F1A\u4F18\u5148\u4F5C\u7528\u3002<br> \u4E0B\u9762\u6211\u4EEC\u6839\u636E\u6570\u636E show \u5B57\u6BB5\u8FDB\u884C\u904D\u5386\u5C55\u793A\uFF0C\u5728 vue2 \u4E2D\u662F\u53EF\u884C\u7684\u3002\u4F46\u662F\u5728 vue3 \u8FD9\u6837\u662F\u4E0D\u53EF\u884C\u7684\u3002</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token operator">&lt;</span>ul<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>li v<span class="token operator">-</span><span class="token keyword">for</span><span class="token operator">=</span><span class="token string">&quot;(list, index) of lists2&quot;</span> <span class="token operator">:</span>key<span class="token operator">=</span><span class="token string">&quot;index&quot;</span> v<span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">&quot;list.show&quot;</span><span class="token operator">&gt;</span>
    <span class="token punctuation">{</span><span class="token punctuation">{</span> list<span class="token punctuation">.</span>name <span class="token punctuation">}</span><span class="token punctuation">}</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>ul<span class="token operator">&gt;</span>

<span class="token literal-property property">lists2</span><span class="token operator">:</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;randy&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">show</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;demi&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">show</span><span class="token operator">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;jack&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">show</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u5728 vue3 \u4E2D\u9700\u8981\u8FD9\u6837\u5199\u3002\u56E0\u4E3A\u5728 vue3 \u4E2D v-if \u7684\u4F18\u5148\u7EA7\u6BD4 v-for \u66F4\u9AD8\uFF0C\u6240\u4EE5\u5728 v-if \u4E2D\u8BBF\u95EE\u4E0D\u5230 list\u3002</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token operator">&lt;</span>ul<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>li v<span class="token operator">-</span><span class="token keyword">for</span><span class="token operator">=</span><span class="token string">&quot;(list, index) of lists2&quot;</span> <span class="token operator">:</span>key<span class="token operator">=</span><span class="token string">&quot;index&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div v<span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">&quot;list.show&quot;</span><span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span> list<span class="token punctuation">.</span>name <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>ul<span class="token operator">&gt;</span>

<span class="token literal-property property">lists2</span><span class="token operator">:</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;randy&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">show</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;demi&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">show</span><span class="token operator">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;jack&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">show</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="v-bind-object-\u73B0\u5728\u6392\u5E8F\u654F\u611F" tabindex="-1"><a class="header-anchor" href="#v-bind-object-\u73B0\u5728\u6392\u5E8F\u654F\u611F" aria-hidden="true">#</a> v-bind=&quot;object&quot;\xA0 \u73B0\u5728\u6392\u5E8F\u654F\u611F</h3><p>\u5728\u4E00\u4E2A\u5143\u7D20\u4E0A\u52A8\u6001\u7ED1\u5B9A attribute \u65F6\uFF0C\u540C\u65F6\u4F7F\u7528 \xA0v-bind=&quot;object&quot;\xA0 \u8BED\u6CD5\u548C\u72EC\u7ACB attribute \u662F\u5E38\u89C1\u7684\u573A\u666F\u3002\u7136\u800C\uFF0C\u8FD9\u5C31\u5F15\u51FA\u4E86\u5173\u4E8E\u5408\u5E76\u7684\u4F18\u5148\u7EA7\u7684\u95EE\u9898\u3002<br> \u5728 vue2 \u4E2D\uFF0C\u5982\u679C\u4E00\u4E2A\u5143\u7D20\u540C\u65F6\u5B9A\u4E49\u4E86 \xA0v-bind=&quot;object&quot;\xA0 \u548C\u4E00\u4E2A\u76F8\u540C\u7684\u72EC\u7ACB attribute\uFF0C\u90A3\u4E48\u8FD9\u4E2A\u72EC\u7ACB attribute \u603B\u662F\u4F1A\u8986\u76D6 \xA0object\xA0 \u4E2D\u7684\u7ED1\u5B9A\u3002</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token comment">&lt;!-- \u6A21\u677F --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>red<span class="token punctuation">&quot;</span></span> <span class="token attr-name">v-bind</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{ id: &#39;blue&#39; }<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!-- \u7ED3\u679C --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>red<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u5728 vue3 \u4E2D\uFF0C\u5982\u679C\u4E00\u4E2A\u5143\u7D20\u540C\u65F6\u5B9A\u4E49\u4E86 \xA0v-bind=&quot;object&quot;\xA0 \u548C\u4E00\u4E2A\u76F8\u540C\u7684\u72EC\u7ACB attribute\uFF0C\u90A3\u4E48\u7ED1\u5B9A\u7684\u58F0\u660E\u987A\u5E8F\u5C06\u51B3\u5B9A\u5B83\u4EEC\u5982\u4F55\u88AB\u5408\u5E76\u3002\u540E\u9762\u7684\u4F1A\u8986\u76D6\u524D\u9762\u7684\u3002</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token comment">&lt;!-- \u6A21\u677F --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>red<span class="token punctuation">&quot;</span></span> <span class="token attr-name">v-bind</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{ id: &#39;blue&#39; }<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!-- \u7ED3\u679C --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>blue<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- \u6A21\u677F --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">v-bind</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{ id: &#39;blue&#39; }<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>red<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!-- \u7ED3\u679C --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>red<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u79FB\u9664-v-on-native-\u4FEE\u9970\u7B26" tabindex="-1"><a class="header-anchor" href="#\u79FB\u9664-v-on-native-\u4FEE\u9970\u7B26" aria-hidden="true">#</a> \u79FB\u9664 v-on.native \u4FEE\u9970\u7B26</h3><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token comment">&lt;!-- \u9ED8\u8BA4\u60C5\u51B5\u4E0B\uFF0C\u4F20\u9012\u7ED9\u5E26\u6709 v-on \u7684\u7EC4\u4EF6\u7684\u4E8B\u4EF6\u76D1\u542C\u5668\u53EA\u80FD\u901A\u8FC7 this.$emit \u89E6\u53D1\u3002\u5982\u679C\u8981\u5C06\u539F\u751F DOM \u76D1\u542C\u5668\u6DFB\u52A0\u5230\u5B50\u7EC4\u4EF6\u7684\u6839\u5143\u7D20\u4E2D\uFF0C\u53EF\u4EE5\u4F7F\u7528 .native \u4FEE\u9970\u7B26\uFF1A --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>my-component</span>
  <span class="token attr-name"><span class="token namespace">v-on:</span>close</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>handleComponentEvent<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name"><span class="token namespace">v-on:</span>click.native</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>handleNativeClickEvent<span class="token punctuation">&quot;</span></span>
<span class="token punctuation">/&gt;</span></span>
<span class="token comment">&lt;!-- 
\u8FD9\u91CC\u7684\u88AB.native\u4FEE\u9970\u7684click\u5C31\u662F\u539F\u751F\u4E8B\u4EF6\uFF0C\u5F53\u70B9\u51FB\u7684\u65F6\u5019\u624D\u4F1A\u89E6\u53D1\u3002
\u5728vue3\u4E2Dv-on \u7684 .native \u4FEE\u9970\u7B26\u5DF2\u88AB\u79FB\u9664\u3002\u540C\u65F6\uFF0C\u65B0\u589E\u7684 emits \u9009\u9879\u5141\u8BB8\u5B50\u7EC4\u4EF6\u5B9A\u4E49\u771F\u6B63\u4F1A\u88AB\u89E6\u53D1\u7684\u4E8B\u4EF6\u3002
\u56E0\u6B64\uFF0C\u5BF9\u4E8E\u5B50\u7EC4\u4EF6\u4E2D\u672A\u88AB\u5B9A\u4E49\u4E3A\u7EC4\u4EF6\u89E6\u53D1\u7684\u6240\u6709\u4E8B\u4EF6\u76D1\u542C\u5668\uFF0CVue \u73B0\u5728\u5C06\u628A\u5B83\u4EEC\u4F5C\u4E3A\u539F\u751F\u4E8B\u4EF6\u76D1\u542C\u5668\u6DFB\u52A0\u5230\u5B50\u7EC4\u4EF6\u7684\u6839\u5143\u7D20\u4E2D (\u9664\u975E\u5728\u5B50\u7EC4\u4EF6\u7684\u9009\u9879\u4E2D\u8BBE\u7F6E\u4E86 inheritAttrs: false)\u3002 --&gt;</span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>my-component</span>
  <span class="token attr-name"><span class="token namespace">v-on:</span>close</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>handleComponentEvent<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name"><span class="token namespace">v-on:</span>click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>handleNativeClickEvent<span class="token punctuation">&quot;</span></span>
<span class="token punctuation">/&gt;</span></span>
\u5B50\u7EC4\u4EF6
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">emits</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;close&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- \u5728\u4E0A\u9762\u7684\u4F8B\u5B50\u4E2D\uFF0C\u56E0\u4E3A\u5B50\u7EC4\u4EF6\u5B9A\u4E49\u4E86emits: [&#39;close&#39;]\uFF0C\u4E5F\u5C31\u662F\u8BF4\u7EC4\u4EF6\u8BF4\u660E\u4E86\uFF0C\u6211\u53EA\u4F1A\u66B4\u9732\u51FAclose\u4E8B\u4EF6\uFF0C\u5176\u4ED6\u7684\u4E8B\u4EF6\u4F60\u5C31\u5F53\u539F\u751F\u4E8B\u4EF6\u5904\u7406\u5C31\u53EF\u4EE5\u4E86\u3002\u6240\u4EE5click\u4E8B\u4EF6\u5C31\u662F\u539F\u751F\u4E8B\u4EF6\u4E86 --&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="v-for-\u4E2D\u7684-ref" tabindex="-1"><a class="header-anchor" href="#v-for-\u4E2D\u7684-ref" aria-hidden="true">#</a> v-for \u4E2D\u7684 ref</h3><p>\u5728 vue2 \u4E2D\uFF0C\u5728 \xA0v-for\xA0 \u4E2D\u4F7F\u7528\u7684 \xA0ref\xA0attribute \u4F1A\u7528 ref \u6570\u7EC4\u586B\u5145\u76F8\u5E94\u7684 \xA0$refs\xA0property\u3002\u5F53\u5B58\u5728\u5D4C\u5957\u7684\xA0v-for\xA0\u65F6\uFF0C\u8FD9\u79CD\u884C\u4E3A\u4F1A\u53D8\u5F97\u4E0D\u660E\u786E\u4E14\u6548\u7387\u4F4E\u4E0B\u3002<br> \u5728 vue3 \u4E2D\uFF0C\u6B64\u7C7B\u7528\u6CD5\u5C06\u4E0D\u518D\u81EA\u52A8\u521B\u5EFA\xA0$ref\xA0 \u6570\u7EC4\u3002\u8981\u4ECE\u5355\u4E2A\u7ED1\u5B9A\u83B7\u53D6\u591A\u4E2A ref\uFF0C\u8BF7\u5C06 \xA0ref\xA0 \u7ED1\u5B9A\u5230\u4E00\u4E2A\u66F4\u7075\u6D3B\u7684\u51FD\u6570\u4E0A (\u8FD9\u662F\u4E00\u4E2A\u65B0\u7279\u6027)\uFF1A<br></p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token operator">&lt;</span>div v<span class="token operator">-</span><span class="token keyword">for</span><span class="token operator">=</span><span class="token string">&quot;item in list&quot;</span> <span class="token operator">:</span>ref<span class="token operator">=</span><span class="token string">&quot;setItemRef&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// \u9009\u9879\u5F0F API:</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">itemRefs</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">setItemRef</span><span class="token punctuation">(</span><span class="token parameter">el</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>el<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>itemRefs<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>el<span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">beforeUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>itemRefs <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">updated</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>itemRefs<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// \u7EC4\u5408\u5F0F API:</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> onBeforeUpdate<span class="token punctuation">,</span> onUpdated <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> itemRefs <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token keyword">const</span> <span class="token function-variable function">setItemRef</span> <span class="token operator">=</span> <span class="token parameter">el</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>el<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        itemRefs<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>el<span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token function">onBeforeUpdate</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      itemRefs <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token function">onUpdated</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>itemRefs<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      setItemRef
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>itemRefs\xA0 \u4E0D\u5FC5\u662F\u6570\u7EC4\uFF1A\u5B83\u4E5F\u53EF\u4EE5\u662F\u4E00\u4E2A\u5BF9\u8C61\uFF0C\u5176 ref \u53EF\u4EE5\u901A\u8FC7\u8FED\u4EE3\u7684 key \u88AB\u8BBE\u7F6E\u3002\u5982\u6709\u9700\u8981\uFF0CitemRefs\xA0 \u4E5F\u53EF\u4EE5\u662F\u54CD\u5E94\u5F0F\u7684\uFF0C\u4E14\u53EF\u4EE5\u88AB\u4FA6\u542C\u3002</p><h3 id="\u7EC4\u4EF6\u6539\u52A8" tabindex="-1"><a class="header-anchor" href="#\u7EC4\u4EF6\u6539\u52A8" aria-hidden="true">#</a> \u7EC4\u4EF6\u6539\u52A8</h3><h3 id="\u51FD\u6570\u5F0F\u7EC4\u4EF6" tabindex="-1"><a class="header-anchor" href="#\u51FD\u6570\u5F0F\u7EC4\u4EF6" aria-hidden="true">#</a> \u51FD\u6570\u5F0F\u7EC4\u4EF6</h3><p>\u5728 vue2 \u4E2D\u6211\u4EEC\u4F7F\u7528 functional \u5B9A\u4E49\u51FD\u6570\u5F0F\u7EC4\u4EF6\u3002\u6709\u5982\u4E0B\u7279\u70B9</p><p>\u4F5C\u4E3A\u6027\u80FD\u4F18\u5316\uFF0C\u56E0\u4E3A\u5B83\u4EEC\u7684\u521D\u59CB\u5316\u901F\u5EA6\u6BD4\u6709\u72B6\u6001\u7EC4\u4EF6\u5FEB\u5F97\u591A \u8FD4\u56DE\u591A\u4E2A\u6839\u8282\u70B9</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token comment">&lt;!-- \u6BD4\u5982\u4F7F\u7528 &lt;dynamic-heading&gt; \u7EC4\u4EF6\uFF0C\u8D1F\u8D23\u63D0\u4F9B\u9002\u5F53\u7684\u6807\u9898 (\u5373\uFF1Ah1\u3001h2\u3001h3 \u7B49\u7B49)\uFF0C\u5728 vue2 \u4E2D\uFF0C\u8FD9\u53EF\u4EE5\u901A\u8FC7\u5355\u6587\u4EF6\u7EC4\u4EF6\u7F16\u5199\uFF1A --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">functional</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;level&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token function">render</span><span class="token punctuation">(</span><span class="token parameter">h<span class="token punctuation">,</span> <span class="token punctuation">{</span> props<span class="token punctuation">,</span> data<span class="token punctuation">,</span> children <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token function">h</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">h</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>props<span class="token punctuation">.</span>level<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">,</span> data<span class="token punctuation">,</span> children<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- \u6216\u8005\uFF0C\u5BF9\u4E8E\u559C\u6B22\u5728\u5355\u6587\u4EF6\u7EC4\u4EF6\u4E2D\u4F7F\u7528 &lt;template&gt; \u7684\u7528\u6237\uFF1A --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">functional</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>component</span> <span class="token attr-name">:is</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\`h\${props.level}\`<span class="token punctuation">&quot;</span></span> <span class="token attr-name">v-bind</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>attrs<span class="token punctuation">&quot;</span></span> <span class="token attr-name">v-on</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>listeners<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;level&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!-- 
\u4F46\u662F\u5728 vue3 \u4E2D\uFF0C\u6240\u6709\u7684\u51FD\u6570\u5F0F\u7EC4\u4EF6\u90FD\u662F\u7528\u666E\u901A\u51FD\u6570\u521B\u5EFA\u7684\u3002\u6362\u53E5\u8BDD\u8BF4\uFF0C\u4E0D\u9700\u8981\u5B9A\u4E49 { functional: true } \u7EC4\u4EF6\u9009\u9879\u3002\u4E5F\u5C31\u662F\u8BF4 functional \u5DF2\u7ECF\u88AB\u79FB\u9664\u4E86\u3002
\u5B83\u4EEC\u5C06\u63A5\u6536\u4E24\u4E2A\u53C2\u6570\uFF1Aprops \u548C context\u3002context \u53C2\u6570\u662F\u4E00\u4E2A\u5BF9\u8C61\uFF0C\u5305\u542B\u7EC4\u4EF6\u7684 attrs\u3001slots \u548C emit property\u3002
\u6B64\u5916\uFF0Ch \u73B0\u5728\u662F\u5168\u5C40\u5BFC\u5165\u7684\uFF0C\u800C\u4E0D\u662F\u5728 render \u51FD\u6570\u4E2D\u9690\u5F0F\u63D0\u4F9B\u3002
\u4EE5\u524D\u9762\u63D0\u5230\u7684 &lt;dynamic-heading&gt; \u7EC4\u4EF6\u4E3A\u4F8B\uFF0C\u4E0B\u9762\u662F\u5B83\u73B0\u5728\u7684\u6837\u5B50\u3002 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">import</span> <span class="token punctuation">{</span> h <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> <span class="token function-variable function">DynamicHeading</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">props<span class="token punctuation">,</span> context</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">h</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">h</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>props<span class="token punctuation">.</span>level<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">,</span> context<span class="token punctuation">.</span>attrs<span class="token punctuation">,</span> context<span class="token punctuation">.</span>slots<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  DynamicHeading<span class="token punctuation">.</span>props <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;level&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

  <span class="token keyword">export</span> <span class="token keyword">default</span> DynamicHeading<span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u5F02\u6B65\u7EC4\u4EF6" tabindex="-1"><a class="header-anchor" href="#\u5F02\u6B65\u7EC4\u4EF6" aria-hidden="true">#</a> \u5F02\u6B65\u7EC4\u4EF6</h3><p>\u5728 vue2 \u4E2D\u5F02\u6B65\u7EC4\u4EF6\u662F\u901A\u8FC7\u5C06\u7EC4\u4EF6\u5B9A\u4E49\u4E3A\u8FD4\u56DE Promise \u7684\u51FD\u6570\u6765\u521B\u5EFA\u7684\uFF0C\u4F8B\u5982\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token function-variable function">asyncModal</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">&quot;./Modal.vue&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// \u5728vue3\u4E2D\u5F02\u6B65\u7EC4\u4EF6\u901A\u8FC7defineAsyncComponent\u5B9A\u4E49</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> defineAsyncComponent <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>

<span class="token comment">// \u4E0D\u5E26\u9009\u9879\u7684\u5F02\u6B65\u7EC4\u4EF6</span>
<span class="token keyword">const</span> asyncModal <span class="token operator">=</span> <span class="token function">defineAsyncComponent</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">&quot;./Modal.vue&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="emits" tabindex="-1"><a class="header-anchor" href="#emits" aria-hidden="true">#</a> emits</h3><p>\u7EC4\u4EF6\u91CC\u9762\u65B0\u589E\u4E86 emits \u9009\u9879\uFF0C\u53EF\u4EE5\u901A\u8FC7 \xA0emits\xA0 \u9009\u9879\u5728\u7EC4\u4EF6\u4E0A\u5B9A\u4E49\u53D1\u51FA\u7684\u4E8B\u4EF6\u3002 \u4E0B\u9762\u770B\u4F8B\u5B50</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>// \u7236\u7EC4\u4EF6
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Child4</span> <span class="token attr-name">@submit</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>handleSubmit<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>

// \u5B50\u7EC4\u4EF6
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>child4<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span>child4<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>handleClick<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>handleClick<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">import</span> <span class="token punctuation">{</span> defineComponent<span class="token punctuation">,</span> ref<span class="token punctuation">,</span> reactive <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>
  <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineComponent</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token comment">// \u4E0Eprops\u7C7B\u4F3C\uFF0C\u652F\u6301\u6570\u7EC4\u548C\u5BF9\u8C61</span>
    <span class="token comment">// emits: [&quot;submit&quot;],</span>
    <span class="token literal-property property">emits</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">submit</span><span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">setup</span><span class="token punctuation">(</span><span class="token parameter">props<span class="token punctuation">,</span> <span class="token punctuation">{</span> emit <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> <span class="token function-variable function">handleClick</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">&quot;submit&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;randy&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">;</span>

      <span class="token keyword">return</span> <span class="token punctuation">{</span>
        handleClick<span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u5728\u8FD9\u4E2A\u4F8B\u5B50\u4E2D\uFF0C\u5B50\u7EC4\u4EF6\u5BF9\u5916\u66B4\u9732\u4E86 submit \u4E8B\u4EF6\uFF0C\u6240\u4EE5\u9700\u8981\u5728 emits \u91CC\u9762\u5B9A\u4E49\u3002</p><h3 id="\u539F\u751F\u4E8B\u4EF6\u66FF\u4EE3" tabindex="-1"><a class="header-anchor" href="#\u539F\u751F\u4E8B\u4EF6\u66FF\u4EE3" aria-hidden="true">#</a> \u539F\u751F\u4E8B\u4EF6\u66FF\u4EE3</h3><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>\u5F53\u5728 emits \u9009\u9879\u4E2D\u5B9A\u4E49\u4E86\u539F\u751F\u4E8B\u4EF6 (\u5982 click)
\u65F6\uFF0C\u5C06\u4F7F\u7528\u7EC4\u4EF6\u4E2D\u7684\u4E8B\u4EF6\u66FF\u4EE3\u539F\u751F\u4E8B\u4EF6\u4FA6\u542C\u5668\u3002 \u4E0B\u9762\u7B14\u8005\u518D\u51FA\u4E00\u4E2A\u4F8B\u5B50\u5C31\u4F1A\u660E\u767D\u4E86\u3002 //
\u7236\u7EC4\u4EF6
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Child4</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>handleClick<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
const handleClick = (data) =&gt; { console.log(data.value); }; // \u5B50\u7EC4\u4EF6
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>child4<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span>child4<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@input</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>handleInput<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">import</span> <span class="token punctuation">{</span> defineComponent<span class="token punctuation">,</span> ref<span class="token punctuation">,</span> reactive <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>
  <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineComponent</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">emits</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;click&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token function">setup</span><span class="token punctuation">(</span><span class="token parameter">props<span class="token punctuation">,</span> <span class="token punctuation">{</span> emit <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> <span class="token function-variable function">handleInput</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">&quot;click&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">value</span><span class="token operator">:</span> e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">;</span>

      <span class="token keyword">return</span> <span class="token punctuation">{</span>
        handleInput<span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u4E0A\u9762\u7684\u4F8B\u5B50\u6211\u4EEC\u5728 input \u8F93\u5165\u6846\u8F93\u5165\u5185\u5BB9\u7684\u65F6\u5019\u63A7\u5236\u53F0\u4F1A\u6253\u5370\u503C\u3002\u867D\u7136\u6211\u4EEC\u5728\u5B50\u7EC4\u4EF6\u4E0A\u76D1\u542C\u4E86 click \u65B9\u6CD5\uFF0C\u4F46\u662F\u5E76\u4E0D\u4F1A\u8D77\u4F5C\u7528\uFF0C\u4ED6\u88AB input \u4E8B\u4EF6\u66FF\u4EE3\u4E86\u3002 \u867D\u7136 vue \u652F\u6301\u8FD9\u79CD\u5199\u6CD5\u4F46\u662F\u7B14\u8005\u4E0D\u592A\u5EFA\u8BAE\u7528\u539F\u751F\u65B9\u6CD5\u547D\u540D\uFF0C\u5BB9\u6613\u6DF7\u6DC6\u3002</p><h3 id="\u4E8B\u4EF6\u9A8C\u8BC1" tabindex="-1"><a class="header-anchor" href="#\u4E8B\u4EF6\u9A8C\u8BC1" aria-hidden="true">#</a> \u4E8B\u4EF6\u9A8C\u8BC1</h3><p>\u4E0E prop \u7C7B\u578B\u9A8C\u8BC1\u7C7B\u4F3C\uFF0C\u5982\u679C\u4F7F\u7528\u5BF9\u8C61\u8BED\u6CD5\u800C\u4E0D\u662F\u6570\u7EC4\u8BED\u6CD5\u5B9A\u4E49\u53D1\u51FA\u7684\u4E8B\u4EF6\uFF0C\u5219\u53EF\u4EE5\u5BF9\u5B83\u8FDB\u884C\u9A8C\u8BC1\u3002 \u8981\u6DFB\u52A0\u9A8C\u8BC1\uFF0C\u8BF7\u4E3A\u4E8B\u4EF6\u5206\u914D\u4E00\u4E2A\u51FD\u6570\uFF0C\u8BE5\u51FD\u6570\u63A5\u6536\u4F20\u9012\u7ED9 \xA0$emit\xA0 \u8C03\u7528\u7684\u53C2\u6570\uFF0C\u5E76\u8FD4\u56DE\u4E00\u4E2A\u5E03\u5C14\u503C\u4EE5\u6307\u793A\u4E8B\u4EF6\u662F\u5426\u6709\u6548\u3002</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>// \u7236\u7EC4\u4EF6
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Child4</span> <span class="token attr-name">@submit</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>handleSubmit<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>

// \u5B50\u7EC4\u4EF6
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>child4<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span>child4<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>handleClick<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>handleClick<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">import</span> <span class="token punctuation">{</span> defineComponent<span class="token punctuation">,</span> ref<span class="token punctuation">,</span> reactive <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>
  <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineComponent</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">emits</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token function-variable function">submit</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> name<span class="token punctuation">,</span> age <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>name <span class="token operator">&amp;&amp;</span> age<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
          <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">setup</span><span class="token punctuation">(</span><span class="token parameter">props<span class="token punctuation">,</span> <span class="token punctuation">{</span> emit <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> <span class="token function-variable function">handleClick</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">&quot;submit&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;randy&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">;</span>

      <span class="token keyword">return</span> <span class="token punctuation">{</span>
        handleClick<span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u81EA\u5B9A\u4E49\u5143\u7D20" tabindex="-1"><a class="header-anchor" href="#\u81EA\u5B9A\u4E49\u5143\u7D20" aria-hidden="true">#</a> \u81EA\u5B9A\u4E49\u5143\u7D20</h3><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>\u5728vue2\u4E2Dtemplate\u91CC\u9762\u53EA\u80FD\u8BC6\u522Bhtml\u6807\u7B7E\u6216\u8005\u7EC4\u4EF6\uFF0C\u5982\u679C\u662F\u5176\u5B83\u4E0D\u8BA4\u8BC6\u7684\u6807\u7B7E\u4F1A\u62A5\u9519\u3002\u5982\u679C\u8981\u81EA\u5B9A\u4E49\u5143\u7D20\u600E\u4E48\u529E\u5462\uFF1F\u6BD4\u5982\u81EA\u5B9A\u4E49\u4E00\u4E2A<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>basic-button</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token comment">// \u5728vue2\u4E2D\u9700\u8981\u901A\u8FC7 Vue.config.ignoredElements \u5C06\u6807\u7B7E\u914D\u7F6E\u4E3A\u81EA\u5B9A\u4E49\u5143\u7D20</span>
    Vue<span class="token punctuation">.</span>config<span class="token punctuation">.</span>ignoredElements <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;basic-button&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token comment">// \u5728vue3\u4E2D\u9700\u8981\u901A\u8FC7 app.config.compilerOptions.isCustomElement \u4F20\u9012\u3002</span>
    <span class="token keyword">const</span> app <span class="token operator">=</span> Vue<span class="token punctuation">.</span><span class="token function">createApp</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    app<span class="token punctuation">.</span>config<span class="token punctuation">.</span>compilerOptions<span class="token punctuation">.</span><span class="token function-variable function">isCustomElement</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">tag</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
      tag <span class="token operator">===</span> <span class="token string">&quot;basic-button&quot;</span><span class="token punctuation">;</span>
  </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  \u8FD9\u6837\u6211\u4EEC\u5728vue\u6A21\u677F\u91CC\u9762\u5C31\u80FD\u6B63\u5E38\u4F7F\u7528\u8BE5\u6807\u7B7E\u4E86\u3002
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>basic-button</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>basic-button</span>
<span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>basic-button</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="is" tabindex="-1"><a class="header-anchor" href="#is" aria-hidden="true">#</a> is</h3><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>\u5728vue2\u4E2D\uFF0Cis\u53EF\u4EE5\u7528\u5728\u666E\u901A\u5143\u7D20\u548C<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>component</span>
  <span class="token punctuation">&gt;</span></span>\u4E0A\u3002\u4E0D\u7BA1\u7528\u5728\u54EA\u4E2A\u4E0A\u9762\u90FD\u4F1A\u6E32\u67D3is\u6307\u5B9A\u7684\u7EC4\u4EF6\u3002 \u4E0B\u9762\u6E32\u67D3\u7684\u90FD\u662FChild3\u7EC4\u4EF6
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>component</span> <span class="token attr-name">is</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Child3<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>component</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>component</span> <span class="token attr-name">:is</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Com<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>component</span><span class="token punctuation">&gt;</span></span>

  <span class="token comment">&lt;!-- is\u59CB\u7EC8\u6E32\u67D3\u7EC4\u4EF6 --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>section</span> <span class="token attr-name">is</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Child3<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>section</span>
<span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>component</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> Child3 <span class="token keyword">from</span> <span class="token string">&quot;@/components/Child3&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">components</span><span class="token operator">:</span> <span class="token punctuation">{</span> Child3 <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">Com</span><span class="token operator">:</span> Child3<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>\u5728vue3\u4E2D\uFF0Cis\u4E5F\u53EF\u4EE5\u7528\u5728\u666E\u901A\u5143\u7D20\u548C<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>component</span>
  <span class="token punctuation">&gt;</span></span>\u4E0A\u3002\u4F46\u662F\u53EA\u6709\u7528\u5728<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>component</span>
    <span class="token punctuation">&gt;</span></span>\u4E0A\u624D\u4F1A\u6E32\u67D3\u6307\u5B9A\u7EC4\u4EF6\uFF0C\u7528\u5728\u666E\u901A\u5143\u7D20\u4E0A\u53EA\u4F1A\u4F5C\u4E3A\u4E00\u4E2A\u5C5E\u6027\u4F20\u9012\u3002\u5982\u679C\u60F3\u5728\u666E\u901A\u5143\u7D20\u4E0A\u6E32\u67D3\u7EC4\u4EF6\u600E\u4E48\u529E\u5462\uFF1F\u8FD9\u5C31\u9700\u8981\u52A0\u4E0Avue:\u524D\u7F00\u4E86\u3002
    \u4E0B\u9762\u6E32\u67D3\u7684\u90FD\u662FChild3\u7EC4\u4EF6
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>component</span> <span class="token attr-name">:is</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&#39;</span>Child3&#39;<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>component</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>component</span> <span class="token attr-name">:is</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Com<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>component</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>section</span> <span class="token attr-name">is</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>vue:Child3<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>section</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>component</span>
<span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>component</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> defineComponent <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> Child3 <span class="token keyword">from</span> <span class="token string">&quot;@/components/Child3&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineComponent</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">components</span><span class="token operator">:</span> <span class="token punctuation">{</span> Child3 <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">Com</span><span class="token operator">:</span> Child3<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u6E32\u67D3\u51FD\u6570\u6539\u52A8" tabindex="-1"><a class="header-anchor" href="#\u6E32\u67D3\u51FD\u6570\u6539\u52A8" aria-hidden="true">#</a> \u6E32\u67D3\u51FD\u6570\u6539\u52A8</h3><p>\u6E32\u67D3\u51FD\u6570 API \u6539\u53D8<br> \u5728 vue3 \u4E2D\u6E32\u67D3\u51FD\u6570 h \u73B0\u5728\u5168\u5C40\u5BFC\u5165\uFF0C\u800C\u4E0D\u662F\u4F5C\u4E3A\u53C2\u6570\u4F20\u9012\u7ED9\u6E32\u67D3\u51FD\u6570\u3002\u5E76\u4E14\u5728 setup \u4E2D\u9700\u8981\u8FD4\u56DE\u51FD\u6570\uFF0C\u800C\u4E0D\u662F\u6E32\u67D3\u51FD\u6570 h\u3002</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">//vue2.x</span>
<span class="token keyword">export</span> <span class="token keyword">default</span><span class="token punctuation">{</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token parameter">h</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">h</span><span class="token punctuation">(</span><span class="token string">&#39;div&#39;</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">//vue3</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> h <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">h</span><span class="token punctuation">(</span><span class="token string">&#39;div&#39;</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="slot-\u53D8\u66F4" tabindex="-1"><a class="header-anchor" href="#slot-\u53D8\u66F4" aria-hidden="true">#</a> slot \u53D8\u66F4</h3><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>\u5728 vue2 \u4E2D\uFF0C \u5177\u540D\u63D2\u69FD\u7684\u5199\u6CD5\uFF1A
<span class="token comment">&lt;!--  \u5B50\u7EC4\u4EF6\u4E2D\uFF1A--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>title<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>randy<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">&gt;</span></span>

\u5728\u7236\u7EC4\u4EF6\u4E2D\u4F7F\u7528\uFF1A
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">slot</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>title<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>\u540E\u5907\u5185\u5BB9<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
    \u5982\u679C\u6211\u4EEC\u8981\u5728 slot \u4E0A\u9762\u7ED1\u5B9A\u6570\u636E\uFF0C\u53EF\u4EE5\u4F7F\u7528\u4F5C\u7528\u57DF\u63D2\u69FD\uFF0C\u5B9E\u73B0\u5982\u4E0B\uFF1A // \u5B50\u7EC4\u4EF6
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>content<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:user</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>user1<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">&gt;</span></span>
    export default { data(){ return{ user1:{name: &#39;randy&#39;, age: 27} } } }

    <span class="token comment">&lt;!-- \u7236\u7EC4\u4EF6\u4E2D\u4F7F\u7528 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">slot</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>content<span class="token punctuation">&quot;</span></span> <span class="token attr-name">slot-scope</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>scoped<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>name: {{scoped.user.name}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>age: {{scoped.user.age}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
        \u5728 vue2 \u4E2D\u5177\u540D\u63D2\u69FD\u548C\u4F5C\u7528\u57DF\u63D2\u69FD\u5206\u522B\u4F7F\u7528slot\u548Cslot-scope\u6765\u5B9E\u73B0\uFF0C \u5728 vue3
        \u4E2D\u5C06slot\u548Cslot-scope\u8FDB\u884C\u4E86\u5408\u5E76\u540C\u610F\u4F7F\u7528\uFF0C\u4F7F\u7528v-slot\u4EE3\u66FF\u3002
        <span class="token comment">&lt;!-- \u7236\u7EC4\u4EF6\u4E2D\u4F7F\u7528 --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name"><span class="token namespace">v-slot:</span>content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>scoped<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>name: {{scoped.user.name}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>age: {{scoped.user.age}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

        <span class="token comment">&lt;!-- \u4E5F\u53EF\u4EE5\u7B80\u5199\u6210\uFF1A --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">#content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{user}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>name: {{user.name}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>age: {{user.age}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span>
      <span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span>
    <span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span>
  <span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span>
<span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u6837\u5F0F\u6539\u52A8" tabindex="-1"><a class="header-anchor" href="#\u6837\u5F0F\u6539\u52A8" aria-hidden="true">#</a> \u6837\u5F0F\u6539\u52A8</h3><p>Vue3 \u65B0\u589E\u4E86\u6837\u5F0F\u7A7F\u900F\u65B9\u6CD5\uFF0C\u652F\u6301\u4E86\u5168\u5C40\u6837\u5F0F\u548C slot \u6837\u5F0F\u5B9A\u4E49\uFF0C\u8FD8\u652F\u6301\u4E86\u6A21\u5757\u5316\u6837\u5F0F\u548C\u6837\u5F0F\u53D8\u91CF\u3002<br> \u6837\u5F0F\u7A7F\u900F \u5728 vue2 \u4E2D\u6211\u4EEC\u4F7F\u7528/deep/\u6765\u505A\u6837\u5F0F\u7A7F\u900F\uFF0C\u5728 vue3 \u4E2D\u63A8\u8350\u4F7F\u7528:deep() // vue2</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">scoped</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
  <span class="token selector">.a /deep/ .b</span> <span class="token punctuation">{</span>
    <span class="token comment">/* ... */</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>

// vue3
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">scoped</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
  <span class="token selector">.a :deep(.b)</span> <span class="token punctuation">{</span>
    <span class="token comment">/* ... */</span>
  <span class="token punctuation">}</span>

  <span class="token selector">// \u4E0A\u9762\u662F\u7B80\u5199\u5F62\u5F0F
  .a ::v-deep(.b)</span> <span class="token punctuation">{</span>
    <span class="token comment">/* ... */</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u5168\u5C40\u6837\u5F0F\u548C\u5C40\u90E8\u6837\u5F0F" tabindex="-1"><a class="header-anchor" href="#\u5168\u5C40\u6837\u5F0F\u548C\u5C40\u90E8\u6837\u5F0F" aria-hidden="true">#</a> \u5168\u5C40\u6837\u5F0F\u548C\u5C40\u90E8\u6837\u5F0F</h3><p>\u6211\u4EEC\u77E5\u9053\u4F7F\u7528 scoped \u4FEE\u9970\u7684 style \u6837\u5F0F\u53EA\u4F1A\u5728\u5F53\u524D\u6587\u4EF6\u751F\u6548\u3002</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">scoped</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
  <span class="token comment">/* local styles */</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>

\u4F46\u662F\u6211\u4EEC\u60F3\u521B\u5EFA\u5168\u5C40\u6837\u5F0F\u5E94\u8BE5\u600E\u4E48\u505A\u5462\uFF1F<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span> <span class="token punctuation">/&gt;</span></span>
\u5728vue3\u4E2D\u6709\u4E24\u79CD\u65B9\u6CD5<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span> <span class="token punctuation">/&gt;</span></span>
\u521B\u5EFA\u4E00\u4E2A\u4E0D\u5E26 scoped \u7684style\u7684\u6807\u7B7E\u3002
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
  <span class="token comment">/* global styles */</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>

\u8FD8\u53EF\u4EE5\u4F7F\u7528 :global \u4F2A\u7C7B\u6765\u5B9E\u73B0 // \u521B\u5EFA\u4E00\u4E2A.red\u7684\u5168\u5C40\u7C7B\u6837\u5F0F
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">scoped</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
  <span class="token selector">:global(.red)</span> <span class="token punctuation">{</span>
    <span class="token property">color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token selector">// \u4E0A\u9762\u662F\u7B80\u5199\u5F62\u5F0F
  ::v-global(.red)</span> <span class="token punctuation">{</span>
    <span class="token property">color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="module" tabindex="-1"><a class="header-anchor" href="#module" aria-hidden="true">#</a> module</h3><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">module</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
   <span class="token selector">\u6807\u7B7E\u4F1A\u88AB\u7F16\u8BD1\u4E3A CSS
    Modules \u5E76\u4E14\u5C06\u751F\u6210\u7684
    CSS
    \u7C7B\u4F5C\u4E3A $style \u5BF9\u8C61\u7684\u952E\u66B4\u9732\u7ED9\u7EC4\u4EF6\uFF1A
    &lt;style
    module
    &gt; \u5B9E\u73B0\u4E86\u548C
    scope
    CSS
    \u4E00\u6837\u5C06
    CSS
    \u4EC5\u4F5C\u7528\u4E8E\u5F53\u524D\u7EC4\u4EF6\u7684\u6548\u679C\u3002\u6240\u4EE5\u6211\u4EEC\u4E0D\u9700\u8981\u518D\u52A0scoped\u5C5E\u6027\u4E86\u3002
    &lt;template
    &gt; &lt;p
    :class=&quot;$style.red&quot;
    &gt; This
    should
    be
    red
    &lt;/p
    &gt; &lt;/template
    &gt; &lt;style
    module
    &gt; .red</span> <span class="token punctuation">{</span>
    <span class="token property">color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>

\u6211\u4EEC\u8FD8\u53EF\u4EE5\u901A\u8FC7\u7ED9 module attribute \u4E00\u4E2A\u503C\u6765\u81EA\u5B9A\u4E49\u6CE8\u5165\u7684\u7C7B\u5BF9\u8C61\u7684 property \u952E\uFF1A
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>classes.red<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>red<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">module</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>classes<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
  <span class="token selector">.red</span> <span class="token punctuation">{</span>
    <span class="token property">color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>

\u6CE8\u610F\u4F7F\u7528\u6A21\u5757\u5316\u7684\u8BDD\u6211\u4EEC\u7684\u6837\u5F0F\u4E0D\u8981\u5D4C\u5957\u54E6\uFF0C\u4E0D\u7136\u4F1A\u83B7\u53D6\u4E0D\u5230\u3002
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u4E0E\u7EC4\u5408\u5F0F-api-\u4E00\u540C\u4F7F\u7528" tabindex="-1"><a class="header-anchor" href="#\u4E0E\u7EC4\u5408\u5F0F-api-\u4E00\u540C\u4F7F\u7528" aria-hidden="true">#</a> \u4E0E\u7EC4\u5408\u5F0F API \u4E00\u540C\u4F7F\u7528</h3><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token comment">&lt;!-- \u6CE8\u5165\u7684\u7C7B\u53EF\u4EE5\u901A\u8FC7 useCssModule API \u5728 setup() \u548C &lt;script setup&gt; \u4E2D\u4F7F\u7528\u3002\u5BF9\u4E8E\u4F7F\u7528\u4E86\u81EA\u5B9A\u4E49\u6CE8\u5165\u540D\u79F0\u7684 &lt;style module&gt; \u6A21\u5757\uFF0CuseCssModule \u63A5\u6536\u4E00\u4E2A\u5BF9\u5E94\u7684 module attribute \u503C\u4F5C\u4E3A\u7B2C\u4E00\u4E2A\u53C2\u6570\u3002 --&gt;</span>
import { useCssModule } from &quot;vue&quot;;
// \u9ED8\u8BA4, \u8FD4\u56DE <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">module</span><span class="token punctuation">&gt;</span></span> \u4E2D\u7684\u7C7B\uFF0C\u662F\u4E00\u4E2A\u5BF9\u8C61
console.log(useCssModule())

// \u547D\u540D, \u8FD4\u56DE <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">module</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>classes<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span> \u4E2D\u7684\u7C7B\uFF0C\u662F\u4E00\u4E2A\u5BF9\u8C61
console.log(useCssModule(&#39;classes&#39;))
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u72B6\u6001\u9A71\u52A8\u7684\u52A8\u6001-css" tabindex="-1"><a class="header-anchor" href="#\u72B6\u6001\u9A71\u52A8\u7684\u52A8\u6001-css" aria-hidden="true">#</a> \u72B6\u6001\u9A71\u52A8\u7684\u52A8\u6001 CSS</h3><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token comment">&lt;!-- \u5355\u6587\u4EF6\u7EC4\u4EF6\u7684 &lt;style&gt; \u6807\u7B7E\u53EF\u4EE5\u901A\u8FC7 v-bind \u8FD9\u4E00 CSS \u51FD\u6570\u5C06 CSS \u7684\u503C\u5173\u8054\u5230\u52A8\u6001\u7684\u7EC4\u4EF6\u72B6\u6001\u4E0A\uFF1A --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>title3<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>title3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>title4<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>title4<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">import</span> <span class="token punctuation">{</span> defineComponent<span class="token punctuation">,</span> ref<span class="token punctuation">,</span> reactive <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>
  <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineComponent</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> color1 <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token string">&quot;green&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">const</span> color2 <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">&quot;blue&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token keyword">return</span> <span class="token punctuation">{</span>
        color1<span class="token punctuation">,</span>
        color2<span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>scss<span class="token punctuation">&quot;</span></span> <span class="token attr-name">scoped</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
  <span class="token selector">.title3</span> <span class="token punctuation">{</span>
    <span class="token property">color</span><span class="token punctuation">:</span> <span class="token function">v-bind</span><span class="token punctuation">(</span>color1<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token selector">.title4</span> <span class="token punctuation">{</span>
    <span class="token property">color</span><span class="token punctuation">:</span> <span class="token function">v-bind</span><span class="token punctuation">(</span><span class="token string">&quot;color2.color&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u63D2\u69FD\u9009\u62E9\u5668" tabindex="-1"><a class="header-anchor" href="#\u63D2\u69FD\u9009\u62E9\u5668" aria-hidden="true">#</a> \u63D2\u69FD\u9009\u62E9\u5668</h3><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token comment">&lt;!-- \u9ED8\u8BA4\u60C5\u51B5\u4E0B\uFF0C\u4F5C\u7528\u57DF\u6837\u5F0F\u4E0D\u4F1A\u5F71\u54CD\u5230 &lt;slot/&gt; \u6E32\u67D3\u51FA\u6765\u7684\u5185\u5BB9\uFF0C\u56E0\u4E3A\u5B83\u4EEC\u88AB\u8BA4\u4E3A\u662F\u7236\u7EC4\u4EF6\u6240\u6301\u6709\u5E76\u4F20\u9012\u8FDB\u6765\u7684\u3002\u4F7F\u7528 :slotted \u4F2A\u7C7B\u4EE5\u786E\u5207\u5730\u5C06\u63D2\u69FD\u5185\u5BB9\u4F5C\u4E3A\u9009\u62E9\u5668\u7684\u76EE\u6807\uFF1A --&gt;</span>
// \u7236\u7EC4\u4EF6
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Child3</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>slot1<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\u6211\u662Fslot\u4F20\u9012\u8FC7\u6765\u7684<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Child3</span><span class="token punctuation">&gt;</span></span>

// \u5B50\u7EC4\u4EF6
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">scoped</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
  <span class="token selector">:slotted(.slot1)</span> <span class="token punctuation">{</span>
    <span class="token property">color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token selector">// \u4E0A\u9762\u662F\u7B80\u5199
  ::v-slotted(.slot1)</span> <span class="token punctuation">{</span>
    <span class="token property">color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>

\u5176\u5B9E\u6211\u4EEC\u628A\u6837\u5F0F\u5199\u5728\u7236\u5143\u7D20\u4E5F\u662F\u53EF\u4EE5\u5B9E\u73B0\u8BE5\u529F\u80FD\u7684\u3002 // \u7236\u7EC4\u4EF6
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Child3</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>slot1<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\u6211\u662Fslot\u4F20\u9012\u8FC7\u6765\u7684<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Child3</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">scoped</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
  <span class="token selector">.slot1</span> <span class="token punctuation">{</span>
    <span class="token property">color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u5176\u4ED6\u6539\u52A8" tabindex="-1"><a class="header-anchor" href="#\u5176\u4ED6\u6539\u52A8" aria-hidden="true">#</a> \u5176\u4ED6\u6539\u52A8</h3><h3 id="provide-inject" tabindex="-1"><a class="header-anchor" href="#provide-inject" aria-hidden="true">#</a> Provide / Inject</h3><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// \u4F7F\u7528\u8FC7vue2\u7684\u540C\u5B66\u80AF\u5B9A\u77E5\u9053Provide / Inject\u4F7F\u7528\u6765\u7EC4\u4EF6\u95F4\u4F20\u9012\u503C\u7684\u3002\u6211\u4EEC\u6765\u770B\u770Bvue2\u548Cvue3\u4E2D\u4F7F\u7528\u5DEE\u522B\u3002</span>
<span class="token comment">// \u5728vue2\u4E2D\uFF0C\u6211\u4EEC\u80FD\u76F4\u63A5\u4F7F\u7528\u3002</span>
<span class="token comment">// \u7236\u7EC4\u4EF6</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">provide</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;\u7236\u7EC4\u4EF6\u6570\u636E&quot;</span><span class="token punctuation">,</span>
    <span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;say say say&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// \u5F53\u9700\u8981\u7528\u5230this\u7684\u65F6\u5019\u9700\u8981\u4F7F\u7528\u51FD\u6570\u5F62\u5F0F</span>
  <span class="token function">provide</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">todoLength</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>todos<span class="token punctuation">.</span>length
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

<span class="token comment">// \u5B50\u7EC4\u4EF6</span>
<span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>provide inject\u4F20\u9012\u8FC7\u6765\u7684\u6570\u636E\uFF1A <span class="token punctuation">{</span><span class="token punctuation">{</span> name <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>provide inject\u4F20\u9012\u8FC7\u6765\u7684\u65B9\u6CD5<span class="token operator">&lt;</span>button @click<span class="token operator">=</span><span class="token string">&quot;say&quot;</span><span class="token operator">&gt;</span>say<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">inject</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;name&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;say&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>// \u5728vue3\u4E2D\uFF0C\u6211\u4EEC\u9700\u8981\u5F15\u5165provide\u548Cinject\uFF0C\u5E76\u4E14\u5728setup\u65B9\u6CD5\u4E2D\u8FD4\u56DE\u624D\u80FD\u4F7F\u7528\u3002 //
\u7236\u7EC4\u4EF6
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">import</span> <span class="token punctuation">{</span> defineComponent<span class="token punctuation">,</span> provide <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>
  <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineComponent</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// \u5B9A\u4E49\u6570\u636E\u6216\u65B9\u6CD5</span>
      <span class="token function">provide</span><span class="token punctuation">(</span><span class="token string">&quot;fName&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;\u7236\u7EC4\u4EF6\u6570\u636E&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">provide</span><span class="token punctuation">(</span><span class="token string">&quot;say&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;say say say&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

// \u5B50\u7EC4\u4EF6
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>provide inject\u4F20\u9012\u8FC7\u6765\u7684\u6570\u636E\uFF1A{{ fName }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>provide inject \u652F\u6301\u9ED8\u8BA4\u503C\uFF1A{{ fAge }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>provide inject\u4F20\u9012\u8FC7\u6765\u7684\u65B9\u6CD5<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>say<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>say<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">import</span> <span class="token punctuation">{</span> defineComponent<span class="token punctuation">,</span> inject <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>
  <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineComponent</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// \u5F15\u5165\u4F7F\u7528\uFF0C\u5E76\u652F\u6301\u9ED8\u8BA4\u503C</span>
      <span class="token keyword">const</span> fName <span class="token operator">=</span> <span class="token function">inject</span><span class="token punctuation">(</span><span class="token string">&quot;fName&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment">// \u7B2C\u4E8C\u4E2A\u53C2\u6570\u7528\u6765\u8BBE\u7F6E\u9ED8\u8BA4\u503C</span>
      <span class="token keyword">const</span> fAge <span class="token operator">=</span> <span class="token function">inject</span><span class="token punctuation">(</span><span class="token string">&quot;fAge&quot;</span><span class="token punctuation">,</span> <span class="token number">27</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">const</span> say <span class="token operator">=</span> <span class="token function">inject</span><span class="token punctuation">(</span><span class="token string">&quot;say&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;say say say&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token keyword">return</span> <span class="token punctuation">{</span>
        fName<span class="token punctuation">,</span>
        fAge<span class="token punctuation">,</span>
        say<span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>\u4E3A\u4E86\u589E\u52A0 provide \u503C\u548C inject \u503C\u4E4B\u95F4\u7684\u54CD\u5E94\u6027\uFF0C\u6211\u4EEC\u53EF\u4EE5\u5728 provide \u503C\u65F6\u4F7F\u7528 ref
\u6216 reactive\u3002
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Child</span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">import</span> <span class="token punctuation">{</span> provide<span class="token punctuation">,</span> reactive<span class="token punctuation">,</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>
  <span class="token keyword">import</span> Child <span class="token keyword">from</span> <span class="token string">&quot;./Child.vue&quot;</span><span class="token punctuation">;</span>

  <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">components</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      Child<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> title <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token string">&quot;title&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">const</span> user <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;randy&quot;</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token function">provide</span><span class="token punctuation">(</span><span class="token string">&quot;title&quot;</span><span class="token punctuation">,</span> title<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">provide</span><span class="token punctuation">(</span><span class="token string">&quot;user&quot;</span><span class="token punctuation">,</span> user<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>\u73B0\u5728\uFF0C\u5982\u679C\u8FD9\u4E24\u4E2A property \u4E2D\u6709\u4EFB\u4F55\u66F4\u6539\uFF0CChild \u7EC4\u4EF6\u4E5F\u5C06\u81EA\u52A8\u66F4\u65B0\uFF01 \u5F53\u4F7F\u7528\u54CD\u5E94\u5F0F
provide / inject \u503C\u65F6\uFF0C\u5EFA\u8BAE\u5C3D\u53EF\u80FD\u5C06\u5BF9\u54CD\u5E94\u5F0F property \u7684\u6240\u6709\u4FEE\u6539\u9650\u5236\u5728\u5B9A\u4E49
provide \u7684\u7EC4\u4EF6\u5185\u90E8\u3002
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Child</span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">import</span> <span class="token punctuation">{</span> provide<span class="token punctuation">,</span> reactive<span class="token punctuation">,</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>
  <span class="token keyword">import</span> Child <span class="token keyword">from</span> <span class="token string">&quot;./Child.vue&quot;</span><span class="token punctuation">;</span>

  <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">components</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      Child<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> title <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token string">&quot;title&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">const</span> user <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;randy&quot;</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token function">provide</span><span class="token punctuation">(</span><span class="token string">&quot;title&quot;</span><span class="token punctuation">,</span> title<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">provide</span><span class="token punctuation">(</span><span class="token string">&quot;user&quot;</span><span class="token punctuation">,</span> user<span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token keyword">const</span> <span class="token function-variable function">updateTitle</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        title<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token string">&quot;new title&quot;</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>\u7136\u800C\uFF0C\u6709\u65F6\u6211\u4EEC\u9700\u8981\u5728\u6CE8\u5165\u6570\u636E\u7684\u7EC4\u4EF6\u5185\u90E8\u66F4\u65B0 inject \u7684\u6570\u636E\u3002\u5728\u8FD9\u79CD\u60C5\u51B5\u4E0B\uFF0C\u6211\u4EEC\u5EFA\u8BAE
provide \u4E00\u4E2A\u65B9\u6CD5\u6765\u8D1F\u8D23\u6539\u53D8\u54CD\u5E94\u5F0F property\u3002
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Child</span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">import</span> <span class="token punctuation">{</span> provide<span class="token punctuation">,</span> reactive<span class="token punctuation">,</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>
  <span class="token keyword">import</span> Child <span class="token keyword">from</span> <span class="token string">&quot;./Child.vue&quot;</span><span class="token punctuation">;</span>

  <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">components</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      Child<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> title <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token string">&quot;title&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">const</span> user <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;randy&quot;</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token keyword">const</span> <span class="token function-variable function">updateTitle</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        title<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token string">&quot;new title&quot;</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">;</span>

      <span class="token function">provide</span><span class="token punctuation">(</span><span class="token string">&quot;title&quot;</span><span class="token punctuation">,</span> title<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">provide</span><span class="token punctuation">(</span><span class="token string">&quot;user&quot;</span><span class="token punctuation">,</span> user<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">provide</span><span class="token punctuation">(</span><span class="token string">&quot;updateTitle&quot;</span><span class="token punctuation">,</span> updateTitle<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>\u6700\u540E\uFF0C\u5982\u679C\u8981\u786E\u4FDD\u901A\u8FC7 provide \u4F20\u9012\u7684\u6570\u636E\u4E0D\u4F1A\u88AB inject
\u7684\u7EC4\u4EF6\u66F4\u6539\uFF0C\u6211\u4EEC\u5EFA\u8BAE\u5BF9\u63D0\u4F9B\u8005\u7684 property \u4F7F\u7528 readonly\uFF0C\u8FD9\u6837\u5C31\u4E07\u65E0\u4E00\u5931\u5566\u3002
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Child</span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">import</span> <span class="token punctuation">{</span> provide<span class="token punctuation">,</span> reactive<span class="token punctuation">,</span> ref<span class="token punctuation">,</span> readonly <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>
  <span class="token keyword">import</span> Child <span class="token keyword">from</span> <span class="token string">&quot;./Child.vue&quot;</span><span class="token punctuation">;</span>

  <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">components</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      Child<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> title <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token string">&quot;title&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">const</span> user <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;randy&quot;</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token keyword">const</span> <span class="token function-variable function">updateTitle</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        title<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token string">&quot;new title&quot;</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">;</span>

      <span class="token function">provide</span><span class="token punctuation">(</span><span class="token string">&quot;title&quot;</span><span class="token punctuation">,</span> <span class="token function">readonly</span><span class="token punctuation">(</span>title<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">provide</span><span class="token punctuation">(</span><span class="token string">&quot;user&quot;</span><span class="token punctuation">,</span> <span class="token function">readonly</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">provide</span><span class="token punctuation">(</span><span class="token string">&quot;updateTitle&quot;</span><span class="token punctuation">,</span> updateTitle<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u6A21\u677F\u5F15\u7528" tabindex="-1"><a class="header-anchor" href="#\u6A21\u677F\u5F15\u7528" aria-hidden="true">#</a> \u6A21\u677F\u5F15\u7528</h3><p>\u6A21\u677F\u5F15\u7528\u5728 vue2 \u4E2D\u662F\u975E\u5E38\u7B80\u5355\u7684\uFF0C\u901A\u8FC7 this.$refs \u5C31\u80FD\u83B7\u53D6\u5230\u3002</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Child1</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>childRef<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">import</span> Child1 <span class="token keyword">from</span> <span class="token string">&quot;@/components/Child1&quot;</span><span class="token punctuation">;</span>
  <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">components</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      Child1<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// \u83B7\u53D6\u5B50\u7EC4\u4EF6</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>childRef<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="\u5728-vue3-\u4E2D\u76F8\u5BF9\u9EBB\u70E6-\u9700\u8981\u5148\u5F15\u5165-ref-\u5E76\u5728-setup-\u65B9\u6CD5\u4E2D\u8FD4\u56DE\u3002" tabindex="-1"><a class="header-anchor" href="#\u5728-vue3-\u4E2D\u76F8\u5BF9\u9EBB\u70E6-\u9700\u8981\u5148\u5F15\u5165-ref-\u5E76\u5728-setup-\u65B9\u6CD5\u4E2D\u8FD4\u56DE\u3002" aria-hidden="true">#</a> \u5728 vue3 \u4E2D\u76F8\u5BF9\u9EBB\u70E6\uFF0C\u9700\u8981\u5148\u5F15\u5165 ref\uFF0C\u5E76\u5728 setup \u65B9\u6CD5\u4E2D\u8FD4\u56DE\u3002</h4><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>root<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>This is a root element<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">import</span> <span class="token punctuation">{</span> ref<span class="token punctuation">,</span> onMounted <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>

  <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// \u521B\u5EFA</span>
      <span class="token keyword">const</span> root <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token function">onMounted</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token comment">// \u83B7\u53D6\u5B50\u7EC4\u4EF6</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>root<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &lt;div&gt;This is a root element&lt;/div&gt;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token keyword">return</span> <span class="token punctuation">{</span>
        root<span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="\u5728-jsx-\u4E2D" tabindex="-1"><a class="header-anchor" href="#\u5728-jsx-\u4E2D" aria-hidden="true">#</a> \u5728 JSX \u4E2D</h4><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> h<span class="token punctuation">,</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> root <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// \u6E32\u67D3\u51FD\u6570\u65B9\u5F0F</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
      <span class="token function">h</span><span class="token punctuation">(</span><span class="token string">&quot;div&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">ref</span><span class="token operator">:</span> root<span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// JSX\u65B9\u5F0F</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token operator">&lt;</span>div ref<span class="token operator">=</span><span class="token punctuation">{</span>root<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="\u5728-v-for-\u4E2D" tabindex="-1"><a class="header-anchor" href="#\u5728-v-for-\u4E2D" aria-hidden="true">#</a> \u5728 v-for \u4E2D</h4><p>\u6211\u4EEC\u77E5\u9053\uFF0Cvue2 \u4E2D\uFF0C\u5982\u679C\u662F for \u5FAA\u73AF\u7684\u8BDD this.$refs \u4F1A\u662F\u4E00\u4E2A\u6570\u7EC4\u3002\u4F46\u662F\u5728 vue3 \u4E2D v-for \u5185\u90E8\u4F7F\u7528\u65F6\u6CA1\u6709\u7279\u6B8A\u5904\u7406\u3002\u76F8\u53CD\uFF0C\u4F7F\u7528\u51FD\u6570\u5F15\u7528\u6267\u884C\u81EA\u5B9A\u4E49\u5904\u7406\u3002</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>(item, i) in list<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>el =&gt; { if (el) divs[i] = el }<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    {{ item }}
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">import</span> <span class="token punctuation">{</span> ref<span class="token punctuation">,</span> reactive<span class="token punctuation">,</span> onBeforeUpdate <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>

  <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> list <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">const</span> divs <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token comment">// \u786E\u4FDD\u5728\u6BCF\u6B21\u66F4\u65B0\u4E4B\u524D\u91CD\u7F6Eref</span>
      <span class="token function">onBeforeUpdate</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        divs<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token keyword">return</span> <span class="token punctuation">{</span>
        list<span class="token punctuation">,</span>
        divs<span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="\u5728\u4FA6\u542C\u6A21\u677F\u4E2D" tabindex="-1"><a class="header-anchor" href="#\u5728\u4FA6\u542C\u6A21\u677F\u4E2D" aria-hidden="true">#</a> \u5728\u4FA6\u542C\u6A21\u677F\u4E2D</h4><p>\u6211\u4EEC\u4E5F\u53EF\u4EE5\u4E0D\u5728\u751F\u547D\u5468\u671F\u94A9\u5B50\u4F7F\u7528\u800C\u662F\u5728\u76D1\u542C\u5668\u4E2D\u4F7F\u7528\uFF0C\u4F46\u4E0E\u751F\u547D\u5468\u671F\u94A9\u5B50\u7684\u4E00\u4E2A\u5173\u952E\u533A\u522B\u662F\uFF0Cwatch()\xA0 \u548C \xA0watchEffect()\xA0 \u5728 DOM \u6302\u8F7D\u6216\u66F4\u65B0\u4E4B\u524D\u8FD0\u884C\u526F\u4F5C\u7528\uFF0C\u6240\u4EE5\u5F53\u4FA6\u542C\u5668\u8FD0\u884C\u65F6\uFF0C\u6A21\u677F\u5F15\u7528\u8FD8\u672A\u88AB\u66F4\u65B0\u3002</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>root<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>This is a root element<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">import</span> <span class="token punctuation">{</span> ref<span class="token punctuation">,</span> watchEffect <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>

  <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> root <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token function">watchEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token comment">// \u8FD9\u4E2A\u526F\u4F5C\u7528\u5728 DOM \u66F4\u65B0\u4E4B\u524D\u8FD0\u884C\uFF0C\u56E0\u6B64\uFF0C\u6A21\u677F\u5F15\u7528\u8FD8\u6CA1\u6709\u6301\u6709\u5BF9\u5143\u7D20\u7684\u5F15\u7528\u3002</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>root<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; null</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token keyword">return</span> <span class="token punctuation">{</span>
        root<span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u56E0\u6B64\uFF0C\u4F7F\u7528\u6A21\u677F\u5F15\u7528\u7684\u4FA6\u542C\u5668\u5E94\u8BE5\u7528 flush: &#39;post&#39; \u9009\u9879\u6765\u5B9A\u4E49\uFF0C\u8FD9\u5C06\u5728 DOM \u66F4\u65B0\u540E\u8FD0\u884C\u526F\u4F5C\u7528\uFF0C\u786E\u4FDD\u6A21\u677F\u5F15\u7528\u4E0E DOM \u4FDD\u6301\u540C\u6B65\uFF0C\u5E76\u5F15\u7528\u6B63\u786E\u7684\u5143\u7D20\u3002</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>root<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>This is a root element<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">import</span> <span class="token punctuation">{</span> ref<span class="token punctuation">,</span> watchEffect <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>

  <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> root <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token function">watchEffect</span><span class="token punctuation">(</span>
        <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>root<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; &lt;div&gt;This is a root element&lt;/div&gt;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token literal-property property">flush</span><span class="token operator">:</span> <span class="token string">&quot;post&quot;</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token keyword">return</span> <span class="token punctuation">{</span>
        root<span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u81EA\u5B9A\u4E49\u6307\u4EE4" tabindex="-1"><a class="header-anchor" href="#\u81EA\u5B9A\u4E49\u6307\u4EE4" aria-hidden="true">#</a> \u81EA\u5B9A\u4E49\u6307\u4EE4</h3><div class="custom-container tip"><p class="custom-container-title">-</p><p>\u6307\u4EE4\u7684\u94A9\u5B50\u51FD\u6570\u5DF2\u7ECF\u88AB\u91CD\u547D\u540D\uFF0C\u4EE5\u66F4\u597D\u5730\u4E0E\u7EC4\u4EF6\u7684\u751F\u547D\u5468\u671F\u4FDD\u6301\u4E00\u81F4\u3002\u5E76\u4E14\uFF0Cexpression\xA0 \u5B57\u7B26\u4E32\u4E0D\u518D\u4F5C\u4E3A \xA0binding\xA0 \u5BF9\u8C61\u7684\u4E00\u90E8\u5206\u88AB\u4F20\u5165\u3002<br> \u5728 vue2 \u4E2D\uFF0C\u81EA\u5B9A\u4E49\u6307\u4EE4\u901A\u8FC7\u4F7F\u7528\u4E0B\u5217\u94A9\u5B50\u6765\u521B\u5EFA\uFF0C\u4EE5\u5BF9\u9F50\u5143\u7D20\u7684\u751F\u547D\u5468\u671F\uFF0C\u5B83\u4EEC\u90FD\u662F\u53EF\u9009\u7684\uFF1A<br></p><p>bind\xA0- \u6307\u4EE4\u7ED1\u5B9A\u5230\u5143\u7D20\u540E\u8C03\u7528\u3002\u53EA\u8C03\u7528\u4E00\u6B21\u3002<br> inserted\xA0- \u5143\u7D20\u63D2\u5165\u7236 DOM \u540E\u8C03\u7528\u3002<br> update\xA0- \u5F53\u5143\u7D20\u66F4\u65B0\uFF0C\u4F46\u5B50\u5143\u7D20\u5C1A\u672A\u66F4\u65B0\u65F6\uFF0C\u5C06\u8C03\u7528\u6B64\u94A9\u5B50\u3002<br> componentUpdated\xA0- \u4E00\u65E6\u7EC4\u4EF6\u548C\u5B50\u7EA7\u88AB\u66F4\u65B0\uFF0C\u5C31\u4F1A\u8C03\u7528\u8FD9\u4E2A\u94A9\u5B50\u3002<br> unbind\xA0- \u4E00\u65E6\u6307\u4EE4\u88AB\u79FB\u9664\uFF0C\u5C31\u4F1A\u8C03\u7528\u8FD9\u4E2A\u94A9\u5B50\u3002\u4E5F\u53EA\u8C03\u7528\u4E00\u6B21\u3002<br></p><p>\u4E0B\u9762\u662F\u4E00\u4E2A\u4F8B\u5B50\uFF1A</p></div><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token operator">&lt;</span>p v<span class="token operator">-</span>highlight<span class="token operator">=</span><span class="token string">&quot;&#39;yellow&#39;&quot;</span><span class="token operator">&gt;</span>\u4EE5\u4EAE\u9EC4\u8272\u9AD8\u4EAE\u663E\u793A\u6B64\u6587\u672C<span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span><span class="token punctuation">;</span>

Vue<span class="token punctuation">.</span><span class="token function">directive</span><span class="token punctuation">(</span><span class="token string">&quot;highlight&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token function">bind</span><span class="token punctuation">(</span><span class="token parameter">el<span class="token punctuation">,</span> binding<span class="token punctuation">,</span> vnode</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    el<span class="token punctuation">.</span>style<span class="token punctuation">.</span>background <span class="token operator">=</span> binding<span class="token punctuation">.</span>value<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u6B64\u5904\uFF0C\u5728\u8FD9\u4E2A\u5143\u7D20\u7684\u521D\u59CB\u8BBE\u7F6E\u4E2D\uFF0C\u901A\u8FC7\u7ED9\u6307\u4EE4\u4F20\u9012\u4E00\u4E2A\u503C\u6765\u7ED1\u5B9A\u6837\u5F0F\uFF0C\u8BE5\u503C\u53EF\u4EE5\u5728\u5E94\u7528\u4E2D\u4EFB\u610F\u66F4\u6539\u3002<br> \u7136\u800C\uFF0C\u5728 vue3 \u4E2D\uFF0C\u6211\u4EEC\u4E3A\u81EA\u5B9A\u4E49\u6307\u4EE4\u521B\u5EFA\u4E86\u4E00\u4E2A\u66F4\u5177\u51DD\u805A\u529B\u7684 API\u3002\u6B63\u5982\u4F60\u6240\u770B\u5230\u7684\uFF0C\u5B83\u4EEC\u4E0E\u6211\u4EEC\u7684\u7EC4\u4EF6\u751F\u547D\u5468\u671F\u65B9\u6CD5\u6709\u5F88\u5927\u7684\u4E0D\u540C\uFF0C\u5373\u4F7F\u94A9\u5B50\u7684\u76EE\u6807\u4E8B\u4EF6\u5341\u5206\u76F8\u4F3C\u3002\u6211\u4EEC\u73B0\u5728\u628A\u5B83\u4EEC\u7EDF\u4E00\u8D77\u6765\u4E86\uFF1A<br></p><div class="custom-container tip"><p class="custom-container-title"></p><p>created\xA0- \u65B0\u589E\uFF01\u5728\u5143\u7D20\u7684 attribute \u6216\u4E8B\u4EF6\u76D1\u542C\u5668\u88AB\u5E94\u7528\u4E4B\u524D\u8C03\u7528\u3002 bind \u2192\xA0beforeMount inserted \u2192\xA0mounted beforeUpdate\uFF1A\u65B0\u589E\uFF01\u5728\u5143\u7D20\u672C\u8EAB\u88AB\u66F4\u65B0\u4E4B\u524D\u8C03\u7528\uFF0C\u4E0E\u7EC4\u4EF6\u7684\u751F\u547D\u5468\u671F\u94A9\u5B50\u5341\u5206\u76F8\u4F3C\u3002 update \u2192 \u79FB\u9664\uFF01\u8BE5\u94A9\u5B50\u4E0E \xA0updated\xA0 \u6709\u592A\u591A\u76F8\u4F3C\u4E4B\u5904\uFF0C\u56E0\u6B64\u5B83\u662F\u591A\u4F59\u7684\u3002\u8BF7\u6539\u7528 \xA0updated\u3002 componentUpdated \u2192\xA0updated beforeUnmount\uFF1A\u65B0\u589E\uFF01\u4E0E\u7EC4\u4EF6\u7684\u751F\u547D\u5468\u671F\u94A9\u5B50\u7C7B\u4F3C\uFF0C\u5B83\u5C06\u5728\u5143\u7D20\u88AB\u5378\u8F7D\u4E4B\u524D\u8C03\u7528\u3002 unbind -&gt;\xA0unmounted</p></div><p>\u6700\u7EC8\u7684 API \u5982\u4E0B\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> MyDirective <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function">created</span><span class="token punctuation">(</span><span class="token parameter">el<span class="token punctuation">,</span> binding<span class="token punctuation">,</span> vnode<span class="token punctuation">,</span> prevVnode</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">// \u65B0\u589E</span>
  <span class="token function">beforeMount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">beforeUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">// \u65B0\u589E</span>
  <span class="token function">updated</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">beforeUnmount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">// \u65B0\u589E</span>
  <span class="token function">unmounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// \u56E0\u6B64\uFF0CAPI \u53EF\u4EE5\u8FD9\u6837\u4F7F\u7528\uFF0C\u4E0E\u524D\u9762\u7684\u793A\u4F8B\u76F8\u540C\uFF1A</span>
<span class="token operator">&lt;</span>p v<span class="token operator">-</span>highlight<span class="token operator">=</span><span class="token string">&quot;&#39;yellow&#39;&quot;</span><span class="token operator">&gt;</span>\u4EE5\u4EAE\u9EC4\u8272\u9AD8\u4EAE\u663E\u793A\u6B64\u6587\u672C<span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> app <span class="token operator">=</span> Vue<span class="token punctuation">.</span><span class="token function">createApp</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

app<span class="token punctuation">.</span><span class="token function">directive</span><span class="token punctuation">(</span><span class="token string">&quot;highlight&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token function">beforeMount</span><span class="token punctuation">(</span><span class="token parameter">el<span class="token punctuation">,</span> binding<span class="token punctuation">,</span> vnode</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    el<span class="token punctuation">.</span>style<span class="token punctuation">.</span>background <span class="token operator">=</span> binding<span class="token punctuation">.</span>value<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// \u5728vue2\u4E2D\uFF0C\u6211\u4EEC\u53EF\u4EE5\u901A\u8FC7 object \u6216\u8005\u662F function \u5B9A\u4E49 data \u9009\u9879\u3002</span>
<span class="token comment">// &lt;!-- Object \u58F0\u660E --&gt;</span>
<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
  <span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">apiKey</span><span class="token operator">:</span> <span class="token string">&#39;a1b2c3&#39;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> Function \u58F0\u660E <span class="token operator">--</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
  <span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">apiKey</span><span class="token operator">:</span> <span class="token string">&#39;a1b2c3&#39;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>

<span class="token comment">// vue3 \u4E2D\uFF0Cdata \u9009\u9879\u5DF2\u6807\u51C6\u5316\u4E3A\u53EA\u63A5\u53D7\u8FD4\u56DE object \u7684 function\u3002</span>
<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
  <span class="token keyword">import</span> <span class="token punctuation">{</span> createApp <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span>

  <span class="token function">createApp</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">apiKey</span><span class="token operator">:</span> <span class="token string">&#39;a1b2c3&#39;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">mount</span><span class="token punctuation">(</span><span class="token string">&#39;#app&#39;</span><span class="token punctuation">)</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="mixin-\u5408\u5E76\u884C\u4E3A\u6539\u4E3A\u6D45\u5408\u5E76" tabindex="-1"><a class="header-anchor" href="#mixin-\u5408\u5E76\u884C\u4E3A\u6539\u4E3A\u6D45\u5408\u5E76" aria-hidden="true">#</a> mixin \u5408\u5E76\u884C\u4E3A\u6539\u4E3A\u6D45\u5408\u5E76</h3><p>\u6211\u4EEC\u5148\u6765\u590D\u4E60\u4E0B mixin\u3002mixin \u5BF9\u8C61\u53EF\u4EE5\u5305\u542B\u4EFB\u610F\u7EC4\u4EF6\u9009\u9879\u3002\u5F53\u7EC4\u4EF6\u4F7F\u7528\u6DF7\u5165\u5BF9\u8C61\u65F6\uFF0C\u6240\u6709\u6DF7\u5165\u5BF9\u8C61\u7684\u9009\u9879\u5C06\u88AB\u201C\u6DF7\u5408\u201D\u8FDB\u5165\u8BE5\u7EC4\u4EF6\u672C\u8EAB\u7684\u9009\u9879\u3002</p><p>mixin \u548C\u7EC4\u4EF6\u7684 data \u6570\u636E\u5BF9\u8C61\u5728\u5185\u90E8\u4F1A\u8FDB\u884C\u9012\u5F52\u5408\u5E76\uFF0C\u5E76\u5728\u53D1\u751F\u51B2\u7A81\u65F6\u4EE5\u7EC4\u4EF6\u6570\u636E\u4F18\u5148\u3002<br> \u540C\u540D\u94A9\u5B50\u51FD\u6570\u5C06\u5408\u5E76\u4E3A\u4E00\u4E2A\u6570\u7EC4\uFF0C\u56E0\u6B64\u90FD\u5C06\u88AB\u8C03\u7528\u3002\u53E6\u5916\uFF0C\u6DF7\u5165\u5BF9\u8C61\u7684\u94A9\u5B50\u5C06\u5728\u7EC4\u4EF6\u81EA\u8EAB\u94A9\u5B50\u4E4B\u524D\u8C03\u7528\u3002<br> \u503C\u4E3A\u5BF9\u8C61\u7684\u9009\u9879\uFF0C\u4F8B\u5982 \xA0methods\u3001components\xA0 \u548C \xA0directives\uFF0C\u5C06\u88AB\u5408\u5E76\u4E3A\u540C\u4E00\u4E2A\u5BF9\u8C61\u3002\u4E24\u4E2A\u5BF9\u8C61\u952E\u540D\u51B2\u7A81\u65F6\uFF0C\u53D6\u7EC4\u4EF6\u5BF9\u8C61\u7684\u952E\u503C\u5BF9\u3002</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// \u8FD9\u6B21mixin\u7684\u8C03\u6574\u4E3B\u8981\u662F\u5728data()\u3002</span>
<span class="token comment">// \u5F53\u6765\u81EA\u7EC4\u4EF6\u7684 data() \u53CA\u5176 mixin \u6216 extends \u57FA\u7C7B\u88AB\u5408\u5E76\u65F6\uFF0C\u5408\u5E76\u64CD\u4F5C\u73B0\u5728\u5C06\u88AB\u6D45\u5C42\u6B21\u5730\u6267\u884C\uFF1A</span>
<span class="token keyword">const</span> Mixin <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">user</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;Jack&quot;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> CompA <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">mixins</span><span class="token operator">:</span> <span class="token punctuation">[</span>Mixin<span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">user</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// \u5728 vue2 \u4E2D\uFF0C\u751F\u6210\u7684 $data \u662F\uFF1A</span>
<span class="token punctuation">{</span>
  <span class="token string-property property">&quot;user&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
    <span class="token string-property property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Jack&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// \u5728 vue3 \u4E2D\uFF0C\u5176\u7ED3\u679C\u5C06\u4F1A\u662F\uFF1A</span>
<span class="token comment">// \u4FDD\u6301\u539F\u6837</span>
<span class="token punctuation">{</span>
  <span class="token string-property property">&quot;user&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">2</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// \u56E0\u4E3A\u7EC4\u4EF6\u5DF2\u7ECF\u6709\u4E86user\u5C5E\u6027\uFF0C\u6240\u4EE5\u4E0D\u4F1A\u518D\u66FF\u6362\u4E86\u3002</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u4FA6\u542C\u6570\u7EC4" tabindex="-1"><a class="header-anchor" href="#\u4FA6\u542C\u6570\u7EC4" aria-hidden="true">#</a> \u4FA6\u542C\u6570\u7EC4</h3><p>\u5728 vue3 \u4E2D\u5F53\u4F7F\u7528 \xA0watch\xA0 \u9009\u9879\u4FA6\u542C\u6570\u7EC4\u65F6\uFF0C\u53EA\u6709\u5728\u6570\u7EC4\u88AB\u66FF\u6362\u65F6\u624D\u4F1A\u89E6\u53D1\u56DE\u8C03\u3002\u6362\u53E5\u8BDD\u8BF4\uFF0C\u5728\u6570\u7EC4\u88AB\u6539\u53D8\u65F6\u4FA6\u542C\u56DE\u8C03\u5C06\u4E0D\u518D\u88AB\u89E6\u53D1\u3002\u8981\u60F3\u5728\u6570\u7EC4\u88AB\u6539\u53D8\u65F6\u89E6\u53D1\u4FA6\u542C\u56DE\u8C03\uFF0C\u5FC5\u987B\u6307\u5B9A \xA0deep\xA0 \u9009\u9879\u3002</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token literal-property property">watch</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">bookList</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">handler</span><span class="token punctuation">(</span><span class="token parameter">val<span class="token punctuation">,</span> oldVal</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;book list changed&#39;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">deep</span><span class="token operator">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="transition" tabindex="-1"><a class="header-anchor" href="#transition" aria-hidden="true">#</a> transition</h3><h4 id="class-\u540D\u66F4\u6539" tabindex="-1"><a class="header-anchor" href="#class-\u540D\u66F4\u6539" aria-hidden="true">#</a> class \u540D\u66F4\u6539</h4><p>\u8FC7\u6E21\u7C7B\u540D v-enter \u4FEE\u6539\u4E3A v-enter-from\u3001\u8FC7\u6E21\u7C7B\u540D v-leave \u4FEE\u6539\u4E3A v-leave-from\u3002</p><p>\u4E0B\u9762\u7B14\u8005\u7528\u4E24\u5F20\u56FE\u603B\u7ED3</p><p>\u5728 vue2 \u4E2D</p>`,333),g={key:0},b={key:0},h=u(`<h4 id="transition-group-\u4E0D\u518D\u9ED8\u8BA4\u6E32\u67D3\u6839\u5143\u7D20" tabindex="-1"><a class="header-anchor" href="#transition-group-\u4E0D\u518D\u9ED8\u8BA4\u6E32\u67D3\u6839\u5143\u7D20" aria-hidden="true">#</a> transition-group \u4E0D\u518D\u9ED8\u8BA4\u6E32\u67D3\u6839\u5143\u7D20</h4><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token comment">&lt;!-- \u5728 vue2 \u4E2D\uFF0C&lt;transition-group&gt; \u50CF\u5176\u5B83\u81EA\u5B9A\u4E49\u7EC4\u4EF6\u4E00\u6837\uFF0C\u9700\u8981\u4E00\u4E2A\u6839\u5143\u7D20\u3002\u9ED8\u8BA4\u7684\u6839\u5143\u7D20\u662F\u4E00\u4E2A &lt;span&gt;\uFF0C\u4F46\u53EF\u4EE5\u901A\u8FC7 tag attribute \u5B9A\u5236\u3002 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>transition-group</span> <span class="token attr-name">tag</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ul<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item in items<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>{{ item }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>transition-group</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- \u5728 vue3 \u4E2D&lt;transition-group&gt; \u4E0D\u518D\u9ED8\u8BA4\u6E32\u67D3\u6839\u5143\u7D20\uFF0C\u4F46\u4ECD\u7136\u53EF\u4EE5\u7528 tag attribute \u521B\u5EFA\u6839\u5143\u7D20\u3002 --&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="template-\u6807\u7B7E\u5728\u975E\u7279\u6B8A\u60C5\u51B5\u4E0B\u4E0D\u6E32\u67D3\u5185\u5BB9" tabindex="-1"><a class="header-anchor" href="#template-\u6807\u7B7E\u5728\u975E\u7279\u6B8A\u60C5\u51B5\u4E0B\u4E0D\u6E32\u67D3\u5185\u5BB9" aria-hidden="true">#</a> template \u6807\u7B7E\u5728\u975E\u7279\u6B8A\u60C5\u51B5\u4E0B\u4E0D\u6E32\u67D3\u5185\u5BB9</h4><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>\u6CA1\u6709\u7279\u6B8A\u6307\u4EE4\u7684\u6807\u8BB0 (v-if/else-if/else\u3001v-for \u6216 v-slot) \u7684 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span>
  <span class="token punctuation">&gt;</span></span> \u73B0\u5728\u88AB\u89C6\u4E3A\u666E\u901A\u5143\u7D20\uFF0C\u5E76\u5C06\u6E32\u67D3\u4E3A\u539F\u751F\u7684 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span>
    <span class="token punctuation">&gt;</span></span> \u5143\u7D20\uFF0C\u800C\u4E0D\u662F\u6E32\u67D3\u5176\u5185\u90E8\u5185\u5BB9\u3002 vue2
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>randy<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

    vue3
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>randy<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

    \u4E0A\u9762\u7684\u4F8B\u5B50\u5728vue2\u4E2D\u4F1A\u6E32\u67D3\u51FArandy\uFF0C\u5728vue3\u4E2D\u4F1A\u6E32\u67D3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span>
    <span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>\u5E76\u6CA1\u6709\u5185\u5BB9\u3002<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span>
  <span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span>
<span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u5F53\u6211\u4EEC\u7684-index-html-\u662F\u8FD9\u6837\u7684" tabindex="-1"><a class="header-anchor" href="#\u5F53\u6211\u4EEC\u7684-index-html-\u662F\u8FD9\u6837\u7684" aria-hidden="true">#</a> \u5F53\u6211\u4EEC\u7684 index.html \u662F\u8FD9\u6837\u7684</h3><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>app<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Some app content<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>

\u6839\u7EC4\u4EF6\u662F\u8FD9\u6837\u7684 new Vue({ el: &#39;#app&#39;, data() { return { message: &#39;Hello Vue!&#39; }
}, template: \`
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>rendered<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>{{ message }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
\` }) vue2\u4F1A\u6E32\u67D3\u6210
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>rendered<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Hello Vue!<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>

vue3\u4F1A\u6E32\u67D3\u6210
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>app<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-v-app</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>rendered<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Hello Vue!<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>

\u770B\u51FA\u5DEE\u522B\u4E86\u5427\uFF0C\u5C31\u662Fvue3\u4E0D\u4F1A\u66FF\u6362\u88AB\u6302\u8F7D\u7684\u5143\u7D20\u3002
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u79FB\u9664-api" tabindex="-1"><a class="header-anchor" href="#\u79FB\u9664-api" aria-hidden="true">#</a> \u79FB\u9664 API</h3><p>\u5728 vue3 \u4E2D\u79FB\u9664\u4E86\u90E8\u5206 api\u3002</p><h4 id="filter" tabindex="-1"><a class="header-anchor" href="#filter" aria-hidden="true">#</a> filter</h4><p>\u5728 vue2 \u4E2D\u6211\u4EEC\u8FD9\u6837\u4F7F\u7528 filter\u3002</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>Bank Account Balance<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>{{ accountBalance | currencyUSD }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">accountBalance</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">type</span><span class="token operator">:</span> Number<span class="token punctuation">,</span>
        <span class="token literal-property property">required</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">filters</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token function">currencyUSD</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;$&quot;</span> <span class="token operator">+</span> value<span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u5728 vue3 \u4E2D\u79FB\u9664\u8FC7\u6EE4\u5668\uFF0C\u4E0D\u5728\u652F\u6301\u3002\u5EFA\u8BAE\u4F7F\u7528 computed \u53BB\u66FF\u4EE3\u3002</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>Bank Account Balance<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>{{ accountInUSD }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">accountBalance</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">type</span><span class="token operator">:</span> Number<span class="token punctuation">,</span>
        <span class="token literal-property property">required</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">computed</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token function">accountInUSD</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;$&quot;</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>accountBalance<span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="config-keycodes" tabindex="-1"><a class="header-anchor" href="#config-keycodes" aria-hidden="true">#</a> config.keyCodes</h4><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>\u5728 vue2 \u4E2D\uFF0CkeyCodes \u53EF\u4EE5\u4F5C\u4E3A\u4FEE\u6539 v-on \u65B9\u6CD5\u7684\u4E00\u79CD\u65B9\u5F0F\u3002
<span class="token comment">&lt;!-- \u952E\u7801\u7248\u672C --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name"><span class="token namespace">v-on:</span>keyup.13</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>submit<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>

<span class="token comment">&lt;!-- \u522B\u540D\u7248\u672C --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name"><span class="token namespace">v-on:</span>keyup.enter</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>submit<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>

\u6B64\u5916\uFF0C\u4E5F\u53EF\u4EE5\u901A\u8FC7\u5168\u5C40\u7684 config.keyCodes \u9009\u9879\u5B9A\u4E49\u81EA\u5DF1\u7684\u522B\u540D\u3002 Vue.config.keyCodes
= { f1: 112 }

<span class="token comment">&lt;!-- \u952E\u7801\u7248\u672C --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name"><span class="token namespace">v-on:</span>keyup.112</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>showHelpText<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>

<span class="token comment">&lt;!-- \u81EA\u5B9A\u4E49\u522B\u540D\u7248\u672C --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name"><span class="token namespace">v-on:</span>keyup.f1</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>showHelpText<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>

vue3\u5BF9\u4EFB\u4F55\u8981\u7528\u4F5C\u4FEE\u9970\u7B26\u7684\u952E\u4F7F\u7528 kebab-cased (\u77ED\u6A2A\u7EBF) \u540D\u79F0\u3002
<span class="token comment">&lt;!-- Vue 3 \u5728 v-on \u4E0A\u4F7F\u7528\u6309\u952E\u4FEE\u9970\u7B26 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name"><span class="token namespace">v-on:</span>keyup.page-down</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>nextPage<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>

<span class="token comment">&lt;!-- \u540C\u65F6\u5339\u914D q \u548C Q --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name"><span class="token namespace">v-on:</span>keypress.q</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>quit<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>

\u56E0\u6B64\uFF0C\u8FD9\u610F\u5473\u7740 config.keyCodes \u73B0\u5728\u4E5F\u5DF2\u5F03\u7528\uFF0C\u4E0D\u518D\u53D7\u652F\u6301\u3002
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="on-off-\u548C-once" tabindex="-1"><a class="header-anchor" href="#on-off-\u548C-once" aria-hidden="true">#</a> $on\uFF0C$off\xA0 \u548C \xA0$once</h3><p>$on\uFF0C$off\xA0 \u548C \xA0$once\xA0\u5B9E\u4F8B\u65B9\u6CD5\u5DF2\u88AB\u79FB\u9664\uFF0C\u7EC4\u4EF6\u5B9E\u4F8B\u4E0D\u518D\u5B9E\u73B0\u4E8B\u4EF6\u89E6\u53D1\u63A5\u53E3\u3002<br> \u5728 vue2 \u4E2D\uFF0CVue \u5B9E\u4F8B\u53EF\u7528\u4E8E\u89E6\u53D1\u7531\u4E8B\u4EF6\u89E6\u53D1\u5668 API \u901A\u8FC7\u6307\u4EE4\u5F0F\u65B9\u5F0F\u6DFB\u52A0\u7684\u5904\u7406\u51FD\u6570 ($on\uFF0C$off\xA0\u548C\xA0$once)\u3002\u8FD9\u53EF\u4EE5\u7528\u4E8E\u521B\u5EFA\u4E00\u4E2A\u4E8B\u4EF6\u603B\u7EBF\uFF0C\u4EE5\u521B\u5EFA\u5728\u6574\u4E2A\u5E94\u7528\u4E2D\u53EF\u7528\u7684\u5168\u5C40\u4E8B\u4EF6\u76D1\u542C\u5668\uFF1A<br> // eventBus.js</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> eventBus <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> eventBus

<span class="token comment">// ChildComponent.vue</span>
<span class="token keyword">import</span> eventBus <span class="token keyword">from</span> <span class="token string">&#39;./eventBus&#39;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u6DFB\u52A0 eventBus \u76D1\u542C\u5668</span>
    eventBus<span class="token punctuation">.</span><span class="token function">$on</span><span class="token punctuation">(</span><span class="token string">&#39;custom-event&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;Custom event triggered!&#39;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">beforeDestroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u79FB\u9664 eventBus \u76D1\u542C\u5668</span>
    eventBus<span class="token punctuation">.</span><span class="token function">$off</span><span class="token punctuation">(</span><span class="token string">&#39;custom-event&#39;</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// ParentComponent.vue</span>
<span class="token keyword">import</span> eventBus <span class="token keyword">from</span> <span class="token string">&#39;./eventBus&#39;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">callGlobalCustomEvent</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      eventBus<span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">&#39;custom-event&#39;</span><span class="token punctuation">)</span> <span class="token comment">// \u5F53 ChildComponent \u5DF2\u88AB\u6302\u8F7D\u65F6\uFF0C\u63A7\u5236\u53F0\u4E2D\u5C06\u663E\u793A\u4E00\u6761\u6D88\u606F</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u5728 vue3 \u4E2D\u5DF2\u7ECF\u4ECE\u5B9E\u4F8B\u4E2D\u5B8C\u5168\u79FB\u9664\u4E86 \xA0$on\u3001$off\xA0 \u548C \xA0$once\xA0\u65B9\u6CD5\u3002$emit\xA0 \u4ECD\u7136\u5305\u542B\u4E8E\u73B0\u6709\u7684 API \u4E2D\uFF0C\u56E0\u4E3A\u5B83\u7528\u4E8E\u89E6\u53D1\u7531\u7236\u7EC4\u4EF6\u58F0\u660E\u5F0F\u6DFB\u52A0\u7684\u4E8B\u4EF6\u5904\u7406\u51FD\u6570\u3002</p><h4 id="children" tabindex="-1"><a class="header-anchor" href="#children" aria-hidden="true">#</a> $children</h4><p>$children\xA0\u5B9E\u4F8B property \u5DF2\u4ECE vue3\u4E2D\u79FB\u9664\uFF0C\u4E0D\u518D\u652F\u6301\u3002<br> \u5728 vue2 \u4E2D\uFF0C\u5F00\u53D1\u8005\u53EF\u4EE5\u4F7F\u7528\xA0this.$children\xA0 \u8BBF\u95EE\u5F53\u524D\u5B9E\u4F8B\u7684\u76F4\u63A5\u5B50\u7EC4\u4EF6\uFF1A</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Vue logo<span class="token punctuation">&quot;</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>./assets/logo.png<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>my-button</span><span class="token punctuation">&gt;</span></span>Change logo<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>my-button</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">import</span> MyButton <span class="token keyword">from</span> <span class="token string">&quot;./MyButton&quot;</span><span class="token punctuation">;</span>

  <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">components</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      MyButton<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>$children<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [VueComponent]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u5728 vue3 \u4E2D\uFF0C$children\xA0property \u5DF2\u88AB\u79FB\u9664\uFF0C\u4E14\u4E0D\u518D\u652F\u6301\u3002\u5982\u679C\u4F60\u9700\u8981\u8BBF\u95EE\u5B50\u7EC4\u4EF6\u5B9E\u4F8B\uFF0C\u6211\u4EEC\u5EFA\u8BAE\u4F7F\u7528 \xA0ref\u3002</p><h4 id="propsdata" tabindex="-1"><a class="header-anchor" href="#propsdata" aria-hidden="true">#</a> propsData</h4><p>propsData\xA0 \u9009\u9879\u4E4B\u524D\u7528\u4E8E\u5728\u521B\u5EFA Vue \u5B9E\u4F8B\u7684\u8FC7\u7A0B\u4E2D\u4F20\u5165 prop\uFF0C\u73B0\u5728\u5B83\u88AB\u79FB\u9664\u4E86\u3002\u5982\u679C\u60F3\u4E3A vue3 \u5E94\u7528\u7684\u6839\u7EC4\u4EF6\u4F20\u5165 prop\uFF0C\u8BF7\u4F7F\u7528 \xA0createApp\xA0 \u7684\u7B2C\u4E8C\u4E2A\u53C2\u6570\u3002 \u5728 vue2 \u4E2D\uFF0C\u6211\u4EEC\u53EF\u4EE5\u5728\u521B\u5EFA Vue \u5B9E\u4F8B\u7684\u65F6\u5019\u4F20\u5165 prop\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> Comp <span class="token operator">=</span> Vue<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;username&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token literal-property property">template</span><span class="token operator">:</span> <span class="token string">&quot;&lt;div&gt;{{ username }}&lt;/div&gt;&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">new</span> <span class="token class-name">Comp</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">propsData</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">username</span><span class="token operator">:</span> <span class="token string">&quot;randy&quot;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// \u5728 vue3 \u4E2D propsData  \u9009\u9879\u5DF2\u7ECF\u88AB\u79FB\u9664\u3002\u5982\u679C\u4F60\u9700\u8981\u5728\u5B9E\u4F8B\u521B\u5EFA\u65F6\u5411\u6839\u7EC4\u4EF6\u4F20\u5165 prop\uFF0C\u4F60\u5E94\u8BE5\u4F7F\u7528  createApp  \u7684\u7B2C\u4E8C\u4E2A\u53C2\u6570\uFF1A</span>
<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">createApp</span><span class="token punctuation">(</span>
  <span class="token punctuation">{</span>
    <span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;username&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token literal-property property">template</span><span class="token operator">:</span> <span class="token string">&quot;&lt;div&gt;{{ username }}&lt;/div&gt;&quot;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> <span class="token literal-property property">username</span><span class="token operator">:</span> <span class="token string">&quot;Evan&quot;</span> <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="destroy" tabindex="-1"><a class="header-anchor" href="#destroy" aria-hidden="true">#</a> $destroy</h4><p>\u5728vue3\u4E2D\u79FB\u9664\u4E86$destroy\uFF0C\u7528\u6237\u4E0D\u5E94\u518D\u624B\u52A8\u7BA1\u7406\u5355\u4E2A Vue \u7EC4\u4EF6\u7684\u751F\u547D\u5468\u671F\u3002</p><h4 id="set-delete-set-delete" tabindex="-1"><a class="header-anchor" href="#set-delete-set-delete" aria-hidden="true">#</a> set delete $set $delete</h4><p>\u5728vue3\u4E2D\u79FB\u9664\u4E86\u5168\u5C40\u51FD\u6570\xA0Vue.set\xA0\u548C\xA0Vue.delete\xA0\u4EE5\u53CA\u5B9E\u4F8B\u65B9\u6CD5\xA0this.$set\xA0\u548C\xA0this.$delete\u3002\u56E0\u4E3A\u5728vue3\u4E2D\u54CD\u5E94\u5F0F\u68C0\u6D4B\u662F\u57FA\u4E8Eproxy\u7684\uFF0C\u57FA\u4E8E\u4EE3\u7406\u7684\u53D8\u5316\u68C0\u6D4B\u5DF2\u7ECF\u4E0D\u518D\u9700\u8981\u5B83\u4EEC</p><h3 id="inline-template" tabindex="-1"><a class="header-anchor" href="#inline-template" aria-hidden="true">#</a> inline-template</h3><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>\u5728 vue2 \u4E2D\uFF0CVue \u4E3A\u5B50\u7EC4\u4EF6\u63D0\u4F9B\u4E86 inline-template attribute\uFF0C\u4EE5\u4FBF\u5C06\u5176\u5185\u90E8\u5185\u5BB9\u4F5C\u4E3A\u6A21\u677F\u4F7F\u7528\uFF0C\u800C\u4E0D\u662F\u4F5C\u4E3A\u5206\u53D1\u5185\u5BB9\u3002
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>my-component</span> <span class="token attr-name">inline-template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>\u5B83\u4EEC\u5C06\u88AB\u7F16\u8BD1\u4E3A\u7EC4\u4EF6\u81EA\u5DF1\u7684\u6A21\u677F\uFF0C<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>\u800C\u4E0D\u662F\u7236\u7EA7\u6240\u5305\u542B\u7684\u5185\u5BB9\u3002<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>my-component</span><span class="token punctuation">&gt;</span></span>

\u4E0A\u9762\u4F1A\u5728\u9875\u9762\u6E32\u67D3\uFF0C\u4E5F\u5C31\u662F\u7EC4\u4EF6\u81EA\u5DF1\u4E0D\u518D\u6E32\u67D3\u4EFB\u4F55\u5185\u5BB9\uFF0C\u800C\u662F\u628A\u5185\u90E8\u5185\u5BB9\u5168\u90E8\u6E32\u67D3\u51FA\u6765\u3002
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>\u5B83\u4EEC\u5C06\u88AB\u7F16\u8BD1\u4E3A\u7EC4\u4EF6\u81EA\u5DF1\u7684\u6A21\u677F\uFF0C<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>\u800C\u4E0D\u662F\u7236\u7EA7\u6240\u5305\u542B\u7684\u5185\u5BB9\u3002<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

\u6211\u4EEC\u770B\u770B\u4E0D\u52A0inline-template attribute
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>my-component</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>\u5B83\u4EEC\u5C06\u88AB\u7F16\u8BD1\u4E3A\u7EC4\u4EF6\u81EA\u5DF1\u7684\u6A21\u677F\uFF0C<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>\u800C\u4E0D\u662F\u7236\u7EA7\u6240\u5305\u542B\u7684\u5185\u5BB9\u3002<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>my-component</span><span class="token punctuation">&gt;</span></span>

\u4E0A\u9762\u4F1A\u5728\u9875\u9762\u6E32\u67D3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>my-component</span><span class="token punctuation">&gt;</span></span>\u7684\u771F\u5B9E\u5185\u5BB9\uFF0C\u5185\u90E8\u5185\u5BB9\u5C06\u88AB\u5FFD\u7565\u3002\u5982\u679C<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>my-component</span><span class="token punctuation">&gt;</span></span>\u6CA1\u5185\u5BB9\u5C06\u6E32\u67D3\u4E3A\u7A7A\u3002
\u5728 vue3 \u4E2D\u5C06\u4E0D\u518D\u652F\u6301\u6B64\u529F\u80FD\u3002
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,32);function f(c,y){const t=k("router-link");return e(),o("div",null,[n("nav",v,[n("ul",null,[n("li",null,[s(t,{to:"#composition-api-\u7EC4\u5408\u5F0F-api"},{default:a(()=>[p("composition Api\uFF08\u7EC4\u5408\u5F0F api\uFF09")]),_:1})]),n("li",null,[s(t,{to:"#\u6267\u884C\u65F6\u673A"},{default:a(()=>[p("\u6267\u884C\u65F6\u673A")]),_:1})]),n("li",null,[s(t,{to:"#this-\u6307\u5411"},{default:a(()=>[p("this \u6307\u5411")]),_:1})]),n("li",null,[s(t,{to:"#\u53C2\u6570"},{default:a(()=>[p("\u53C2\u6570")]),_:1})]),n("li",null,[s(t,{to:"#props"},{default:a(()=>[p("props")]),_:1})]),n("li",null,[s(t,{to:"#context"},{default:a(()=>[p("context")]),_:1})]),n("li",null,[s(t,{to:"#\u8FD4\u56DE\u503C"},{default:a(()=>[p("\u8FD4\u56DE\u503C")]),_:1})]),n("li",null,[s(t,{to:"#\u7ED3\u5408\u6A21\u677F\u4F7F\u7528"},{default:a(()=>[p("\u7ED3\u5408\u6A21\u677F\u4F7F\u7528")]),_:1})]),n("li",null,[s(t,{to:"#\u7ED3\u5408\u6E32\u67D3\u51FD\u6570\u4F7F\u7528"},{default:a(()=>[p("\u7ED3\u5408\u6E32\u67D3\u51FD\u6570\u4F7F\u7528")]),_:1})]),n("li",null,[s(t,{to:"#\u5355\u6587\u4EF6-setup"},{default:a(()=>[p("\u5355\u6587\u4EF6 setup")]),_:1})]),n("li",null,[s(t,{to:"#\u9876\u5C42\u7684\u7ED1\u5B9A\u4F1A\u88AB\u66B4\u9732\u7ED9\u6A21\u677F"},{default:a(()=>[p("\u9876\u5C42\u7684\u7ED1\u5B9A\u4F1A\u88AB\u66B4\u9732\u7ED9\u6A21\u677F")]),_:1})]),n("li",null,[s(t,{to:"#\u54CD\u5E94\u5F0F"},{default:a(()=>[p("\u54CD\u5E94\u5F0F")]),_:1})]),n("li",null,[s(t,{to:"#\u4F7F\u7528\u7EC4\u4EF6"},{default:a(()=>[p("\u4F7F\u7528\u7EC4\u4EF6")]),_:1})]),n("li",null,[s(t,{to:"#\u52A8\u6001\u7EC4\u4EF6"},{default:a(()=>[p("\u52A8\u6001\u7EC4\u4EF6")]),_:1})]),n("li",null,[s(t,{to:"#\u9012\u5F52\u7EC4\u4EF6"},{default:a(()=>[p("\u9012\u5F52\u7EC4\u4EF6")]),_:1})]),n("li",null,[s(t,{to:"#\u4F7F\u7528\u81EA\u5B9A\u4E49\u6307\u4EE4"},{default:a(()=>[p("\u4F7F\u7528\u81EA\u5B9A\u4E49\u6307\u4EE4")]),_:1})]),n("li",null,[s(t,{to:"#defineprops-\u548C-defineemits"},{default:a(()=>[p("defineProps\xA0 \u548C \xA0defineEmits")]),_:1})]),n("li",null,[s(t,{to:"#defineexpose"},{default:a(()=>[p("defineExpose")]),_:1})]),n("li",null,[s(t,{to:"#useslots-\u548C-useattrs"},{default:a(()=>[p("useSlots \u548C useAttrs")]),_:1})]),n("li",null,[s(t,{to:"#\u4E0E\u666E\u901A\u7684-script-\u4E00\u8D77\u4F7F\u7528"},{default:a(()=>[p("\u4E0E\u666E\u901A\u7684 \xA0script\xA0 \u4E00\u8D77\u4F7F\u7528")]),_:1})]),n("li",null,[s(t,{to:"#\u9876\u5C42-await"},{default:a(()=>[p("\u9876\u5C42 \xA0await")]),_:1})]),n("li",null,[s(t,{to:"#\u4E0D\u80FD\u548C-src-\u6DF7\u5408\u4F7F\u7528"},{default:a(()=>[p("\u4E0D\u80FD\u548C src \u6DF7\u5408\u4F7F\u7528")]),_:1})]),n("li",null,[s(t,{to:"#computed-\u548C-watch"},{default:a(()=>[p("computed \u548C watch")]),_:1})]),n("li",null,[s(t,{to:"#watcheffect"},{default:a(()=>[p("watchEffect")]),_:1})]),n("li",null,[s(t,{to:"#\u505C\u6B62\u4FA6\u542C"},{default:a(()=>[p("\u505C\u6B62\u4FA6\u542C")]),_:1})]),n("li",null,[s(t,{to:"#\u6E05\u9664\u526F\u4F5C\u7528"},{default:a(()=>[p("\u6E05\u9664\u526F\u4F5C\u7528")]),_:1})]),n("li",null,[s(t,{to:"#\u526F\u4F5C\u7528\u5237\u65B0\u65F6\u673A"},{default:a(()=>[p("\u526F\u4F5C\u7528\u5237\u65B0\u65F6\u673A")]),_:1})]),n("li",null,[s(t,{to:"#watchposteffect"},{default:a(()=>[p("watchPostEffect")]),_:1})]),n("li",null,[s(t,{to:"#watchsynceffect"},{default:a(()=>[p("watchSyncEffect")]),_:1})]),n("li",null,[s(t,{to:"#\u4FA6\u542C\u5668\u8C03\u8BD5"},{default:a(()=>[p("\u4FA6\u542C\u5668\u8C03\u8BD5")]),_:1})]),n("li",null,[s(t,{to:"#watch"},{default:a(()=>[p("watch")]),_:1})]),n("li",null,[s(t,{to:"#\u76D1\u542C\u5355\u4E00\u6E90"},{default:a(()=>[p("\u76D1\u542C\u5355\u4E00\u6E90")]),_:1})]),n("li",null,[s(t,{to:"#\u76D1\u542C\u591A\u4E2A\u6E90"},{default:a(()=>[p("\u76D1\u542C\u591A\u4E2A\u6E90")]),_:1})]),n("li",null,[s(t,{to:"#\u76D1\u542C\u5F15\u7528\u6570\u636E\u7C7B\u578B"},{default:a(()=>[p("\u76D1\u542C\u5F15\u7528\u6570\u636E\u7C7B\u578B")]),_:1})]),n("li",null,[s(t,{to:"#\u6240\u4EE5\u5173\u4E8E\u76D1\u542C\u603B\u7ED3\u5C31\u662F"},{default:a(()=>[p("\u6240\u4EE5\u5173\u4E8E\u76D1\u542C\u603B\u7ED3\u5C31\u662F")]),_:1})]),n("li",null,[s(t,{to:"#\u505C\u6B62\u4FA6\u542C-1"},{default:a(()=>[p("\u505C\u6B62\u4FA6\u542C")]),_:1})]),n("li",null,[s(t,{to:"#\u6E05\u9664\u526F\u4F5C\u7528-1"},{default:a(()=>[p("\u6E05\u9664\u526F\u4F5C\u7528")]),_:1})]),n("li",null,[s(t,{to:"#\u526F\u4F5C\u7528\u5237\u65B0\u65F6\u673A-1"},{default:a(()=>[p("\u526F\u4F5C\u7528\u5237\u65B0\u65F6\u673A")]),_:1})]),n("li",null,[s(t,{to:"#\u4FA6\u542C\u5668\u8C03\u8BD5-1"},{default:a(()=>[p("\u4FA6\u542C\u5668\u8C03\u8BD5")]),_:1})]),n("li",null,[s(t,{to:"#teleport"},{default:a(()=>[p("teleport")]),_:1})]),n("li",null,[s(t,{to:"#suspense"},{default:a(()=>[p("Suspense")]),_:1})]),n("li",null,[s(t,{to:"#\u591A\u7247\u6BB5"},{default:a(()=>[p("\u591A\u7247\u6BB5")]),_:1})]),n("li",null,[s(t,{to:"#attrs"},{default:a(()=>[p("$attrs")]),_:1})]),n("li",null,[s(t,{to:"#listeners"},{default:a(()=>[p("$listeners")]),_:1})]),n("li",null,[s(t,{to:"#\u751F\u547D\u5468\u671F\u6539\u52A8"},{default:a(()=>[p("\u751F\u547D\u5468\u671F\u6539\u52A8")]),_:1})]),n("li",null,[s(t,{to:"#rendertracked"},{default:a(()=>[p("renderTracked")]),_:1})]),n("li",null,[s(t,{to:"#rendertriggered"},{default:a(()=>[p("renderTriggered")]),_:1})]),n("li",null,[s(t,{to:"#\u751F\u547D\u5468\u671F\u5168\u6D41\u7A0B"},{default:a(()=>[p("\u751F\u547D\u5468\u671F\u5168\u6D41\u7A0B")]),_:1})]),n("li",null,[s(t,{to:"#\u5355\u7EC4\u4EF6"},{default:a(()=>[p("\u5355\u7EC4\u4EF6")]),_:1})]),n("li",null,[s(t,{to:"#\u9875\u9762\u9996\u6B21\u52A0\u8F7D"},{default:a(()=>[p("\u9875\u9762\u9996\u6B21\u52A0\u8F7D")]),_:1})]),n("li",null,[s(t,{to:"#\u9875\u9762\u66F4\u65B0"},{default:a(()=>[p("\u9875\u9762\u66F4\u65B0")]),_:1})]),n("li",null,[s(t,{to:"#\u9875\u9762\u5378\u8F7D"},{default:a(()=>[p("\u9875\u9762\u5378\u8F7D")]),_:1})]),n("li",null,[s(t,{to:"#\u7236\u5B50\u7EC4\u4EF6"},{default:a(()=>[p("\u7236\u5B50\u7EC4\u4EF6")]),_:1})]),n("li",null,[s(t,{to:"#\u9875\u9762\u9996\u6B21\u52A0\u8F7D-1"},{default:a(()=>[p("\u9875\u9762\u9996\u6B21\u52A0\u8F7D")]),_:1})]),n("li",null,[s(t,{to:"#\u9875\u9762\u66F4\u65B0-1"},{default:a(()=>[p("\u9875\u9762\u66F4\u65B0")]),_:1})]),n("li",null,[s(t,{to:"#\u9875\u9762\u5378\u8F7D-1"},{default:a(()=>[p("\u9875\u9762\u5378\u8F7D")]),_:1})]),n("li",null,[s(t,{to:"#"})]),n("li",null,[s(t,{to:"#\u5168\u5C40-api-\u6539\u52A8"},{default:a(()=>[p("\u5168\u5C40 API \u6539\u52A8")]),_:1})]),n("li",null,[s(t,{to:"#nexttick"},{default:a(()=>[p("nextTick")]),_:1})]),n("li",null,[s(t,{to:"#\u6A21\u677F\u6307\u4EE4\u6539\u52A8"},{default:a(()=>[p("\u6A21\u677F\u6307\u4EE4\u6539\u52A8")]),_:1})]),n("li",null,[s(t,{to:"#v-model"},{default:a(()=>[p("v-model")]),_:1})]),n("li",null,[s(t,{to:"#\u81EA\u5B9A\u4E49\u53C2\u6570\u540D"},{default:a(()=>[p("\u81EA\u5B9A\u4E49\u53C2\u6570\u540D")]),_:1})]),n("li",null,[s(t,{to:"#\u591A\u4E2A\u53C2\u6570"},{default:a(()=>[p("\u591A\u4E2A\u53C2\u6570")]),_:1})]),n("li",null,[s(t,{to:"#v-model-\u4FEE\u9970\u7B26"},{default:a(()=>[p("v-model \u4FEE\u9970\u7B26")]),_:1})]),n("li",null,[s(t,{to:"#key-\u652F\u6301\u5728-template-\u4F7F\u7528"},{default:a(()=>[p("key \u652F\u6301\u5728 template \u4F7F\u7528")]),_:1})]),n("li",null,[s(t,{to:"#\u4FEE\u6539-v-if-\u548C-v-for-\u4F18\u5148\u7EA7"},{default:a(()=>[p("\u4FEE\u6539 v-if \u548C v-for \u4F18\u5148\u7EA7")]),_:1})]),n("li",null,[s(t,{to:"#v-bind-object-\u73B0\u5728\u6392\u5E8F\u654F\u611F"},{default:a(()=>[p('v-bind="object"\xA0 \u73B0\u5728\u6392\u5E8F\u654F\u611F')]),_:1})]),n("li",null,[s(t,{to:"#\u79FB\u9664-v-on-native-\u4FEE\u9970\u7B26"},{default:a(()=>[p("\u79FB\u9664 v-on.native \u4FEE\u9970\u7B26")]),_:1})]),n("li",null,[s(t,{to:"#v-for-\u4E2D\u7684-ref"},{default:a(()=>[p("v-for \u4E2D\u7684 ref")]),_:1})]),n("li",null,[s(t,{to:"#\u7EC4\u4EF6\u6539\u52A8"},{default:a(()=>[p("\u7EC4\u4EF6\u6539\u52A8")]),_:1})]),n("li",null,[s(t,{to:"#\u51FD\u6570\u5F0F\u7EC4\u4EF6"},{default:a(()=>[p("\u51FD\u6570\u5F0F\u7EC4\u4EF6")]),_:1})]),n("li",null,[s(t,{to:"#\u5F02\u6B65\u7EC4\u4EF6"},{default:a(()=>[p("\u5F02\u6B65\u7EC4\u4EF6")]),_:1})]),n("li",null,[s(t,{to:"#emits"},{default:a(()=>[p("emits")]),_:1})]),n("li",null,[s(t,{to:"#\u539F\u751F\u4E8B\u4EF6\u66FF\u4EE3"},{default:a(()=>[p("\u539F\u751F\u4E8B\u4EF6\u66FF\u4EE3")]),_:1})]),n("li",null,[s(t,{to:"#\u4E8B\u4EF6\u9A8C\u8BC1"},{default:a(()=>[p("\u4E8B\u4EF6\u9A8C\u8BC1")]),_:1})]),n("li",null,[s(t,{to:"#\u81EA\u5B9A\u4E49\u5143\u7D20"},{default:a(()=>[p("\u81EA\u5B9A\u4E49\u5143\u7D20")]),_:1})]),n("li",null,[s(t,{to:"#is"},{default:a(()=>[p("is")]),_:1})]),n("li",null,[s(t,{to:"#\u6E32\u67D3\u51FD\u6570\u6539\u52A8"},{default:a(()=>[p("\u6E32\u67D3\u51FD\u6570\u6539\u52A8")]),_:1})]),n("li",null,[s(t,{to:"#slot-\u53D8\u66F4"},{default:a(()=>[p("slot \u53D8\u66F4")]),_:1})]),n("li",null,[s(t,{to:"#\u6837\u5F0F\u6539\u52A8"},{default:a(()=>[p("\u6837\u5F0F\u6539\u52A8")]),_:1})]),n("li",null,[s(t,{to:"#\u5168\u5C40\u6837\u5F0F\u548C\u5C40\u90E8\u6837\u5F0F"},{default:a(()=>[p("\u5168\u5C40\u6837\u5F0F\u548C\u5C40\u90E8\u6837\u5F0F")]),_:1})]),n("li",null,[s(t,{to:"#module"},{default:a(()=>[p("module")]),_:1})]),n("li",null,[s(t,{to:"#\u4E0E\u7EC4\u5408\u5F0F-api-\u4E00\u540C\u4F7F\u7528"},{default:a(()=>[p("\u4E0E\u7EC4\u5408\u5F0F API \u4E00\u540C\u4F7F\u7528")]),_:1})]),n("li",null,[s(t,{to:"#\u72B6\u6001\u9A71\u52A8\u7684\u52A8\u6001-css"},{default:a(()=>[p("\u72B6\u6001\u9A71\u52A8\u7684\u52A8\u6001 CSS")]),_:1})]),n("li",null,[s(t,{to:"#\u63D2\u69FD\u9009\u62E9\u5668"},{default:a(()=>[p("\u63D2\u69FD\u9009\u62E9\u5668")]),_:1})]),n("li",null,[s(t,{to:"#\u5176\u4ED6\u6539\u52A8"},{default:a(()=>[p("\u5176\u4ED6\u6539\u52A8")]),_:1})]),n("li",null,[s(t,{to:"#provide-inject"},{default:a(()=>[p("Provide / Inject")]),_:1})]),n("li",null,[s(t,{to:"#\u6A21\u677F\u5F15\u7528"},{default:a(()=>[p("\u6A21\u677F\u5F15\u7528")]),_:1})]),n("li",null,[s(t,{to:"#\u81EA\u5B9A\u4E49\u6307\u4EE4"},{default:a(()=>[p("\u81EA\u5B9A\u4E49\u6307\u4EE4")]),_:1})]),n("li",null,[s(t,{to:"#mixin-\u5408\u5E76\u884C\u4E3A\u6539\u4E3A\u6D45\u5408\u5E76"},{default:a(()=>[p("mixin \u5408\u5E76\u884C\u4E3A\u6539\u4E3A\u6D45\u5408\u5E76")]),_:1})]),n("li",null,[s(t,{to:"#\u4FA6\u542C\u6570\u7EC4"},{default:a(()=>[p("\u4FA6\u542C\u6570\u7EC4")]),_:1})]),n("li",null,[s(t,{to:"#transition"},{default:a(()=>[p("transition")]),_:1})]),n("li",null,[s(t,{to:"#\u5F53\u6211\u4EEC\u7684-index-html-\u662F\u8FD9\u6837\u7684"},{default:a(()=>[p("\u5F53\u6211\u4EEC\u7684 index.html \u662F\u8FD9\u6837\u7684")]),_:1})]),n("li",null,[s(t,{to:"#\u79FB\u9664-api"},{default:a(()=>[p("\u79FB\u9664 API")]),_:1})]),n("li",null,[s(t,{to:"#on-off-\u548C-once"},{default:a(()=>[p("$on\uFF0C$off\xA0 \u548C \xA0$once")]),_:1})]),n("li",null,[s(t,{to:"#inline-template"},{default:a(()=>[p("inline-template")]),_:1})])])]),m,s(l,{"leave-class":"animated tada","enter-class":"animated bounceOutRight"},{default:a(()=>[c.show?(e(),o("p",g,"hello")):i("",!0)]),_:1}),s(l,{"leave-from-class":"animated tada","enter-from-class":"animated bounceOutRight"},{default:a(()=>[c.show?(e(),o("p",b,"hello")):i("",!0)]),_:1}),p(" ``` "),h])}var w=r(d,[["render",f],["__file","compositionApi.html.vue"]]);export{w as default};
