import{_ as e,o,c,a as n,e as p,w as t,d as s,b as i,r as l}from"./app.e16a8a63.js";const u={},r=n("h1",{id:"vue-config-js-\u7684\u5B8C\u6574\u914D\u7F6E-\u8D85\u8BE6\u7EC6",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#vue-config-js-\u7684\u5B8C\u6574\u914D\u7F6E-\u8D85\u8BE6\u7EC6","aria-hidden":"true"},"#"),s(" vue.config.js \u7684\u5B8C\u6574\u914D\u7F6E\uFF08\u8D85\u8BE6\u7EC6\uFF09\uFF01")],-1),k={class:"table-of-contents"},d=i(`<p>\u6211\u4EEC\u73B0\u5728\u5F00\u59CB\u8FDB\u5165\u4ECA\u5929\u7684\u4E3B\u9898\u5566~~</p><h3 id="_1-\u4ECB\u7ECD" tabindex="-1"><a class="header-anchor" href="#_1-\u4ECB\u7ECD" aria-hidden="true">#</a> 1 \u4ECB\u7ECD</h3><p>\u4E4B\u524D\uFF0C\u6211\u6709\u63D0\u5230\u8FC7\uFF0C\u5F53\u7136\u5927\u5BB6\u80AF\u5B9A\u4E5F\u90FD\u77E5\u9053\uFF0CVue3.0 \u4E0D\u5728\u6709 webpack.config.js \u7684\u914D\u7F6E\uFF1B\u4F46\u662F\u4E0D\u53EF\u907F\u514D,\u5728\u9879\u76EE\u5F00\u53D1\u4E2D\u6211\u4EEC\u80AF\u5B9A\u4F1A\u5B58\u5728\u4E00\u4E9B\u7279\u6B8A\u7684\u9700\u6C42\u9700\u8981\u8C03\u6574 webpack, \u8FD9\u4E2A\u65F6\u5019\uFF0C\u5728 Vue3.0 \u7684\u9879\u76EE\u5F53\u4E2D\uFF0C\u6211\u4EEC\u5C31\u9700\u8981\u5728\u6839\u76EE\u5F55\u521B\u5EFA vue.config.js \u53BB\u5B8C\u6210 webpack \u7684\u4E00\u4E9B\u7279\u6B8A\u914D\u7F6E,\u9ED8\u8BA4\u5B83\u4F1A\u88AB \xA0@vue/cli-service\xA0 \u81EA\u52A8\u52A0\u8F7D\u3002 \u6B64\u523B\uFF0C\u4F60\u9700\u8981\u521B\u5EFA vue.config.js \u6587\u4EF6\u3002</p><h4 id="\u67E5\u770B\u9ED8\u8BA4\u7684-webpack-\u914D\u7F6E" tabindex="-1"><a class="header-anchor" href="#\u67E5\u770B\u9ED8\u8BA4\u7684-webpack-\u914D\u7F6E" aria-hidden="true">#</a> \u67E5\u770B\u9ED8\u8BA4\u7684 webpack \u914D\u7F6E</h4><blockquote><p>Vue CLI \u5B98\u65B9\u6587\u6863\uFF1Avue-cli-service\xA0 \u66B4\u9732\u4E86 \xA0inspect\xA0 \u547D\u4EE4\u7528\u4E8E\u5BA1\u67E5\u89E3\u6790\u597D\u7684 \xA0webpack\xA0 \u914D\u7F6E\u3002\u90A3\u4E2A\u5168\u5C40\u7684 vue \u53EF\u6267\u884C\u7A0B\u5E8F\u540C\u6837\u63D0\u4F9B\u4E86 \xA0inspect\xA0 \u547D\u4EE4\uFF0C\u8FD9\u4E2A\u547D\u4EE4\u53EA\u662F\u7B80\u5355\u7684\u628A \xA0vue-cli-service\`\`inspect\xA0 \u4EE3\u7406\u5230\u4E86\u4F60\u7684\u9879\u76EE\u4E2D\u3002</p></blockquote><p>\u88AB\u62BD\u8C61\u5316\u7684 webpack\uFF0C\u6211\u4EEC\u8981\u60F3\u53BB\u7406\u89E3\u5B83\u9ED8\u8BA4\u7684\u4E00\u4E9B\u914D\u7F6E\u7684\u8BDD\u662F\u6BD4\u8F83\u56F0\u96BE\u7684\uFF0C\u6240\u4EE5\u6211\u4EEC\u53EF\u4EE5\u901A\u8FC7\u6307\u4EE4\u53BB\u67E5\u770B\u3002</p><p>\u8BE5\u6307\u4EE4\u4F1A\u5C06 webpack \u7684\u914D\u7F6E\u8F93\u51FA\u5230 output.js \u6587\u4EF6\uFF0C\u8FD9\u6837\u65B9\u4FBF\u53BB\u67E5\u770B\u3002</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>vue inspect <span class="token operator">&gt;</span> output<span class="token punctuation">.</span>js
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="vue-config-js-\u6587\u4EF6" tabindex="-1"><a class="header-anchor" href="#vue-config-js-\u6587\u4EF6" aria-hidden="true">#</a> vue.config.js \u6587\u4EF6</h4><p>\u8FD9\u4E2A\u6587\u4EF6\u5BFC\u51FA\u4E86\u4E00\u4E2A\u5305\u542B\u4E86\u9009\u9879\u7684\u5BF9\u8C61\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// \u9009\u9879...</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-\u57FA\u672C\u914D\u7F6E" tabindex="-1"><a class="header-anchor" href="#_2-\u57FA\u672C\u914D\u7F6E" aria-hidden="true">#</a> 2 \u57FA\u672C\u914D\u7F6E</h3><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">productionSourceMap</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token literal-property property">publicPath</span><span class="token operator">:</span> <span class="token string">&#39;./&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">outputDir</span><span class="token operator">:</span> <span class="token string">&#39;dist&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">assetsDir</span><span class="token operator">:</span> <span class="token string">&#39;assets&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">devServer</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">port</span><span class="token operator">:</span> <span class="token number">8090</span><span class="token punctuation">,</span>
        <span class="token literal-property property">host</span><span class="token operator">:</span> <span class="token string">&#39;0.0.0.0&#39;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">https</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
        <span class="token literal-property property">open</span><span class="token operator">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// \u5176\u4ED6\u914D\u7F6E</span>
    <span class="token operator">...</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><p>productionSourceMap\uFF1A\u751F\u4EA7\u73AF\u5883\u662F\u5426\u8981\u751F\u6210 \xA0sourceMap</p></li><li><p>publicPath\uFF1A\u90E8\u7F72\u5E94\u7528\u5305\u65F6\u7684\u57FA\u672C URL,\u7528\u6CD5\u548C \xA0webpack\xA0 \u672C\u8EAB\u7684 \xA0output.publicPath\xA0 \u4E00\u81F4</p></li></ul><p>\u53EF\u4EE5\u901A\u8FC7\u4E09\u5143\u8FD0\u7B97\u53BB\u914D\u7F6E dev \u548C prod \u73AF\u5883,\xA0publicPath: p<wbr>rocess.env.NODE_ENV === &#39;production&#39; ? &#39;/prod/&#39; : &#39;./&#39;</p><ul><li><p>outputDir:\xA0build\xA0 \u65F6\u8F93\u51FA\u7684\u6587\u4EF6\u76EE\u5F55</p></li><li><p>assetsDir: \u653E\u7F6E\u9759\u6001\u6587\u4EF6\u5939\u76EE\u5F55</p></li><li><p>devServer: dev \u73AF\u5883\u4E0B\uFF0Cwebpack-dev-server\xA0 \u76F8\u5173\u914D\u7F6E</p><ul><li>port: \u5F00\u53D1\u8FD0\u884C\u65F6\u7684\u7AEF\u53E3</li><li>host: \u5F00\u53D1\u8FD0\u884C\u65F6\u57DF\u540D\uFF0C\u8BBE\u7F6E\u6210&#39;0.0.0.0&#39;,\u5728\u540C\u4E00\u4E2A\u5C40\u57DF\u7F51\u4E0B\uFF0C\u5982\u679C\u4F60\u7684\u9879\u76EE\u5728\u8FD0\u884C\uFF0C\u540C\u65F6\u53EF\u4EE5\u901A\u8FC7\u4F60\u7684 http://ip:port/...\u8BBF\u95EE\u4F60\u7684\u9879\u76EE</li><li>https: \u662F\u5426\u542F\u7528 \xA0https</li><li>open:\xA0npm run serve\xA0 \u65F6\u662F\u5426\u76F4\u63A5\u6253\u5F00\u6D4F\u89C8\u5668</li></ul></li></ul><h3 id="_3-\u63D2\u4EF6\u53CA\u89C4\u5219\u7684\u914D\u7F6E" tabindex="-1"><a class="header-anchor" href="#_3-\u63D2\u4EF6\u53CA\u89C4\u5219\u7684\u914D\u7F6E" aria-hidden="true">#</a> 3 \u63D2\u4EF6\u53CA\u89C4\u5219\u7684\u914D\u7F6E</h3><p>\u5728 vue.config.js \u5982\u679C\u8981\u65B0\u589E/\u4FEE\u6539 \xA0webpack\xA0 \u7684 \xA0plugins\xA0 \u6216\u8005 \xA0rules\xA0, \u6709 2 \u79CD\u65B9\u5F0F\u3002</p><h4 id="configurewebpack-\u65B9\u5F0F" tabindex="-1"><a class="header-anchor" href="#configurewebpack-\u65B9\u5F0F" aria-hidden="true">#</a> configureWebpack\xA0 \u65B9\u5F0F</h4><p>configureWebpack \u662F\u76F8\u5BF9\u6BD4\u8F83\u7B80\u5355\u7684\u4E00\u79CD\u65B9\u5F0F</p><p>\u5B83\u53EF\u4EE5\u662F\u4E00\u4E2A\u5BF9\u8C61\uFF1A\u548C \xA0webpack\xA0 \u672C\u8EAB\u914D\u7F6E\u65B9\u5F0F\u662F\u4E00\u81F4\uFF0C\u8BE5\u5BF9\u8C61\u5C06\u4F1A\u88AB \xA0webpack-merge\xA0 \u5408\u5E76\u5165\u6700\u7EC8\u7684 \xA0webpack\xA0 \u914D\u7F6E \u5B83\u4E5F\u53EF\u4EE5\u662F\u4E00\u4E2A\u51FD\u6570\uFF1A\u76F4\u63A5\u5728\u51FD\u6570\u5185\u90E8\u8FDB\u884C\u4FEE\u6539\u914D\u7F6E</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token literal-property property">configureWebpack</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">rules</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token function-variable function">configureWebpack</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">config</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u4F8B\u5982\uFF0C\u901A\u8FC7\u5224\u65AD\u8FD0\u884C\u73AF\u5883\uFF0C\u8BBE\u7F6Emode</span>
    config<span class="token punctuation">.</span>mode <span class="token operator">=</span> <span class="token string">&#39;production&#39;</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="chainwebpack-\u65B9\u5F0F" tabindex="-1"><a class="header-anchor" href="#chainwebpack-\u65B9\u5F0F" aria-hidden="true">#</a> chainWebpack\xA0 \u65B9\u5F0F</h4><p>chainWebpack \u94FE\u5F0F\u64CD\u4F5C (\u9AD8\u7EA7)\uFF0C\u63A5\u4E0B\u6765\u6240\u6709\u7684\u914D\u7F6E\u6211\u90FD\u4F1A\u5728\u8BE5\u9009\u9879\u4E2D\u8FDB\u884C\u914D\u7F6E</p><h3 id="_4-\u89C4\u5219-rules-\u7684\u914D\u7F6E" tabindex="-1"><a class="header-anchor" href="#_4-\u89C4\u5219-rules-\u7684\u914D\u7F6E" aria-hidden="true">#</a> 4 \u89C4\u5219 rules \u7684\u914D\u7F6E</h3><p>\u5173\u4E8E rules\xA0 \u7684\u914D\u7F6E\uFF0C\u6211\u4F1A\u5206\u522B\u4ECE\u65B0\u589E/\u4FEE\u6539\u8FDB\u884C\u4ECB\u7ECD\u3002</p><h4 id="_4-1-rules-\u7684\u65B0\u589E" tabindex="-1"><a class="header-anchor" href="#_4-1-rules-\u7684\u65B0\u589E" aria-hidden="true">#</a> 4.1 rules \u7684\u65B0\u589E</h4><p>\u5728 webpack \u4E2D \xA0rules\xA0 \u662F \xA0module\xA0 \u7684\u914D\u7F6E\u9879\uFF0C\u800C\u6240\u6709\u7684\u914D\u7F6E\u7684\u90FD\u662F\u6302\u8F7D\u5230 \xA0config\xA0 \u4E0B\u7684\uFF0C\u6240\u4EE5\u65B0\u589E\u4E00\u4E2A rule \u65B9\u5F0F\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>config<span class="token punctuation">.</span>module<span class="token punctuation">.</span><span class="token function">rule</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">loader</span><span class="token punctuation">(</span>loader<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">options</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u6848\u4F8B\uFF1Astyle-resources-loader\xA0 \u6765\u6DFB\u52A0 less \u5168\u5C40\u53D8\u91CF \u6848\u4F8B\uFF1Asvg-sprite-loader\xA0 \u5C06 svg \u56FE\u7247\u4EE5\u96EA\u78A7\u56FE\u7684\u65B9\u5F0F\u5728\u9879\u76EE\u4E2D\u52A0\u8F7D</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">chainWebpack</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">config</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u901A\u8FC7 style-resources-loader \u6765\u6DFB\u52A0less\u5168\u5C40\u53D8\u91CF</span>
    <span class="token keyword">const</span> types <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;vue-modules&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;normal-modules&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;normal&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    types<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">type</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">let</span> rule <span class="token operator">=</span> config<span class="token punctuation">.</span>module<span class="token punctuation">.</span><span class="token function">rule</span><span class="token punctuation">(</span><span class="token string">&quot;less&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">oneOf</span><span class="token punctuation">(</span>type<span class="token punctuation">)</span><span class="token punctuation">;</span>
      rule
        <span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token string">&quot;style-resource&quot;</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">loader</span><span class="token punctuation">(</span><span class="token string">&quot;style-resources-loader&quot;</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">options</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
          <span class="token literal-property property">patterns</span><span class="token operator">:</span> <span class="token punctuation">[</span>path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&quot;./lessVariates.less&quot;</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// \`svg-sprite-loader\`: \u5C06svg\u56FE\u7247\u4EE5\u96EA\u78A7\u56FE\u7684\u65B9\u5F0F\u5728\u9879\u76EE\u4E2D\u52A0\u8F7D</span>
    config<span class="token punctuation">.</span>module
      <span class="token punctuation">.</span><span class="token function">rule</span><span class="token punctuation">(</span><span class="token string">&quot;svg&quot;</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">.svg$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span> <span class="token comment">// \u5339\u914Dsvg\u6587\u4EF6</span>
      <span class="token punctuation">.</span>include<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&quot;src/svg&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// \u4E3B\u8981\u5339\u914Dsrc/svg</span>
      <span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token string">&quot;svg-sprite-loader&quot;</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">loader</span><span class="token punctuation">(</span><span class="token string">&quot;svg-sprite-loader&quot;</span><span class="token punctuation">)</span> <span class="token comment">// \u4F7F\u7528\u7684loader\uFF0C\u4E3B\u8981\u8981npm\u8BE5\u63D2\u4EF6</span>
      <span class="token punctuation">.</span><span class="token function">options</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">symbolId</span><span class="token operator">:</span> <span class="token string">&quot;svg-[name]&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// \u53C2\u6570\u914D\u7F6E</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_4-2-rules-\u7684\u4FEE\u6539" tabindex="-1"><a class="header-anchor" href="#_4-2-rules-\u7684\u4FEE\u6539" aria-hidden="true">#</a> 4.2 rules \u7684\u4FEE\u6539</h4><p>\u9488\u5BF9\u5DF2\u7ECF\u5B58\u5728\u7684 \xA0rule\xA0, \u5982\u679C\u9700\u8981\u4FEE\u6539\u5B83\u7684\u53C2\u6570, \u53EF\u4EE5\u4F7F\u7528 \xA0tap\xA0 \u65B9\u6CD5\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>config<span class="token punctuation">.</span>module
  <span class="token punctuation">.</span><span class="token function">rule</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">tap</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">options</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> newOptions<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u6848\u4F8B\uFF1A\u4FEE\u6539 url-loader \u7684\u53C2\u6570</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">chainWebpack</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">config</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// \`url-loader\`\u662Fwebpack\u9ED8\u8BA4\u5DF2\u7ECF\u914D\u7F6E\u7684\uFF0C\u73B0\u5728\u6211\u4EEC\u6765\u4FEE\u6539\u5B83\u7684\u53C2\u6570</span>
    config<span class="token punctuation">.</span>module
      <span class="token punctuation">.</span><span class="token function">rule</span><span class="token punctuation">(</span><span class="token string">&quot;images&quot;</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token string">&quot;url-loader&quot;</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">tap</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">options</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;./assets/images/[name].[ext]&quot;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">quality</span><span class="token operator">:</span> <span class="token number">85</span><span class="token punctuation">,</span>
        <span class="token literal-property property">limit</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
        <span class="token literal-property property">esModule</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_5-\u63D2\u4EF6-plugins-\u7684\u914D\u7F6E" tabindex="-1"><a class="header-anchor" href="#_5-\u63D2\u4EF6-plugins-\u7684\u914D\u7F6E" aria-hidden="true">#</a> 5 \u63D2\u4EF6 plugins \u7684\u914D\u7F6E</h3><p>\u5173\u4E8E \xA0plugins\xA0 \u7684\u914D\u7F6E\uFF0C\u6211\u4F1A\u5206\u522B\u4ECE\u65B0\u589E/\u4FEE\u6539/\u5220\u9664\u8FDB\u884C\u4ECB\u7ECD\u3002</p><h4 id="_5-1-plugins-\u7684\u65B0\u589E" tabindex="-1"><a class="header-anchor" href="#_5-1-plugins-\u7684\u65B0\u589E" aria-hidden="true">#</a> 5.1 plugins \u7684\u65B0\u589E</h4><p>\u6CE8\u610F\uFF1A\u8FD9\u91CC WebpackPlugin \u4E0D\u9700\u8981\u901A\u8FC7 new WebpackPlugin()\u4F7F\u7528\u3002</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>config<span class="token punctuation">.</span><span class="token function">plugin</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>WebpackPlugin<span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u6848\u4F8B\uFF1A\u65B0\u589E hot-hash-webpack-plugin</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> HotHashWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;hot-hash-webpack-plugin&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">chainWebpack</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">config</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u65B0\u589E\u4E00\u4E2A\`hot-hash-webpack-plugin\`</span>
    <span class="token comment">// \u6CE8\u610F\uFF1A\u8FD9\u91CCuse\u7684\u65F6\u5019\u4E0D\u9700\u8981\u4F7F\u7528\`new HotHashWebpackPlugin()\`</span>
    config<span class="token punctuation">.</span><span class="token function">plugin</span><span class="token punctuation">(</span><span class="token string">&quot;hotHash&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>HotHashWebpackPlugin<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token literal-property property">version</span><span class="token operator">:</span> <span class="token string">&quot;1.0.0&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_5-2-plugins-\u7684\u4FEE\u6539" tabindex="-1"><a class="header-anchor" href="#_5-2-plugins-\u7684\u4FEE\u6539" aria-hidden="true">#</a> 5.2 plugins \u7684\u4FEE\u6539</h4><p>\u540C\u7406,\xA0plugin\xA0 \u53C2\u6570\u7684\u4FEE\u6539\u4E5F\u662F\u901A\u8FC7 \xA0tap\xA0 \u53BB\u4FEE\u6539\u3002</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>config<span class="token punctuation">.</span><span class="token function">plugin</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">tap</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">args</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> newArgs<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u6848\u4F8B\uFF1A\u4FEE\u6539\u6253\u5305\u540E css \u62BD\u79BB\u540E\u7684 filename \u53CA\u62BD\u79BB\u6240\u5C5E\u76EE\u5F55 \u6848\u4F8B\uFF1A\u5220\u9664 console \u548C debugger</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> HotHashWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;hot-hash-webpack-plugin&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">chainWebpack</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">config</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u4FEE\u6539\u6253\u5305\u65F6css\u62BD\u79BB\u540E\u7684filename\u53CA\u62BD\u79BB\u6240\u5C5E\u76EE\u5F55</span>
    config<span class="token punctuation">.</span><span class="token function">plugin</span><span class="token punctuation">(</span><span class="token string">&quot;extract-css&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">tap</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">args</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">&quot;css/[name].[contenthash:8].css&quot;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">chunkFilename</span><span class="token operator">:</span> <span class="token string">&quot;css/[name].[contenthash:8].css&quot;</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// \u6B63\u5F0F\u73AF\u5883\u4E0B\uFF0C\u5220\u9664console\u548Cdebugger</span>
    config<span class="token punctuation">.</span>optimization
      <span class="token punctuation">.</span><span class="token function">minimize</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">minimizer</span><span class="token punctuation">(</span><span class="token string">&quot;terser&quot;</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">tap</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">args</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> <span class="token punctuation">{</span> terserOptions <span class="token punctuation">}</span> <span class="token operator">=</span> args<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        terserOptions<span class="token punctuation">.</span>compress<span class="token punctuation">.</span>drop_console <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
        terserOptions<span class="token punctuation">.</span>compress<span class="token punctuation">.</span>drop_debugger <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> args<span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_5-3-plugins-\u7684\u5220\u9664" tabindex="-1"><a class="header-anchor" href="#_5-3-plugins-\u7684\u5220\u9664" aria-hidden="true">#</a> 5.3 plugins \u7684\u5220\u9664</h4><p>\u5BF9\u4E8E\u4E00\u4E9B webpack \u9ED8\u8BA4\u7684 \xA0plugin\xA0\uFF0C\u5982\u679C\u4E0D\u9700\u8981\u53EF\u4EE5\u8FDB\u884C\u5220\u9664</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>config<span class="token punctuation">.</span>plugins<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u6848\u4F8B\uFF1A\u5220\u9664 \xA0vue-cli3.X\xA0 \u6A21\u5757\u7684\u81EA\u52A8\u5206\u5272\u62BD\u79BB</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">chainWebpack</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">config</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// vue-cli3.X \u4F1A\u81EA\u52A8\u8FDB\u884C\u6A21\u5757\u5206\u5272\u62BD\u79BB\uFF0C\u5982\u679C\u4E0D\u9700\u8981\u8FDB\u884C\u5206\u5272,\u53EF\u4EE5\u624B\u52A8\u5220\u9664</span>
    config<span class="token punctuation">.</span>optimization<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span><span class="token string">&quot;splitChunks&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_6-\u4E00\u4E9B\u5E38\u89C1\u7684\u914D\u7F6E" tabindex="-1"><a class="header-anchor" href="#_6-\u4E00\u4E9B\u5E38\u89C1\u7684\u914D\u7F6E" aria-hidden="true">#</a> 6 \u4E00\u4E9B\u5E38\u89C1\u7684\u914D\u7F6E</h3><h4 id="_6-1-\u4FEE\u6539-enter-\u6587\u4EF6" tabindex="-1"><a class="header-anchor" href="#_6-1-\u4FEE\u6539-enter-\u6587\u4EF6" aria-hidden="true">#</a> 6.1 \u4FEE\u6539 enter \u6587\u4EF6</h4><p>webpack\xA0 \u9ED8\u8BA4\u7684 \xA0entry\xA0 \u5165\u53E3\u662F \xA0scr/main.ts</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>config<span class="token punctuation">.</span>entryPoints<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// \u6E05\u7A7A\u9ED8\u8BA4\u5165\u53E3</span>
config<span class="token punctuation">.</span><span class="token function">entry</span><span class="token punctuation">(</span><span class="token string">&quot;test&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token function">getPath</span><span class="token punctuation">(</span><span class="token string">&quot;./test/main.ts&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// \u91CD\u65B0\u8BBE\u7F6E</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_6-2-defineplugin" tabindex="-1"><a class="header-anchor" href="#_6-2-defineplugin" aria-hidden="true">#</a> 6.2 DefinePlugin</h4><p>\u5B9A\u4E49\u5168\u5C40\u5168\u5C40\u53D8\u91CF\uFF0CDefinePlugin\xA0 \u662F \xA0webpack\xA0 \u5DF2\u7ECF\u9ED8\u8BA4\u914D\u7F6E\u7684\uFF0C\u6211\u4EEC\u53EF\u4EE5\u5BF9\u53C2\u6570\u8FDB\u884C\u4FEE\u6539</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>config<span class="token punctuation">.</span><span class="token function">plugin</span><span class="token punctuation">(</span><span class="token string">&quot;define&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">tap</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">args</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token operator">...</span>args<span class="token punctuation">,</span>
    <span class="token string-property property">&quot;window.isDefine&quot;</span><span class="token operator">:</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="_6-3-\u81EA\u5B9A\u4E49-filename-\u53CA-chunkfilename" tabindex="-1"><a class="header-anchor" href="#_6-3-\u81EA\u5B9A\u4E49-filename-\u53CA-chunkfilename" aria-hidden="true">#</a> 6.3 \u81EA\u5B9A\u4E49 filename \u53CA chunkFilename</h5><p>\u81EA\u5B9A\u4E49\u6253\u5305\u540E js \u6587\u4EF6\u7684\u8DEF\u5F84\u53CA\u6587\u4EF6\u540D\u5B57</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>config<span class="token punctuation">.</span>output<span class="token punctuation">.</span><span class="token function">filename</span><span class="token punctuation">(</span><span class="token string">&quot;./js/[name].[chunkhash:8].js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
config<span class="token punctuation">.</span>output<span class="token punctuation">.</span><span class="token function">chunkFilename</span><span class="token punctuation">(</span><span class="token string">&quot;./js/[name].[chunkhash:8].js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_6-4-\u4FEE\u6539-html-webpack-plugin-\u53C2\u6570" tabindex="-1"><a class="header-anchor" href="#_6-4-\u4FEE\u6539-html-webpack-plugin-\u53C2\u6570" aria-hidden="true">#</a> 6.4 \u4FEE\u6539 html-webpack-plugin \u53C2\u6570</h4><p>html-webpack-plugin\xA0 \u662F \xA0webpack\xA0 \u5DF2\u7ECF\u9ED8\u8BA4\u914D\u7F6E\u7684\uFF0C\u9ED8\u8BA4\u7684\u6E90\u6A21\u7248\u6587\u4EF6\u662F \xA0public/index.html\xA0;\u6211\u4EEC\u53EF\u4EE5\u5BF9\u5176\u53C2\u6570\u8FDB\u884C\u4FEE\u6539</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>config<span class="token punctuation">.</span><span class="token function">plugin</span><span class="token punctuation">(</span><span class="token string">&#39;html&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token function">tap</span><span class="token punctuation">(</span><span class="token parameter">options</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
<span class="token literal-property property">template</span><span class="token operator">:</span> <span class="token string">&#39;../../index.html&#39;</span> <span class="token comment">// \u4FEE\u6539\u6E90\u6A21\u7248\u6587\u4EF6</span>
<span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">&#39;test&#39;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_6-5-\u8BBE\u7F6E\u522B\u540D-alias" tabindex="-1"><a class="header-anchor" href="#_6-5-\u8BBE\u7F6E\u522B\u540D-alias" aria-hidden="true">#</a> 6.5 \u8BBE\u7F6E\u522B\u540D alias</h4><p>webpack \u9ED8\u8BA4\u662F\u5C06 src \u7684\u522B\u540D\u8BBE\u7F6E\u4E3A@, \u6B64\u5916\uFF0C\u6211\u4EEC\u53EF\u4EE5\u8FDB\u884C\u6DFB\u52A0</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>config<span class="token punctuation">.</span>resolve<span class="token punctuation">.</span>alias
  <span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">&quot;@&quot;</span><span class="token punctuation">,</span> <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&quot;src&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">&quot;api&quot;</span><span class="token punctuation">,</span> <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&quot;src/apis&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">&quot;common&quot;</span><span class="token punctuation">,</span> <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&quot;src/common&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_7-\u9644\u4E0A\u4E00\u4EFD\u6211\u7684-vue-config-js-\u7684\u914D\u7F6E" tabindex="-1"><a class="header-anchor" href="#_7-\u9644\u4E0A\u4E00\u4EFD\u6211\u7684-vue-config-js-\u7684\u914D\u7F6E" aria-hidden="true">#</a> 7 \u9644\u4E0A\u4E00\u4EFD\u6211\u7684 vue.config.js \u7684\u914D\u7F6E</h3><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;path&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> HotHashWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;hot-hash-webpack-plugin&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> WebpackBar <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;webpackbar&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token function-variable function">resolve</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">dir</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>\\_\\_dirname<span class="token punctuation">,</span> <span class="token string">&#39;.&#39;</span><span class="token punctuation">,</span> dir<span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">productionSourceMap</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token literal-property property">publicPath</span><span class="token operator">:</span> <span class="token string">&#39;./&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">outputDir</span><span class="token operator">:</span> <span class="token string">&#39;dist&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">assetsDir</span><span class="token operator">:</span> <span class="token string">&#39;assets&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">devServer</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">port</span><span class="token operator">:</span> <span class="token number">9999</span><span class="token punctuation">,</span>
        <span class="token literal-property property">host</span><span class="token operator">:</span> <span class="token string">&#39;0.0.0.0&#39;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">https</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
        <span class="token literal-property property">open</span><span class="token operator">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function-variable function">chainWebpack</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">config</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> types <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&#39;vue-modules&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;vue&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;normal-modules&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;normal&#39;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        types<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">type</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token keyword">let</span> rule <span class="token operator">=</span> config<span class="token punctuation">.</span>module<span class="token punctuation">.</span><span class="token function">rule</span><span class="token punctuation">(</span><span class="token string">&#39;less&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">oneOf</span><span class="token punctuation">(</span>type<span class="token punctuation">)</span>
            rule<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token string">&#39;style-resource&#39;</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">loader</span><span class="token punctuation">(</span><span class="token string">&#39;style-resources-loader&#39;</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">options</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
                    <span class="token literal-property property">patterns</span><span class="token operator">:</span> <span class="token punctuation">[</span>path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&#39;./lessVariates.less&#39;</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        config<span class="token punctuation">.</span>resolve<span class="token punctuation">.</span>alias
            <span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">&#39;@&#39;</span><span class="token punctuation">,</span> <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&#39;src&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">&#39;api&#39;</span><span class="token punctuation">,</span> <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&#39;src/apis&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">&#39;common&#39;</span><span class="token punctuation">,</span> <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&#39;src/common&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

        config<span class="token punctuation">.</span>module<span class="token punctuation">.</span><span class="token function">rule</span><span class="token punctuation">(</span><span class="token string">&#39;images&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token string">&#39;url-loader&#39;</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">tap</span><span class="token punctuation">(</span><span class="token parameter">options</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
                <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;./assets/images/[name].[ext]&#39;</span><span class="token punctuation">,</span>
                <span class="token literal-property property">quality</span><span class="token operator">:</span> <span class="token number">85</span><span class="token punctuation">,</span>
                <span class="token literal-property property">limit</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
                <span class="token literal-property property">esModule</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        config<span class="token punctuation">.</span>module<span class="token punctuation">.</span><span class="token function">rule</span><span class="token punctuation">(</span><span class="token string">&#39;svg&#39;</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">.svg$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span>include<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&#39;src/svg&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token string">&#39;svg-sprite-loader&#39;</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">loader</span><span class="token punctuation">(</span><span class="token string">&#39;svg-sprite-loader&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        config<span class="token punctuation">.</span><span class="token function">plugin</span><span class="token punctuation">(</span><span class="token string">&#39;define&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">tap</span><span class="token punctuation">(</span><span class="token parameter">args</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
            <span class="token operator">...</span>args<span class="token punctuation">,</span>
            <span class="token string-property property">&quot;window.isDefine&quot;</span><span class="token operator">:</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// \u751F\u4EA7\u73AF\u5883\u914D\u7F6E</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NODE_ENV</span> <span class="token operator">===</span> <span class="token string">&#39;production&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            config<span class="token punctuation">.</span>output<span class="token punctuation">.</span><span class="token function">filename</span><span class="token punctuation">(</span><span class="token string">&#39;./js/[name].[chunkhash:8].js&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            config<span class="token punctuation">.</span>output<span class="token punctuation">.</span><span class="token function">chunkFilename</span><span class="token punctuation">(</span><span class="token string">&#39;./js/[name].[chunkhash:8].js&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            config<span class="token punctuation">.</span><span class="token function">plugin</span><span class="token punctuation">(</span><span class="token string">&#39;extract-css&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">tap</span><span class="token punctuation">(</span><span class="token parameter">args</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
                <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">&#39;css/[name].[contenthash:8].css&#39;</span><span class="token punctuation">,</span>
                <span class="token literal-property property">chunkFilename</span><span class="token operator">:</span> <span class="token string">&#39;css/[name].[contenthash:8].css&#39;</span>
            <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            config<span class="token punctuation">.</span><span class="token function">plugin</span><span class="token punctuation">(</span><span class="token string">&#39;hotHash&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>HotHashWebpackPlugin<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token literal-property property">version</span> <span class="token operator">:</span> <span class="token string">&#39;1.0.0&#39;</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            config<span class="token punctuation">.</span><span class="token function">plugin</span><span class="token punctuation">(</span><span class="token string">&#39;webpackBar&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>WebpackBar<span class="token punctuation">)</span><span class="token punctuation">;</span>

            config<span class="token punctuation">.</span>optimization<span class="token punctuation">.</span><span class="token function">minimize</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">minimizer</span><span class="token punctuation">(</span><span class="token string">&#39;terser&#39;</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">tap</span><span class="token punctuation">(</span><span class="token parameter">args</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                    <span class="token keyword">let</span> <span class="token punctuation">{</span> terserOptions <span class="token punctuation">}</span> <span class="token operator">=</span> args<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
                    terserOptions<span class="token punctuation">.</span>compress<span class="token punctuation">.</span>drop_console <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
                    terserOptions<span class="token punctuation">.</span>compress<span class="token punctuation">.</span>drop_debugger <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
                    <span class="token keyword">return</span> args
                <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            config<span class="token punctuation">.</span>optimization<span class="token punctuation">.</span><span class="token function">splitChunks</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
                <span class="token literal-property property">cacheGroups</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                    <span class="token literal-property property">common</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;common&#39;</span><span class="token punctuation">,</span>
                        <span class="token literal-property property">chunks</span><span class="token operator">:</span> <span class="token string">&#39;all&#39;</span><span class="token punctuation">,</span>
                        <span class="token literal-property property">minSize</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
                        <span class="token literal-property property">minChunks</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
                        <span class="token literal-property property">priority</span><span class="token operator">:</span> <span class="token number">1</span>
                    <span class="token punctuation">}</span><span class="token punctuation">,</span>
                    <span class="token literal-property property">vendor</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;chunk-libs&#39;</span><span class="token punctuation">,</span>
                        <span class="token literal-property property">chunks</span><span class="token operator">:</span> <span class="token string">&#39;all&#39;</span><span class="token punctuation">,</span>
                        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">[\\/]node_modules[\\/]</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
                        <span class="token literal-property property">priority</span><span class="token operator">:</span> <span class="token number">10</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span><span class="token punctuation">;</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,71);function v(m,b){const a=l("router-link");return o(),c("div",null,[r,n("nav",k,[n("ul",null,[n("li",null,[p(a,{to:"#_1-\u4ECB\u7ECD"},{default:t(()=>[s("1 \u4ECB\u7ECD")]),_:1})]),n("li",null,[p(a,{to:"#_2-\u57FA\u672C\u914D\u7F6E"},{default:t(()=>[s("2 \u57FA\u672C\u914D\u7F6E")]),_:1})]),n("li",null,[p(a,{to:"#_3-\u63D2\u4EF6\u53CA\u89C4\u5219\u7684\u914D\u7F6E"},{default:t(()=>[s("3 \u63D2\u4EF6\u53CA\u89C4\u5219\u7684\u914D\u7F6E")]),_:1})]),n("li",null,[p(a,{to:"#_4-\u89C4\u5219-rules-\u7684\u914D\u7F6E"},{default:t(()=>[s("4 \u89C4\u5219 rules \u7684\u914D\u7F6E")]),_:1})]),n("li",null,[p(a,{to:"#_5-\u63D2\u4EF6-plugins-\u7684\u914D\u7F6E"},{default:t(()=>[s("5 \u63D2\u4EF6 plugins \u7684\u914D\u7F6E")]),_:1})]),n("li",null,[p(a,{to:"#_6-\u4E00\u4E9B\u5E38\u89C1\u7684\u914D\u7F6E"},{default:t(()=>[s("6 \u4E00\u4E9B\u5E38\u89C1\u7684\u914D\u7F6E")]),_:1})]),n("li",null,[p(a,{to:"#_7-\u9644\u4E0A\u4E00\u4EFD\u6211\u7684-vue-config-js-\u7684\u914D\u7F6E"},{default:t(()=>[s("7 \u9644\u4E0A\u4E00\u4EFD\u6211\u7684 vue.config.js \u7684\u914D\u7F6E")]),_:1})])])]),d])}var h=e(u,[["render",v],["__file","vueconfigjs.html.vue"]]);export{h as default};
