import{_ as e,o,c,a as n,e as a,w as t,b as l,r as u,d as p}from"./app.e16a8a63.js";const i={},r={class:"table-of-contents"},k=l(`<h1 id="\u54CD\u5E94\u6027api" tabindex="-1"><a class="header-anchor" href="#\u54CD\u5E94\u6027api" aria-hidden="true">#</a> \u54CD\u5E94\u6027API</h1><div class="custom-container tip"><p class="custom-container-title"></p><p>\u5728vue2\u4E2D\uFF0C\u6211\u4EEC\u53EA\u8981\u5B9A\u4E49\u5728data()\u65B9\u6CD5\u4E2D\u7684\u6570\u636E\u5C31\u662F\u54CD\u5E94\u5F0F\u6570\u636E\u3002\u6216\u8005\u4F7F\u7528Vue.observable()\u65B9\u6CD5\u6765\u5B9A\u4E49\u54CD\u5E94\u5F0F\u6570\u636E\u3002<br> \u8FD8\u53EF\u4EE5\u4F7F\u7528this.$set( target, propertyName/index, value )\u6216Vue.set( target, propertyName/index, value )\u6765\u7ED9\u5BF9\u8C61\u6216\u6570\u7EC4\u6DFB\u52A0\u54CD\u5E94\u5F0F\u5C5E\u6027\u3002\u4F7F\u7528this.$delete( target, propertyName/index)\u6216Vue.delete( target, propertyName/index)\u6765\u7ED9\u5BF9\u8C61\u6216\u6570\u7EC4\u5220\u9664\u54CD\u5E94\u5F0F\u5C5E\u6027\u3002<br> \u5728vue2\u4E2D\u4F7F\u7528Vue.observable()\u65B9\u6CD5\u3002</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> state <span class="token operator">=</span> Vue<span class="token punctuation">.</span><span class="token function">observable</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">count</span><span class="token operator">:</span> <span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u4F46\u5728vue3\u4E2D\u4E3B\u8981\u662F\u4F7F\u7528ref\u548Creactive\u6765\u5B9A\u4E49\u54CD\u5E94\u5F0F\u6570\u636E\u3002\u7531\u4E8Evue3\u4F7F\u7528\u7684\u662Fproxy\u8FDB\u884C\u54CD\u5E94\u5F0F\u76D1\u542C\uFF0C\u6240\u4EE5\u65B0\u589E\u3001\u5220\u9664\u5C5E\u6027\u4E5F\u90FD\u662F\u54CD\u5E94\u5F0F\u7684\uFF0C\u4E5F\u5C31\u4E0D\u9700\u8981\u4F7F\u7528\u4E0A\u9762\u7684set delete\u4E86</p></div><h3 id="ref\u548Cisref" tabindex="-1"><a class="header-anchor" href="#ref\u548Cisref" aria-hidden="true">#</a> ref\u548CisRef</h3><p>\u63A5\u53D7\u4E00\u4E2A\u5185\u90E8\u503C\u5E76\u8FD4\u56DE\u4E00\u4E2A\u54CD\u5E94\u5F0F\u4E14\u53EF\u53D8\u7684 ref \u5BF9\u8C61\u3002ref \u5BF9\u8C61\u4EC5\u6709\u4E00\u4E2A\xA0.value\xA0property\uFF0C\u6307\u5411\u8BE5\u5185\u90E8\u503C\u3002<br></p><p>\u4E00\u822C\u7528\u6765\u5B9A\u4E49\u57FA\u672C\u7C7B\u578B\u7684\u54CD\u5E94\u5F0F\u6570\u636E\u3002\u6CE8\u610F\u8FD9\u91CC\u8BF4\u7684\u662F\u4E00\u822C\uFF0C\u5E76\u4E0D\u662F\u8BF4ref\u5C31\u4E0D\u80FD\u5B9A\u4E49\u5F15\u7528\u7C7B\u578B\u7684\u54CD\u5E94\u5F0F\u6570\u636E\u3002<br></p><p>\u4F7F\u7528ref\u5B9A\u4E49\u7684\u54CD\u5E94\u5F0F\u6570\u636E\u5728setup\u51FD\u6570\u4E2D\u4F7F\u7528\u9700\u8981\u52A0\u4E0A.value\uFF0C\u4F46\u5728\u6A21\u677F\u4E2D\u53EF\u4EE5\u76F4\u63A5\u4F7F\u7528\u3002<br> isRef\u68C0\u67E5\u503C\u662F\u5426\u4E3A\u4E00\u4E2A ref \u5BF9\u8C61\u3002<br></p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span>count1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>count1: {{ count1 }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>plus<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>plus<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>decrease<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>decrease<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
  
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>user1: {{ user1.name }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>updateUser1Name<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>update user1 name<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> defineComponent<span class="token punctuation">,</span> ref<span class="token punctuation">,</span> isRef <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineComponent</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> count1 <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">const</span> <span class="token function-variable function">plus</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      count1<span class="token punctuation">.</span>value<span class="token operator">++</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> <span class="token function-variable function">decrease</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      count1<span class="token punctuation">.</span>value<span class="token operator">--</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    
    <span class="token keyword">const</span> user1 <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;randy1&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> <span class="token function-variable function">updateUser1Name</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token comment">// ref\u5B9A\u4E49\u7684\u53D8\u91CF\u9700\u8981\u4F7F\u7528.value\u4FEE\u6539</span>
      user1<span class="token punctuation">.</span>value<span class="token punctuation">.</span>name <span class="token operator">+=</span> <span class="token string">&quot;!&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">isRef</span><span class="token punctuation">(</span>count1<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>

    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      count1<span class="token punctuation">,</span>
      plus<span class="token punctuation">,</span>
      decrease<span class="token punctuation">,</span>
      user1<span class="token punctuation">,</span>
      updateUser1Name
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ref\u9664\u4E86\u5B9A\u4E49\u54CD\u5E94\u5F0F\u6570\u636E\u8FD8\u53EF\u4EE5\u5B9A\u4E49\u6A21\u677F\u5F15\u7528\uFF0C\u7C7B\u4F3Cvue2\u7684this.$refs\u8FD9\u4E2A\u540E\u9762\u7B14\u8005\u5728\u8BB2\u6A21\u677F\u5F15\u7528\u7684\u65F6\u5019\u4F1A\u7EC6\u8BF4\u3002</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span> 
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>root<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>This is a root element<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">import</span> <span class="token punctuation">{</span> ref<span class="token punctuation">,</span> onMounted <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span>

  <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// \u521B\u5EFA</span>
      <span class="token keyword">const</span> root <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span>

      <span class="token function">onMounted</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token comment">// \u83B7\u53D6\u5B50\u7EC4\u4EF6</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>root<span class="token punctuation">.</span>value<span class="token punctuation">)</span> <span class="token comment">// &lt;div&gt;This is a root element&lt;/div&gt;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>

      <span class="token keyword">return</span> <span class="token punctuation">{</span>
        root
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>###shallowRef \u521B\u5EFA\u4E00\u4E2A\u8DDF\u8E2A\u81EA\u8EAB\xA0.value\xA0\u53D8\u5316\u7684 ref\uFF0C\u4F46\u4E0D\u4F1A\u4F7F\u5176\u503C\u4E5F\u53D8\u6210\u54CD\u5E94\u5F0F\u7684\u3002<br> \u8FD9\u53E5\u8BDD\u600E\u4E48\u7406\u89E3\u5462\uFF1F\u5C31\u662F\u6211\u4EEC\u4F7F\u7528shallowRef\u521B\u5EFA\u51FA\u6765\u7684\u6570\u636E\u4E0D\u662F\u54CD\u5E94\u5F0F\u7684\uFF0C\u4E5F\u5C31\u662F\u6211\u4EEC\u7684\u4FEE\u6539\u9875\u9762\u5E76\u4E0D\u4F1A\u91CD\u65B0\u6E32\u67D3\u3002\u4F46\u662F\u6211\u4EEC\u76F4\u63A5\u4FEE\u6539\u6570\u636E.value\u662F\u4F1A\u54CD\u5E94\u5F0F\u7684\u3002<br> \u4E0B\u9762\u6211\u4EEC\u6765\u770B\u4F8B\u5B50\u3002<br></p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> sRef1 <span class="token operator">=</span> <span class="token function">shallowRef</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;shallowRef:&quot;</span><span class="token punctuation">,</span> sRef1<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 0</span>

<span class="token comment">// \u5047\u8BBE\u70B9\u51FB\u9875\u9762\u6309\u94AE\uFF0C\u89E6\u53D1\u8BE5\u65B9\u6CD5</span>
<span class="token keyword">const</span> <span class="token function-variable function">changeShallowRef1</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// \u76F4\u63A5\u4FEE\u6539value\uFF0C\u9875\u9762\u4F1A\u540C\u6B65\u4FEE\u6539\uFF0C\u4E5F\u5C31\u662F\u4F1A\u54CD\u5E94\u5F0F</span>
  sRef1<span class="token punctuation">.</span>value<span class="token operator">++</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> sRef2 <span class="token operator">=</span> <span class="token function">shallowRef</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;demi1&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// \u5047\u8BBE\u70B9\u51FB\u9875\u9762\u6309\u94AE\uFF0C\u89E6\u53D1\u8BE5\u65B9\u6CD5</span>
<span class="token keyword">const</span> <span class="token function-variable function">changeShallowRef2</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// \u4E0D\u76F4\u63A5\u4FEE\u6539value\uFF0C\u800C\u662F\u4FEE\u6539\u5C5E\u6027\u503C</span>
  sRef2<span class="token punctuation">.</span>value<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">&quot;randy&quot;</span><span class="token punctuation">;</span>
  sRef2<span class="token punctuation">.</span>value<span class="token punctuation">.</span>address <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">city</span><span class="token operator">:</span> <span class="token string">&quot;\u6C68\u7F57&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">// \u6DFB\u52A0\u65B0\u5C5E\u6027</span>
  <span class="token comment">// \u8FD9\u91CC\u6570\u636E\u867D\u7136\u6539\u53D8\u4E86\uFF0C\u4F46\u662F\u9875\u9762\u4E0D\u4F1A\u66F4\u65B0\uFF0C\u4E5F\u5C31\u662F\u8BF4\u4E0D\u4F1A\u54CD\u5E94\u5F0F</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>sRef2<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// {address: {city: &#39;\u6C68\u7F57&#39;}, name: &quot;randy&quot;}</span>
  
  <span class="token comment">// \u4F46\u662F\u6211\u4EEC\u76F4\u63A5\u91CD\u65B0\u8D4B\u503C\uFF0C\u9875\u9762\u4F1A\u7ACB\u9A6C\u91CD\u65B0\u6E32\u67D3</span>
  sRef2<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;randy&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">address</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token literal-property property">city</span><span class="token operator">:</span> <span class="token string">&#39;\u6C68\u7F57&#39;</span><span class="token punctuation">}</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// \u5047\u8BBE\u70B9\u51FB\u9875\u9762\u6309\u94AE\uFF0C\u89E6\u53D1\u8BE5\u65B9\u6CD5</span>
<span class="token keyword">const</span> <span class="token function-variable function">changeShallowRef3</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// \u4F46\u662F\u6211\u4EEC\u76F4\u63A5\u91CD\u65B0\u8D4B\u503C\uFF0C\u9875\u9762\u4F1A\u7ACB\u9A6C\u91CD\u65B0\u6E32\u67D3</span>
  sRef2<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;randy&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">address</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token literal-property property">city</span><span class="token operator">:</span> <span class="token string">&#39;\u6C68\u7F57&#39;</span><span class="token punctuation">}</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u901A\u8FC7\u4E0A\u9762\u7684\u4F8B\u5B50\u6211\u4EEC\u53EF\u4EE5\u53D1\u73B0\uFF0C\u5F53\u54CD\u5E94\u5F0F\u6570\u636E\u662F\u57FA\u672C\u6570\u636E\u7C7B\u578B\u7684\u65F6\u5019ref\u548CshallowRef\u6CA1\u6709\u5DEE\u522B\u3002\u4F46\u662F\u5982\u679C\u6570\u636E\u662F\u5F15\u7528\u6570\u636E\u7C7B\u578B\u7684\u8BDDref\u7684\u6570\u636E\u662F\u54CD\u5E94\u5F0F\u7684\u800CshallowRef\u4E0D\u662F\uFF0CshallowRef\u9700\u8981\u7ED9value\u91CD\u65B0\u8D4B\u503C\u624D\u4F1A\u89E6\u53D1\u54CD\u5E94\u5F0F\u3002</p><h3 id="reactive\u548Cisreactive" tabindex="-1"><a class="header-anchor" href="#reactive\u548Cisreactive" aria-hidden="true">#</a> reactive\u548CisReactive</h3><div class="custom-container tip"><p class="custom-container-title"></p><p>reactive\u7528\u6765\u5B9A\u4E49\u5F15\u7528\u7C7B\u578B\u7684\u54CD\u5E94\u5F0F\u6570\u636E\u3002\u6CE8\u610F\uFF0C\u4E0D\u80FD\u7528\u6765\u5B9A\u4E49\u57FA\u672C\u6570\u636E\u7C7B\u578B\u7684\u54CD\u5E94\u5F0F\u6570\u636E\uFF0C\u4E0D\u7136\u4F1A\u62A5\u9519\u3002<br> reactive\u5B9A\u4E49\u7684\u5BF9\u8C61\u662F\u4E0D\u80FD\u76F4\u63A5\u4F7F\u7528es6\u8BED\u6CD5\u89E3\u6784\u7684\uFF0C\u4E0D\u7136\u5C31\u4F1A\u5931\u53BB\u5B83\u7684\u54CD\u5E94\u5F0F\uFF0C\u5982\u679C\u786C\u8981\u89E3\u6784\u9700\u8981\u4F7F\u7528toRefs()\u65B9\u6CD5\u3002<br> isReactive\u7528\u6765\u68C0\u67E5\u5BF9\u8C61\u662F\u5426\u662F\u7531\xA0reactive \u521B\u5EFA\u7684\u54CD\u5E94\u5F0F\u4EE3\u7406\u3002<br></p></div><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span>user2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>user2: {{ user2.name }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>updateUser2Name<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>update user2 name<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span>user3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>user3 name: {{ name }} user3 age: {{ age }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>updateUser3Name<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>update user3 name<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span>count2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>count2: {{ count2 }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>plus2<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>plus2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>decrease2<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>decrease2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> defineComponent<span class="token punctuation">,</span> reactive<span class="token punctuation">,</span> toRefs<span class="token punctuation">,</span> isReactive <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineComponent</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> _user <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;randy2&quot;</span> <span class="token punctuation">}</span>
    <span class="token keyword">const</span> user2 <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span>_user<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> <span class="token function-variable function">updateUser2Name</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token comment">// reactive\u5B9A\u4E49\u7684\u53D8\u91CF\u53EF\u4EE5\u76F4\u63A5\u4FEE\u6539</span>
      user2<span class="token punctuation">.</span>name <span class="token operator">+=</span> <span class="token string">&quot;!&quot;</span><span class="token punctuation">;</span>
      
      <span class="token comment">// \u539F\u59CB\u5BF9\u8C61\u7684\u4FEE\u6539\u5E76\u4E0D\u4F1A\u54CD\u5E94\u5F0F\uFF0C\u4E5F\u5C31\u662F\u9875\u9762\u5E76\u4E0D\u4F1A\u91CD\u65B0\u6E32\u67D3</span>
      <span class="token comment">// _user.name += &quot;!&quot;;</span>
      <span class="token comment">// \u4EE3\u7406\u5BF9\u8C61\u88AB\u6539\u53D8\u7684\u65F6\u5019\uFF0C\u539F\u59CB\u5BF9\u8C61\u4F1A\u88AB\u4FEE\u6539</span>
      <span class="token comment">// console.log(_user);</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    
    <span class="token comment">// \u4F7F\u7528toRefs\u53EF\u4EE5\u54CD\u5E94\u5F0F\u89E3\u6784\u51FA\u6765\uFF0C\u5728\u6A21\u677F\u80FD\u76F4\u63A5\u4F7F\u7528\u5566\u3002</span>
    <span class="token keyword">const</span> user3 <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;randy3&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">24</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> <span class="token function-variable function">updateUser3Name</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      user3<span class="token punctuation">.</span>name <span class="token operator">+=</span> <span class="token string">&quot;!&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token comment">// \u4F7F\u7528reactive\u5B9A\u4E49\u57FA\u672C\u6570\u636E\u7C7B\u578B\u4F1A\u62A5\u9519</span>
    <span class="token keyword">const</span> count2 <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">const</span> <span class="token function-variable function">plus2</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      count2<span class="token punctuation">.</span>value<span class="token operator">++</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> <span class="token function-variable function">decrease2</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      count2<span class="token punctuation">.</span>value<span class="token operator">--</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    
    <span class="token comment">// \u68C0\u67E5\u5BF9\u8C61\u662F\u5426\u662F\u7531 reactive \u521B\u5EFA\u7684\u54CD\u5E94\u5F0F\u4EE3\u7406\u3002</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">isReactive</span><span class="token punctuation">(</span>user2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">isReactive</span><span class="token punctuation">(</span>count2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>

    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      user2<span class="token punctuation">,</span>
      updateUser2Name<span class="token punctuation">,</span>
      <span class="token comment">// ...user3, // \u76F4\u63A5\u89E3\u6784\u4E0D\u4F1A\u6709\u54CD\u5E94\u5F0F</span>
      <span class="token operator">...</span><span class="token function">toRefs</span><span class="token punctuation">(</span>user3<span class="token punctuation">)</span><span class="token punctuation">,</span>
      updateUser3Name<span class="token punctuation">,</span>
      count2<span class="token punctuation">,</span>
      plus2<span class="token punctuation">,</span>
      decrease2<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>reactive \u5C06\u89E3\u5305\u6240\u6709\u6DF1\u5C42\u7684 refs\uFF0C\u540C\u65F6\u7EF4\u6301 ref \u7684\u54CD\u5E94\u6027\u3002</p><p>\u600E\u4E48\u7406\u89E3\u8FD9\u53E5\u8BDD\u5462\uFF0C\u5C31\u662F\u4F7F\u7528reactive\u5B9A\u4E49\u54CD\u5E94\u5F0F\u5BF9\u8C61\uFF0C\u91CC\u9762\u7684\u5C5E\u6027\u662Fref\u5B9A\u4E49\u7684\u8BDD\u53EF\u4EE5\u76F4\u63A5\u8D4B\u503C\u800C\u4E0D\u9700\u8981\u518D.value\uFF0C\u5E76\u4E14\u6570\u636E\u7684\u4FEE\u6539\u662F\u54CD\u5E94\u5F0F\u7684\u3002</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> count <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token comment">// \u53EF\u4EE5\u76F4\u63A5\u5B9A\u4E49\uFF0C\u800C\u4E0D\u662F{count: count.value}</span>
<span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">{</span> count <span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// \u8FD9\u79CD\u5199\u6CD5\u4E5F\u662F\u652F\u6301\u7684</span>
<span class="token comment">// const obj = reactive({})</span>
<span class="token comment">// obj.count = count</span>

<span class="token comment">// ref \u4F1A\u88AB\u89E3\u5305</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>count <span class="token operator">===</span> count<span class="token punctuation">.</span>value<span class="token punctuation">)</span> <span class="token comment">// true</span>

<span class="token comment">// \u5B83\u4F1A\u66F4\u65B0 \`obj.count\`</span>
count<span class="token punctuation">.</span>value<span class="token operator">++</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>count<span class="token punctuation">.</span>value<span class="token punctuation">)</span> <span class="token comment">// 2</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>count<span class="token punctuation">)</span> <span class="token comment">// 2</span>

<span class="token comment">// \u5B83\u4E5F\u4F1A\u66F4\u65B0 \`count\` ref</span>
obj<span class="token punctuation">.</span>count<span class="token operator">++</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>count<span class="token punctuation">)</span> <span class="token comment">// 3</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>count<span class="token punctuation">.</span>value<span class="token punctuation">)</span> <span class="token comment">// 3</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="shallowreactive" tabindex="-1"><a class="header-anchor" href="#shallowreactive" aria-hidden="true">#</a> shallowReactive</h3><p>\u6D45\u54CD\u5E94\u5F0F\uFF0C\u521B\u5EFA\u4E00\u4E2A\u54CD\u5E94\u5F0F\u4EE3\u7406\uFF0C\u5B83\u8DDF\u8E2A\u5176\u81EA\u8EAB property \u7684\u54CD\u5E94\u6027\uFF0C\u4F46\u4E0D\u6267\u884C\u5D4C\u5957\u5BF9\u8C61\u7684\u6DF1\u5C42\u54CD\u5E94\u5F0F\u8F6C\u6362 (\u66B4\u9732\u539F\u59CB\u503C)\u3002<br> \u5E76\u4E14\u4E0E\xA0reactive\u4E0D\u540C\uFF0C\u4EFB\u4F55\u4F7F\u7528\xA0ref\xA0\u7684 property \u90FD\u4E0D\u4F1A\u88AB\u4EE3\u7406\u81EA\u52A8\u89E3\u5305\u3002<br> \u7B80\u5355\u7406\u89E3\u5C31\u662F\u54CD\u5E94\u5F0F\u53EA\u4F1A\u5728\u7B2C\u4E00\u5C42\uFF0C\u4E0D\u4F1A\u6DF1\u5C42\u54CD\u5E94\u5F0F\u3002\u7C7B\u4F3C\u4E8E\u6D45\u62F7\u8D1D\u3002</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> user1 <span class="token operator">=</span> <span class="token function">shallowReactive</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;demi1&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">address</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">city</span><span class="token operator">:</span> <span class="token string">&quot;\u6C68\u7F57&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">count</span><span class="token operator">:</span> <span class="token number">10</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// \u5047\u8BBE\u70B9\u51FB\u9875\u9762\u6309\u94AE\uFF0C\u89E6\u53D1\u8BE5\u65B9\u6CD5</span>
<span class="token keyword">const</span> <span class="token function-variable function">changeUser1</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// \u54CD\u5E94\u5F0F\uFF0C\u9875\u9762\u4F1A\u53D1\u751F\u53D8\u5316</span>
  user1<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">&quot;demi1 !!!&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// \u5047\u8BBE\u70B9\u51FB\u9875\u9762\u6309\u94AE\uFF0C\u89E6\u53D1\u8BE5\u65B9\u6CD5</span>
<span class="token keyword">const</span> <span class="token function-variable function">changeUser2</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// \u975E\u54CD\u5E94\u5F0F\uFF0C\u4E5F\u5C31\u662F\u9875\u9762\u4E0D\u4F1A\u53D1\u751F\u53D8\u5316</span>
  user1<span class="token punctuation">.</span>address<span class="token punctuation">.</span>city <span class="token operator">=</span> <span class="token string">&quot;\u5CB3\u9633&quot;</span><span class="token punctuation">;</span>
  user1<span class="token punctuation">.</span>address<span class="token punctuation">.</span>count<span class="token operator">++</span><span class="token punctuation">;</span>
  <span class="token comment">// \u8FD9\u91CC\u6570\u636E\u867D\u7136\u6539\u53D8\u4E86\uFF0C\u4F46\u662F\u9875\u9762\u4E0D\u4F1A\u66F4\u65B0\uFF0C\u4E5F\u5C31\u662F\u8BF4\u4E0D\u4F1A\u54CD\u5E94\u5F0F</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>user1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// {address: {city: &#39;\u5CB3\u9633&#39;, count: 11}, name: &quot;demi1 !!!&quot;}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">isReactive</span><span class="token punctuation">(</span>user1<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">isReactive</span><span class="token punctuation">(</span>user1<span class="token punctuation">.</span>address<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="readonly\u548Cisreadonly" tabindex="-1"><a class="header-anchor" href="#readonly\u548Cisreadonly" aria-hidden="true">#</a> readonly\u548CisReadonly</h3><p>\u63A5\u53D7\u4E00\u4E2A\u5BF9\u8C61 (\u54CD\u5E94\u5F0F\u6216\u7EAF\u5BF9\u8C61) \u6216\xA0ref\u6570\u636E\xA0\u5E76\u8FD4\u56DE\u539F\u59CB\u5BF9\u8C61\u7684\u53EA\u8BFB\u4EE3\u7406\u3002\u53EA\u8BFB\u4EE3\u7406\u662F\u6DF1\u5C42\u7684\uFF1A\u4EFB\u4F55\u88AB\u8BBF\u95EE\u7684\u5D4C\u5957 property \u4E5F\u662F\u53EA\u8BFB\u7684\u3002<br> \u600E\u4E48\u7406\u89E3\u8FD9\u53E5\u8BDD\u5462\uFF0C\u5C31\u662F\u8BF4\u53EA\u8981\u662F\u5BF9\u8C61\u4E0D\u7BA1\u662F\u666E\u901A\u5BF9\u8C61\u8FD8\u662Freactive\u5B9A\u4E49\u7684\u5BF9\u8C61\u6216\u8005\u662Fref\u5B9A\u4E49\u7684\u6570\u636E\uFF0C\u5B9A\u4E49\u6210readonly\u540E\u5C31\u4E0D\u80FD\u88AB\u4FEE\u6539\u4E86\u3002<br> \u8FD9\u91CC\u9700\u8981\u7279\u522B\u6CE8\u610F\uFF0C\u662Freadonly\u8FD4\u56DE\u7684\u5BF9\u8C61\u53D8\u6210\u53EA\u8BFB\uFF0C\u6E90\u5BF9\u8C61\u4E0D\u4F1A\u53D7\u5230\u5F71\u54CD\uFF0C\u6240\u4EE5\u4FEE\u6539\u6E90\u5BF9\u8C61\u8FD8\u662F\u53EF\u4EE5\u7684\u3002</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>isReadonly\u7528\u6765\u68C0\u67E5\u5BF9\u8C61\u662F\u5426\u662F\u7531 readonly \u521B\u5EFA\u7684\u53EA\u8BFB\u4EE3\u7406\u3002
<span class="token comment">// ref\u5B9A\u4E49\u7684\u6570\u636E\u4F1A\u88AB\u9650\u5236\uFF0C\u4E0D\u80FD\u88AB\u4FEE\u6539</span>
<span class="token keyword">let</span> name1 <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token string">&quot;readonly randy&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// readOnlyName1\u624D\u662F\u53EA\u8BFB\u7684</span>
<span class="token keyword">let</span> readOnlyName1 <span class="token operator">=</span> <span class="token function">readonly</span><span class="token punctuation">(</span>name1<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token function-variable function">changeName1</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  readOnlyName1<span class="token punctuation">.</span>value <span class="token operator">+=</span> <span class="token string">&quot;!&quot;</span><span class="token punctuation">;</span>
  <span class="token comment">// \u8FD9\u91CC\u76F4\u63A5\u4FEE\u6539\u6E90\u5BF9\u8C61\u8FD8\u662F\u53EF\u4EE5\u7684</span>
  <span class="token comment">// name1.value += &quot;!&quot;;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// \u57FA\u672C\u6570\u636E\u7C7B\u578B\u6570\u636E\u4F1A\u65E0\u6548\uFF0C\u80FD\u88AB\u4FEE\u6539</span>
<span class="token keyword">let</span> readOnlyName2 <span class="token operator">=</span> <span class="token function">readonly</span><span class="token punctuation">(</span><span class="token string">&quot;readonly randy&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
readOnlyName2 <span class="token operator">=</span> <span class="token string">&quot;randy&quot;</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>readOnlyName2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// randy</span>

<span class="token comment">// reactive\u5B9A\u4E49\u7684\u5BF9\u8C61\u4F1A\u88AB\u9650\u5236\uFF0C\u4E0D\u80FD\u88AB\u4FEE\u6539</span>
<span class="token keyword">const</span> reactiveUser1 <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;readonly randy&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> readonlyUser1 <span class="token operator">=</span> <span class="token function">readonly</span><span class="token punctuation">(</span>reactiveUser1<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token function-variable function">changeUserName1</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  readonlyUser1<span class="token punctuation">.</span>name <span class="token operator">+=</span> <span class="token string">&quot;!&quot;</span><span class="token punctuation">;</span>
  <span class="token comment">// \u8FD9\u91CC\u76F4\u63A5\u4FEE\u6539\u6E90\u5BF9\u8C61\u8FD8\u662F\u53EF\u4EE5\u7684</span>
  <span class="token comment">// reactiveUser1.name += &quot;!&quot;;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// \u666E\u901A\u5BF9\u8C61\u4E5F\u4F1A\u88AB\u9650\u5236\uFF0C\u4E0D\u80FD\u88AB\u4FEE\u6539</span>
<span class="token keyword">let</span> readonlyUser2 <span class="token operator">=</span> <span class="token function">readonly</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;readonly randy&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
readonlyUser2<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">&quot;randy&quot;</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>readonlyUser2<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// readonly randy</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">isReadonly</span><span class="token punctuation">(</span>readOnlyName1<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">isReadonly</span><span class="token punctuation">(</span>readOnlyName2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">isReadonly</span><span class="token punctuation">(</span>readonlyUser1<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">isReadonly</span><span class="token punctuation">(</span>readonlyUser2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>

<span class="token comment">// \u4E0E reactive \u4E00\u6837\uFF0C\u5982\u679C\u4EFB\u4F55 property \u4F7F\u7528\u4E86 ref\uFF0C\u5F53\u5B83\u901A\u8FC7\u4EE3\u7406\u8BBF\u95EE\u65F6\uFF0C\u5219\u88AB\u81EA\u52A8\u89E3\u5305\u3002</span>
<span class="token keyword">const</span> raw <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">count</span><span class="token operator">:</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// \u8FD9\u91CC\u5C31\u7C7B\u4F3Cconst copy = reactive(raw)</span>
<span class="token keyword">const</span> copy <span class="token operator">=</span> <span class="token function">readonly</span><span class="token punctuation">(</span>raw<span class="token punctuation">)</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>raw<span class="token punctuation">.</span>count<span class="token punctuation">.</span>value<span class="token punctuation">)</span> <span class="token comment">// 123</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>copy<span class="token punctuation">.</span>count<span class="token punctuation">)</span> <span class="token comment">// 123</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="shallowreadonly" tabindex="-1"><a class="header-anchor" href="#shallowreadonly" aria-hidden="true">#</a> shallowReadonly</h3><p>\u6D45\u53EA\u8BFB\uFF0C\u521B\u5EFA\u4E00\u4E2A proxy\uFF0C\u4F7F\u5176\u81EA\u8EAB\u7684 property \u4E3A\u53EA\u8BFB\uFF0C\u4F46\u4E0D\u6267\u884C\u5D4C\u5957\u5BF9\u8C61\u7684\u6DF1\u5EA6\u53EA\u8BFB\u8F6C\u6362 (\u66B4\u9732\u539F\u59CB\u503C)\u3002<br> \u5E76\u4E14\u4E0E\xA0readonly\u4E0D\u540C\uFF0C\u4EFB\u4F55\u4F7F\u7528\xA0ref\xA0\u7684 property \u90FD\u4E0D\u4F1A\u88AB\u4EE3\u7406\u81EA\u52A8\u89E3\u5305\u3002<br> \u7B80\u5355\u7406\u89E3\u5C31\u662F\u53EA\u8BFB\u7684\u9650\u5236\u53EA\u4F1A\u5728\u7B2C\u4E00\u5C42\uFF0C\u4E0D\u4F1A\u6DF1\u5C42\u53EA\u8BFB\u3002\u7C7B\u4F3C\u4E8E\u6D45\u62F7\u8D1D\u3002</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> user2 <span class="token operator">=</span> <span class="token function">shallowReadonly</span><span class="token punctuation">(</span>
  <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;demi2&quot;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">address</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">city</span><span class="token operator">:</span> <span class="token string">&quot;\u6C68\u7F572&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">count</span><span class="token operator">:</span> <span class="token number">10</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">isReadonly</span><span class="token punctuation">(</span>user2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">isReadonly</span><span class="token punctuation">(</span>user2<span class="token punctuation">.</span>address<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
<span class="token keyword">const</span> <span class="token function-variable function">changeUser2</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// \u54CD\u5E94\u5F0F\uFF0C\u9875\u9762\u4F1A\u540C\u6B65\u4FEE\u6539</span>
  user2<span class="token punctuation">.</span>address<span class="token punctuation">.</span>city <span class="token operator">=</span> <span class="token string">&quot;\u5CB3\u9633&quot;</span><span class="token punctuation">;</span>
  user2<span class="token punctuation">.</span>address<span class="token punctuation">.</span>count<span class="token operator">++</span><span class="token punctuation">;</span>
  
  <span class="token comment">// \u975E\u54CD\u5E94\u5F0F\uFF0C\u4E5F\u5C31\u662F\u9875\u9762\u4E0D\u4F1A\u91CD\u65B0\u6E32\u67D3\u8BE5\u503C</span>
  user2<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">&quot;demi1 !!!&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="isproxy" tabindex="-1"><a class="header-anchor" href="#isproxy" aria-hidden="true">#</a> isProxy</h3><p>\u68C0\u67E5\u5BF9\u8C61\u662F\u5426\u662F\u7531\xA0reactive\u6216\xA0readonly\xA0\u521B\u5EFA\u7684 proxy\u3002</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// ref\u5B9A\u4E49\u7684\u6240\u4EE5\u8FD4\u56DEfalse</span>
<span class="token keyword">let</span> name1 <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token string">&quot;readonly randy&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// ref\u662F\u5BF9\u8C61\uFF0C\u6240\u4EE5\u8FD4\u56DEtrue</span>
<span class="token keyword">let</span> readOnlyName1 <span class="token operator">=</span> <span class="token function">readonly</span><span class="token punctuation">(</span>name1<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// readonly\u5931\u8D25\u8FD4\u56DEfalse</span>
<span class="token keyword">let</span> readOnlyName2 <span class="token operator">=</span> <span class="token function">readonly</span><span class="token punctuation">(</span><span class="token string">&quot;readonly randy&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> reactiveUser1 <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;readonly randy&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> readonlyUser1 <span class="token operator">=</span> <span class="token function">readonly</span><span class="token punctuation">(</span>reactiveUser1<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> readonlyUser2 <span class="token operator">=</span> <span class="token function">readonly</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;readonly randy&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// \u68C0\u67E5\u5BF9\u8C61\u662F\u5426\u662F\u7531 reactive \u6216 readonly \u521B\u5EFA\u7684 proxy\u3002</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">isProxy</span><span class="token punctuation">(</span>name1<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">isProxy</span><span class="token punctuation">(</span>readOnlyName1<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">isProxy</span><span class="token punctuation">(</span>readOnlyName2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">isProxy</span><span class="token punctuation">(</span>reactiveUser1<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">isProxy</span><span class="token punctuation">(</span>readonlyUser2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u4E0A\u9762\u7684\u4F8B\u5B50\u6709\u4E9B\u5C0F\u4F19\u4F34\u770B\u4E86\u4F1A\u6BD4\u8F83\u61F5\u903C\uFF0C\u4E3A\u4EC0\u4E48readonly\u6709\u4E9B\u662Ftrue\u6709\u4E9B\u53C8\u662Ffalse\u5462\uFF1F\u5176\u5B9E\u4F60\u5F04\u61C2\u4E86readonly\u5C31\u5927\u6982\u4F1A\u6E05\u695A\u4E86\u3002readonly\u662F\u4E0D\u80FD\u5904\u7406\u57FA\u672C\u6570\u636E\u7C7B\u578B\u7684\uFF0C\u6240\u4EE5readonly\u4E0D\u6210\u529F\u5C31\u4F1A\u8FD4\u56DEfalse</p><h3 id="toraw" tabindex="-1"><a class="header-anchor" href="#toraw" aria-hidden="true">#</a> toRaw</h3><p>\u8FD4\u56DE\xA0reactive \u6216\xA0readonly\u4EE3\u7406\u7684\u539F\u59CB\u5BF9\u8C61\u3002\u8FD9\u662F\u4E00\u4E2A\u201C\u9003\u751F\u8231\u201D\uFF0C\u53EF\u7528\u4E8E\u4E34\u65F6\u8BFB\u53D6\u6570\u636E\u800C\u65E0\u9700\u627F\u62C5\u4EE3\u7406\u8BBF\u95EE/\u8DDF\u8E2A\u7684\u5F00\u9500\uFF0C\u4E5F\u53EF\u7528\u4E8E\u5199\u5165\u6570\u636E\u800C\u907F\u514D\u89E6\u53D1\u66F4\u6539\u3002\u4E0D\u5EFA\u8BAE\u4FDD\u7559\u5BF9\u539F\u59CB\u5BF9\u8C61\u7684\u6301\u4E45\u5F15\u7528\u3002\u8BF7\u8C28\u614E\u4F7F\u7528\u3002</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> foo <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">const</span> reactiveFoo <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span>foo<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">toRaw</span><span class="token punctuation">(</span>reactiveFoo<span class="token punctuation">)</span> <span class="token operator">===</span> foo<span class="token punctuation">)</span> <span class="token comment">// true</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="markraw" tabindex="-1"><a class="header-anchor" href="#markraw" aria-hidden="true">#</a> markRaw</h3><p>\u6807\u8BB0\u4E00\u4E2A\u5BF9\u8C61\uFF0C\u4F7F\u5176\u6C38\u8FDC\u4E0D\u4F1A\u8F6C\u6362\u4E3A proxy\u3002\u8FD4\u56DE\u5BF9\u8C61\u672C\u8EAB\u3002<br> \u56E0\u4E3A\u4E0D\u4F1A\u88ABproxy\uFF0C\u4E5F\u5C31\u662F\u8BF4\u4E0D\u4F1A\u54CD\u5E94\u5F0F\uFF0C\u76F8\u5F53\u4E8E\u4E00\u4E2A\u666E\u901A\u503C\u3002</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> info <span class="token operator">=</span> <span class="token function">markRaw</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">sex</span><span class="token operator">:</span> <span class="token string">&quot;male&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">isReactive</span><span class="token punctuation">(</span><span class="token function">reactive</span><span class="token punctuation">(</span>info<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
<span class="token keyword">const</span> user3 <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;randy&quot;</span><span class="token punctuation">,</span> info <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token function-variable function">changeUser3</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  user3<span class="token punctuation">.</span>info<span class="token punctuation">.</span>sex <span class="token operator">=</span> <span class="token string">&quot;female&quot;</span><span class="token punctuation">;</span>
  <span class="token comment">// \u8FD9\u91CC\u6570\u636E\u867D\u7136\u53D8\u4E86\uFF0C\u4F46\u662F\u9875\u9762\u5E76\u4E0D\u4F1A\u91CD\u65B0\u6E32\u67D3\uFF0C\u4E5F\u5C31\u662F\u8BF4\u4E0D\u4F1A\u54CD\u5E94\u5F0F</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>user3<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// {info: {sex: &#39;female&#39;}, name: &quot;randy&quot;}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="unref" tabindex="-1"><a class="header-anchor" href="#unref" aria-hidden="true">#</a> unref</h3><p>\u5982\u679C\u53C2\u6570\u662F\u4E00\u4E2A\xA0ref\uFF0C\u5219\u8FD4\u56DE\u5185\u90E8\u503C\uFF0C\u5426\u5219\u8FD4\u56DE\u53C2\u6570\u672C\u8EAB\u3002\u8FD9\u662F\xA0val = isRef(val) ? val.value : val\xA0\u7684\u8BED\u6CD5\u7CD6\u51FD\u6570\u3002</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> user1 <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;randy1&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;unref: &quot;</span><span class="token punctuation">,</span> <span class="token function">unref</span><span class="token punctuation">(</span>user1<span class="token punctuation">)</span><span class="token punctuation">,</span> user1<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="toref" tabindex="-1"><a class="header-anchor" href="#toref" aria-hidden="true">#</a> toRef</h3><p>\u53EF\u4EE5\u7528\u6765\u4E3A\u6E90\u54CD\u5E94\u5F0F\u5BF9\u8C61\u4E0A\u7684\u67D0\u4E2A property \u65B0\u521B\u5EFA\u4E00\u4E2A\xA0ref\u3002\u7136\u540E\uFF0Cref \u53EF\u4EE5\u88AB\u4F20\u9012\uFF0C\u5B83\u4F1A\u4FDD\u6301\u5BF9\u5176\u6E90 property \u7684\u54CD\u5E94\u5F0F\u8FDE\u63A5\u3002</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> state <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">foo</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token literal-property property">bar</span><span class="token operator">:</span> <span class="token number">2</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> fooRef <span class="token operator">=</span> <span class="token function">toRef</span><span class="token punctuation">(</span>state<span class="token punctuation">,</span> <span class="token string">&#39;foo&#39;</span><span class="token punctuation">)</span>
fooRef<span class="token punctuation">.</span>value<span class="token operator">++</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>state<span class="token punctuation">.</span>foo<span class="token punctuation">)</span> <span class="token comment">// 2</span>
state<span class="token punctuation">.</span>foo<span class="token operator">++</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>fooRef<span class="token punctuation">.</span>value<span class="token punctuation">)</span> <span class="token comment">// 3</span>
<span class="token comment">// \u5F53\u4F60\u8981\u5C06 prop \u7684 ref \u4F20\u9012\u7ED9\u590D\u5408\u51FD\u6570\u65F6\uFF0CtoRef \u5F88\u6709\u7528\uFF1A</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">useSomeFeature</span><span class="token punctuation">(</span><span class="token function">toRef</span><span class="token punctuation">(</span>props<span class="token punctuation">,</span> <span class="token string">&#39;foo&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u5373\u4F7F\u6E90 property \u4E0D\u5B58\u5728\uFF0CtoRef\xA0\u4E5F\u4F1A\u8FD4\u56DE\u4E00\u4E2A\u53EF\u7528\u7684 ref\u3002\u8FD9\u4F7F\u5F97\u5B83\u5728\u4F7F\u7528\u53EF\u9009 prop \u65F6\u7279\u522B\u6709\u7528\uFF0C\u53EF\u9009 prop \u5E76\u4E0D\u4F1A\u88AB\xA0toRefs\xA0\u5904\u7406\u3002 toRefs \u5C06\u54CD\u5E94\u5F0F\u5BF9\u8C61\u8F6C\u6362\u4E3A\u666E\u901A\u5BF9\u8C61\uFF0C\u5176\u4E2D\u7ED3\u679C\u5BF9\u8C61\u7684\u6BCF\u4E2A property \u90FD\u662F\u6307\u5411\u539F\u59CB\u5BF9\u8C61\u76F8\u5E94 property \u7684\xA0ref\u3002</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> state <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">foo</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token literal-property property">bar</span><span class="token operator">:</span> <span class="token number">2</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> stateAsRefs <span class="token operator">=</span> <span class="token function">toRefs</span><span class="token punctuation">(</span>state<span class="token punctuation">)</span>
<span class="token comment">/*
stateAsRefs \u7684\u7C7B\u578B:

{
  foo: Ref&lt;number&gt;,
  bar: Ref&lt;number&gt;
}
*/</span>

<span class="token comment">// ref \u548C\u539F\u59CB property \u5DF2\u7ECF\u201C\u94FE\u63A5\u201D\u8D77\u6765\u4E86</span>
state<span class="token punctuation">.</span>foo<span class="token operator">++</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>stateAsRefs<span class="token punctuation">.</span>foo<span class="token punctuation">.</span>value<span class="token punctuation">)</span> <span class="token comment">// 2</span>
stateAsRefs<span class="token punctuation">.</span>foo<span class="token punctuation">.</span>value<span class="token operator">++</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>state<span class="token punctuation">.</span>foo<span class="token punctuation">)</span> <span class="token comment">// 3</span>

<span class="token comment">// \u5F53\u4ECE\u7EC4\u5408\u5F0F\u51FD\u6570\u8FD4\u56DE\u54CD\u5E94\u5F0F\u5BF9\u8C61\u65F6\uFF0CtoRefs \u975E\u5E38\u6709\u7528\uFF0C\u8FD9\u6837\u6D88\u8D39\u7EC4\u4EF6\u5C31\u53EF\u4EE5\u5728\u4E0D\u4E22\u5931\u54CD\u5E94\u6027\u7684\u60C5\u51B5\u4E0B\u5BF9\u8FD4\u56DE\u7684\u5BF9\u8C61\u8FDB\u884C\u89E3\u6784/\u5C55\u5F00\uFF1A</span>
<span class="token keyword">function</span> <span class="token function">useFeatureX</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> state <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">foo</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token literal-property property">bar</span><span class="token operator">:</span> <span class="token number">2</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token comment">// \u64CD\u4F5C state \u7684\u903B\u8F91</span>
  <span class="token comment">// \u8FD4\u56DE\u65F6\u8F6C\u6362\u4E3Aref</span>
  <span class="token keyword">return</span> <span class="token function">toRefs</span><span class="token punctuation">(</span>state<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u53EF\u4EE5\u5728\u4E0D\u5931\u53BB\u54CD\u5E94\u6027\u7684\u60C5\u51B5\u4E0B\u89E3\u6784</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> foo<span class="token punctuation">,</span> bar <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useFeatureX</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      foo<span class="token punctuation">,</span>
      bar
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>toRefs\xA0\u53EA\u4F1A\u4E3A\u6E90\u5BF9\u8C61\u4E2D\u5305\u542B\u7684 property \u751F\u6210 ref\u3002\u5982\u679C\u8981\u4E3A\u7279\u5B9A\u7684 property \u521B\u5EFA ref\uFF0C\u5219\u5E94\u5F53\u4F7F\u7528\xA0toRef\u3002</p><h3 id="customref" tabindex="-1"><a class="header-anchor" href="#customref" aria-hidden="true">#</a> customRef</h3><p>\u521B\u5EFA\u4E00\u4E2A\u81EA\u5B9A\u4E49\u7684 ref\uFF0C\u5E76\u5BF9\u5176\u4F9D\u8D56\u9879\u8DDF\u8E2A\u548C\u66F4\u65B0\u89E6\u53D1\u8FDB\u884C\u663E\u5F0F\u63A7\u5236\u3002\u5B83\u9700\u8981\u4E00\u4E2A\u5DE5\u5382\u51FD\u6570\uFF0C\u8BE5\u51FD\u6570\u63A5\u6536\xA0track\xA0\u548C\xA0trigger\xA0\u51FD\u6570\u4F5C\u4E3A\u53C2\u6570\uFF0C\u5E76\u4E14\u5E94\u8BE5\u8FD4\u56DE\u4E00\u4E2A\u5E26\u6709\xA0get\xA0\u548C\xA0set\xA0\u7684\u5BF9\u8C61\u3002<br> \u8FD9\u4E2A\u5728\u6211\u4EEC\u81EA\u5B9A\u4E49\u54CD\u5E94\u5F0F\u7684\u65F6\u5019\u975E\u5E38\u6709\u7528\u3002\u6BD4\u5982\u6211\u4EEC\u5728\u83B7\u53D6\u3001\u8BBE\u7F6E\u503C\u7684\u65F6\u5019\u505A\u4E9B\u7279\u6B8A\u5904\u7406\u3002<br> \u8FD9\u4E2A\u5728vue2\u4E2D\u662F\u6CA1\u529E\u6CD5\u76F4\u63A5\u4FEE\u6539\u54CD\u5E94\u503C\u7684\u5B9E\u73B0\u7684\uFF0C\u4F46\u662F\u5728vue3\u53EF\u4EE5\u3002</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>customref<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>{{ text }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> defineComponent<span class="token punctuation">,</span> customRef <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineComponent</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token function-variable function">useDebouncedRef</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">value<span class="token punctuation">,</span> delay <span class="token operator">=</span> <span class="token number">2000</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">let</span> timeout<span class="token punctuation">;</span>
      <span class="token keyword">return</span> <span class="token function">customRef</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">track<span class="token punctuation">,</span> trigger</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">{</span>
          <span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">track</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> value<span class="token punctuation">;</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token function">set</span><span class="token punctuation">(</span>newValue<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">clearTimeout</span><span class="token punctuation">(</span>timeout<span class="token punctuation">)</span><span class="token punctuation">;</span>
            timeout <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
              value <span class="token operator">=</span> newValue<span class="token punctuation">;</span>
              <span class="token function">trigger</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span> delay<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">text</span><span class="token operator">:</span> <span class="token function">useDebouncedRef</span><span class="token punctuation">(</span><span class="token string">&quot;randy&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="triggerref" tabindex="-1"><a class="header-anchor" href="#triggerref" aria-hidden="true">#</a> triggerRef</h3><p>\u624B\u52A8\u6267\u884C\u4E0E\xA0shallowRef\xA0\u5173\u8054\u7684\u4EFB\u4F55\u4F5C\u7528 (effect)\u3002</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> shallow <span class="token operator">=</span> <span class="token function">shallowRef</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">greet</span><span class="token operator">:</span> <span class="token string">&#39;Hello, world&#39;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// \u7B2C\u4E00\u6B21\u8FD0\u884C\u65F6\u8F93\u51FA&quot;Hello, world&quot;</span>
<span class="token function">watchEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>shallow<span class="token punctuation">.</span>value<span class="token punctuation">.</span>greet<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// \u8FD9\u4E0D\u4F1A\u89E6\u53D1\u4F5C\u7528 (effect)\uFF0C\u56E0\u4E3A ref \u662F\u6D45\u5C42\u7684</span>
shallow<span class="token punctuation">.</span>value<span class="token punctuation">.</span>greet <span class="token operator">=</span> <span class="token string">&#39;Hello, universe&#39;</span>
<span class="token comment">// \u89E6\u53D1watchEffect \u8F93\u51FA&quot;Hello, universe&quot;</span>
<span class="token function">triggerRef</span><span class="token punctuation">(</span>shallow<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,52);function d(v,m){const s=u("router-link");return o(),c("div",null,[n("nav",r,[n("ul",null,[n("li",null,[a(s,{to:"#ref\u548Cisref"},{default:t(()=>[p("ref\u548CisRef")]),_:1})]),n("li",null,[a(s,{to:"#reactive\u548Cisreactive"},{default:t(()=>[p("reactive\u548CisReactive")]),_:1})]),n("li",null,[a(s,{to:"#shallowreactive"},{default:t(()=>[p("shallowReactive")]),_:1})]),n("li",null,[a(s,{to:"#readonly\u548Cisreadonly"},{default:t(()=>[p("readonly\u548CisReadonly")]),_:1})]),n("li",null,[a(s,{to:"#shallowreadonly"},{default:t(()=>[p("shallowReadonly")]),_:1})]),n("li",null,[a(s,{to:"#isproxy"},{default:t(()=>[p("isProxy")]),_:1})]),n("li",null,[a(s,{to:"#toraw"},{default:t(()=>[p("toRaw")]),_:1})]),n("li",null,[a(s,{to:"#markraw"},{default:t(()=>[p("markRaw")]),_:1})]),n("li",null,[a(s,{to:"#unref"},{default:t(()=>[p("unref")]),_:1})]),n("li",null,[a(s,{to:"#toref"},{default:t(()=>[p("toRef")]),_:1})]),n("li",null,[a(s,{to:"#customref"},{default:t(()=>[p("customRef")]),_:1})]),n("li",null,[a(s,{to:"#triggerref"},{default:t(()=>[p("triggerRef")]),_:1})])])]),k])}var g=e(i,[["render",d],["__file","reactiveApi.html.vue"]]);export{g as default};
